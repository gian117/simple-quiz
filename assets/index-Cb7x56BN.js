var bD=Object.defineProperty;var TD=(n,t,e)=>t in n?bD(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ct=(n,t,e)=>TD(n,typeof t!="symbol"?t+"":t,e);function xD(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function ED(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mg={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function SD(){if(e1)return Vu;e1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Vu.Fragment=t,Vu.jsx=e,Vu.jsxs=e,Vu}var n1;function AD(){return n1||(n1=1,mg.exports=SD()),mg.exports}var St=AD(),pg={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function wD(){if(i1)return Ot;i1=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function A(I,J,ot){this.props=I,this.context=J,this.refs=w,this.updater=ot||T}A.prototype.isReactComponent={},A.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},A.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=A.prototype;function P(I,J,ot){this.props=I,this.context=J,this.refs=w,this.updater=ot||T}var B=P.prototype=new D;B.constructor=P,S(B,A.prototype),B.isPureReactComponent=!0;var q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function V(I,J,ot,at,ft,bt){return ot=bt.ref,{$$typeof:n,type:I,key:J,ref:ot!==void 0?ot:null,props:bt}}function R(I,J){return V(I.type,J,void 0,void 0,void 0,I.props)}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function k(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ot){return J[ot]})}var z=/\/+/g;function U(I,J){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):J.toString(36)}function N(){}function Bt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(N,N):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function vt(I,J,ot,at,ft){var bt=typeof I;(bt==="undefined"||bt==="boolean")&&(I=null);var pt=!1;if(I===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(I.$$typeof){case n:case t:pt=!0;break;case p:return pt=I._init,vt(pt(I._payload),J,ot,at,ft)}}if(pt)return ft=ft(I),pt=at===""?"."+U(I,0):at,q(ft)?(ot="",pt!=null&&(ot=pt.replace(z,"$&/")+"/"),vt(ft,J,ot,"",function(bi){return bi})):ft!=null&&(O(ft)&&(ft=R(ft,ot+(ft.key==null||I&&I.key===ft.key?"":(""+ft.key).replace(z,"$&/")+"/")+pt)),J.push(ft)),1;pt=0;var qe=at===""?".":at+":";if(q(I))for(var re=0;re<I.length;re++)at=I[re],bt=qe+U(at,re),pt+=vt(at,J,ot,bt,ft);else if(re=v(I),typeof re=="function")for(I=re.call(I),re=0;!(at=I.next()).done;)at=at.value,bt=qe+U(at,re++),pt+=vt(at,J,ot,bt,ft);else if(bt==="object"){if(typeof I.then=="function")return vt(Bt(I),J,ot,at,ft);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return pt}function Q(I,J,ot){if(I==null)return I;var at=[],ft=0;return vt(I,at,"","",function(bt){return J.call(ot,bt,ft++)}),at}function nt(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(ot){(I._status===0||I._status===-1)&&(I._status=1,I._result=ot)},function(ot){(I._status===0||I._status===-1)&&(I._status=2,I._result=ot)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var ht=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function yt(){}return Ot.Children={map:Q,forEach:function(I,J,ot){Q(I,function(){J.apply(this,arguments)},ot)},count:function(I){var J=0;return Q(I,function(){J++}),J},toArray:function(I){return Q(I,function(J){return J})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ot.Component=A,Ot.Fragment=e,Ot.Profiler=s,Ot.PureComponent=P,Ot.StrictMode=i,Ot.Suspense=h,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},Ot.cache=function(I){return function(){return I.apply(null,arguments)}},Ot.cloneElement=function(I,J,ot){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=S({},I.props),ft=I.key,bt=void 0;if(J!=null)for(pt in J.ref!==void 0&&(bt=void 0),J.key!==void 0&&(ft=""+J.key),J)!$.call(J,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&J.ref===void 0||(at[pt]=J[pt]);var pt=arguments.length-2;if(pt===1)at.children=ot;else if(1<pt){for(var qe=Array(pt),re=0;re<pt;re++)qe[re]=arguments[re+2];at.children=qe}return V(I.type,ft,void 0,void 0,bt,at)},Ot.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:a,_context:I},I},Ot.createElement=function(I,J,ot){var at,ft={},bt=null;if(J!=null)for(at in J.key!==void 0&&(bt=""+J.key),J)$.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ft[at]=J[at]);var pt=arguments.length-2;if(pt===1)ft.children=ot;else if(1<pt){for(var qe=Array(pt),re=0;re<pt;re++)qe[re]=arguments[re+2];ft.children=qe}if(I&&I.defaultProps)for(at in pt=I.defaultProps,pt)ft[at]===void 0&&(ft[at]=pt[at]);return V(I,bt,void 0,void 0,null,ft)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(I){return{$$typeof:c,render:I}},Ot.isValidElement=O,Ot.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:nt}},Ot.memo=function(I,J){return{$$typeof:d,type:I,compare:J===void 0?null:J}},Ot.startTransition=function(I){var J=F.T,ot={};F.T=ot;try{var at=I(),ft=F.S;ft!==null&&ft(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(yt,ht)}catch(bt){ht(bt)}finally{F.T=J}},Ot.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ot.use=function(I){return F.H.use(I)},Ot.useActionState=function(I,J,ot){return F.H.useActionState(I,J,ot)},Ot.useCallback=function(I,J){return F.H.useCallback(I,J)},Ot.useContext=function(I){return F.H.useContext(I)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(I,J){return F.H.useDeferredValue(I,J)},Ot.useEffect=function(I,J,ot){var at=F.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(I,J)},Ot.useId=function(){return F.H.useId()},Ot.useImperativeHandle=function(I,J,ot){return F.H.useImperativeHandle(I,J,ot)},Ot.useInsertionEffect=function(I,J){return F.H.useInsertionEffect(I,J)},Ot.useLayoutEffect=function(I,J){return F.H.useLayoutEffect(I,J)},Ot.useMemo=function(I,J){return F.H.useMemo(I,J)},Ot.useOptimistic=function(I,J){return F.H.useOptimistic(I,J)},Ot.useReducer=function(I,J,ot){return F.H.useReducer(I,J,ot)},Ot.useRef=function(I){return F.H.useRef(I)},Ot.useState=function(I){return F.H.useState(I)},Ot.useSyncExternalStore=function(I,J,ot){return F.H.useSyncExternalStore(I,J,ot)},Ot.useTransition=function(){return F.H.useTransition()},Ot.version="19.1.0",Ot}var s1;function c0(){return s1||(s1=1,pg.exports=wD()),pg.exports}var et=c0();const ui=ED(et),RD=xD({__proto__:null,default:ui},[et]);var gg={exports:{}},Pu={},yg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1;function CD(){return r1||(r1=1,function(n){function t(Q,nt){var ht=Q.length;Q.push(nt);t:for(;0<ht;){var yt=ht-1>>>1,I=Q[yt];if(0<s(I,nt))Q[yt]=nt,Q[ht]=I,ht=yt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var nt=Q[0],ht=Q.pop();if(ht!==nt){Q[0]=ht;t:for(var yt=0,I=Q.length,J=I>>>1;yt<J;){var ot=2*(yt+1)-1,at=Q[ot],ft=ot+1,bt=Q[ft];if(0>s(at,ht))ft<I&&0>s(bt,at)?(Q[yt]=bt,Q[ft]=ht,yt=ft):(Q[yt]=at,Q[ot]=ht,yt=ot);else if(ft<I&&0>s(bt,ht))Q[yt]=bt,Q[ft]=ht,yt=ft;else break t}}return nt}function s(Q,nt){var ht=Q.sortIndex-nt.sortIndex;return ht!==0?ht:Q.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,v=3,T=!1,S=!1,w=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(Q){for(var nt=e(d);nt!==null;){if(nt.callback===null)i(d);else if(nt.startTime<=Q)i(d),nt.sortIndex=nt.expirationTime,t(h,nt);else break;nt=e(d)}}function F(Q){if(w=!1,q(Q),!S)if(e(h)!==null)S=!0,$||($=!0,U());else{var nt=e(d);nt!==null&&vt(F,nt.startTime-Q)}}var $=!1,V=-1,R=5,O=-1;function k(){return A?!0:!(n.unstable_now()-O<R)}function z(){if(A=!1,$){var Q=n.unstable_now();O=Q;var nt=!0;try{t:{S=!1,w&&(w=!1,P(V),V=-1),T=!0;var ht=v;try{e:{for(q(Q),y=e(h);y!==null&&!(y.expirationTime>Q&&k());){var yt=y.callback;if(typeof yt=="function"){y.callback=null,v=y.priorityLevel;var I=yt(y.expirationTime<=Q);if(Q=n.unstable_now(),typeof I=="function"){y.callback=I,q(Q),nt=!0;break e}y===e(h)&&i(h),q(Q)}else i(h);y=e(h)}if(y!==null)nt=!0;else{var J=e(d);J!==null&&vt(F,J.startTime-Q),nt=!1}}break t}finally{y=null,v=ht,T=!1}nt=void 0}}finally{nt?U():$=!1}}}var U;if(typeof B=="function")U=function(){B(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Bt=N.port2;N.port1.onmessage=z,U=function(){Bt.postMessage(null)}}else U=function(){D(z,0)};function vt(Q,nt){V=D(function(){Q(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var nt=3;break;default:nt=v}var ht=v;v=nt;try{return Q()}finally{v=ht}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=v;v=Q;try{return nt()}finally{v=ht}},n.unstable_scheduleCallback=function(Q,nt,ht){var yt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?yt+ht:yt):ht=yt,Q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ht+I,Q={id:p++,callback:nt,priorityLevel:Q,startTime:ht,expirationTime:I,sortIndex:-1},ht>yt?(Q.sortIndex=ht,t(d,Q),e(h)===null&&Q===e(d)&&(w?(P(V),V=-1):w=!0,vt(F,ht-yt))):(Q.sortIndex=I,t(h,Q),S||T||(S=!0,$||($=!0,U()))),Q},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Q){var nt=v;return function(){var ht=v;v=nt;try{return Q.apply(this,arguments)}finally{v=ht}}}}(_g)),_g}var a1;function MD(){return a1||(a1=1,yg.exports=CD()),yg.exports}var vg={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1;function DD(){if(o1)return cn;o1=1;var n=c0();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,p)},cn.flushSync=function(h){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=p,i.d.f()}},cn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},cn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},cn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},cn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cn.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},cn.requestFormReset=function(h){i.d.r(h)},cn.unstable_batchedUpdates=function(h,d){return h(d)},cn.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var l1;function gA(){if(l1)return vg.exports;l1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vg.exports=DD(),vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1;function OD(){if(u1)return Pu;u1=1;var n=MD(),t=c0(),e=gA();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return c(g),r;if(_===f)return c(g),o;_=_.sibling}throw Error(i(188))}if(u.return!==f.return)u=g,f=_;else{for(var E=!1,C=g.child;C;){if(C===u){E=!0,u=g,f=_;break}if(C===f){E=!0,f=g,u=_;break}C=C.sibling}if(!E){for(C=_.child;C;){if(C===u){E=!0,u=_,f=g;break}if(C===f){E=!0,f=_,u=g;break}C=C.sibling}if(!E)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function Bt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case $:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case T:return"Portal";case B:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case q:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return o=r.displayName||null,o!==null?o:Bt(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return Bt(r(o))}catch{}}return null}var vt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},yt=[],I=-1;function J(r){return{current:r}}function ot(r){0>I||(r.current=yt[I],yt[I]=null,I--)}function at(r,o){I++,yt[I]=r.current,r.current=o}var ft=J(null),bt=J(null),pt=J(null),qe=J(null);function re(r,o){switch(at(pt,o),at(bt,r),at(ft,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?MT(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=MT(o),r=DT(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(ft),at(ft,r)}function bi(){ot(ft),ot(bt),ot(pt)}function Ls(r){r.memoizedState!==null&&at(qe,r);var o=ft.current,u=DT(o,r.type);o!==u&&(at(bt,r),at(ft,u))}function Wi(r){bt.current===r&&(ot(ft),ot(bt)),qe.current===r&&(ot(qe),Ru._currentValue=ht)}var Fr=Object.prototype.hasOwnProperty,jr=n.unstable_scheduleCallback,Hr=n.unstable_cancelCallback,Sl=n.unstable_shouldYield,Wc=n.unstable_requestPaint,Kn=n.unstable_now,mm=n.unstable_getCurrentPriorityLevel,Al=n.unstable_ImmediatePriority,Xa=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,pm=n.unstable_LowPriority,Qa=n.unstable_IdlePriority,wl=n.log,$c=n.unstable_setDisableYieldValue,ve=null,Wt=null;function In(r){if(typeof wl=="function"&&$c(r),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ve,r)}catch{}}var ln=Math.clz32?Math.clz32:Gr,Zc=Math.log,gm=Math.LN2;function Gr(r){return r>>>=0,r===0?32:31-(Zc(r)/gm|0)|0}var Yr=256,Kr=4194304;function hi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wa(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,_=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var C=f&134217727;return C!==0?(f=C&~_,f!==0?g=hi(f):(E&=C,E!==0?g=hi(E):u||(u=C&~r,u!==0&&(g=hi(u))))):(C=f&~_,C!==0?g=hi(C):E!==0?g=hi(E):u||(u=f&~r,u!==0&&(g=hi(u)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:g}function Xr(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Rl(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var r=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),r}function Ml(){var r=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),r}function $i(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Zi(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dl(r,o,u,f,g,_){var E=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var C=r.entanglements,L=r.expirationTimes,K=r.hiddenUpdates;for(u=E&~u;0<u;){var tt=31-ln(u),st=1<<tt;C[tt]=0,L[tt]=-1;var X=K[tt];if(X!==null)for(K[tt]=null,tt=0;tt<X.length;tt++){var W=X[tt];W!==null&&(W.lane&=-536870913)}u&=~st}f!==0&&Ti(r,f,0),_!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=_&~(E&~o))}function Ti(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-ln(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function Ol(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-ln(u),g=1<<f;g&o|r[f]&o&&(r[f]|=o),u&=~g}}function Bs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $a(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zs(){var r=nt.p;return r!==0?r:(r=window.event,r===void 0?32:QT(r.type))}function Jc(r,o){var u=nt.p;try{return nt.p=r,o()}finally{nt.p=u}}var ce=Math.random().toString(36).slice(2),ke="__reactFiber$"+ce,De="__reactProps$"+ce,Xn="__reactContainer$"+ce,Vl="__reactEvents$"+ce,ym="__reactListeners$"+ce,Us="__reactHandles$"+ce,th="__reactResources$"+ce,Qr="__reactMarker$"+ce;function Fs(r){delete r[ke],delete r[De],delete r[Vl],delete r[ym],delete r[Us]}function Ji(r){var o=r[ke];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Xn]||u[ke]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=IT(r);r!==null;){if(u=r[ke])return u;r=IT(r)}return o}r=u,u=r.parentNode}return null}function xi(r){if(r=r[ke]||r[Xn]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Ei(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function vn(r){var o=r[th];return o||(o=r[th]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Se(r){r[Qr]=!0}var Pl=new Set,Za={};function fi(r,o){ts(r,o),ts(r+"Capture",o)}function ts(r,o){for(Za[r]=o,r=0;r<o.length;r++)Pl.add(o[r])}var eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nh={},Wr={};function ih(r){return Fr.call(Wr,r)?!0:Fr.call(nh,r)?!1:eh.test(r)?Wr[r]=!0:(nh[r]=!0,!1)}function js(r,o,u){if(ih(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Si(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Ze(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var $r,sh;function es(r){if($r===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$r=o&&o[1]||"",sh=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+r+sh}var Ja=!1;function to(r,o){if(!r||Ja)return"";Ja=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(W){var X=W}Reflect.construct(r,[],st)}else{try{st.call()}catch(W){X=W}r.call(st.prototype)}}else{try{throw Error()}catch(W){X=W}(st=r())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),E=_[0],C=_[1];if(E&&C){var L=E.split(`
`),K=C.split(`
`);for(g=f=0;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(f===L.length||g===K.length)for(f=L.length-1,g=K.length-1;1<=f&&0<=g&&L[f]!==K[g];)g--;for(;1<=f&&0<=g;f--,g--)if(L[f]!==K[g]){if(f!==1||g!==1)do if(f--,g--,0>g||L[f]!==K[g]){var tt=`
`+L[f].replace(" at new "," at ");return r.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",r.displayName)),tt}while(1<=f&&0<=g);break}}}finally{Ja=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?es(u):""}function Il(r){switch(r.tag){case 26:case 27:case 5:return es(r.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return to(r.type,!1);case 11:return to(r.type.render,!1);case 1:return to(r.type,!0);case 31:return es("Activity");default:return""}}function eo(r){try{var o="";do o+=Il(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function kl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _m(r){var o=kl(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,_.call(this,E)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function no(r){r._valueTracker||(r._valueTracker=_m(r))}function Nl(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=kl(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function Zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var vm=/[\n"\\]/g;function Oe(r){return r.replace(vm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kn(r,o,u,f,g,_,E,C){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),o!=null?E==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+bn(o)):r.value!==""+bn(o)&&(r.value=""+bn(o)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),o!=null?Hs(r,E,bn(o)):u!=null?Hs(r,E,bn(u)):f!=null&&r.removeAttribute("value"),g==null&&_!=null&&(r.defaultChecked=!!_),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+bn(C):r.removeAttribute("name")}function Jr(r,o,u,f,g,_,E,C){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;u=u!=null?""+bn(u):"",o=o!=null?""+bn(o):u,C||o===r.value||(r.value=o),r.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=C?r.checked:!!f,r.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Hs(r,o,u){o==="number"&&Zr(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ns(r,o,u,f){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+bn(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function te(r,o,u){if(o!=null&&(o=""+bn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+bn(u):""}function ta(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(vt(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=bn(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function Qn(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||ea.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Ll(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&u[g]!==f&&rh(r,g,f)}else for(var _ in o)o.hasOwnProperty(_)&&rh(r,_,o[_])}function Bl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(r){return Tm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var is=null;function Wn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ss=null,rs=null;function zl(r){var o=xi(r);if(o&&(r=o.stateNode)){var u=r[De]||null;t:switch(r=o.stateNode,o.type){case"input":if(kn(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Oe(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var g=f[De]||null;if(!g)throw Error(i(90));kn(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&Nl(f)}break t;case"textarea":te(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&ns(r,!!u.multiple,o,!1)}}}var Ai=!1;function ah(r,o,u){if(Ai)return r(o,u);Ai=!0;try{var f=r(o);return f}finally{if(Ai=!1,(ss!==null||rs!==null)&&(Jh(),ss&&(o=ss,r=rs,rs=ss=null,zl(o),r)))for(o=0;o<r.length;o++)zl(r[o])}}function na(r,o){var u=r.stateNode;if(u===null)return null;var f=u[De]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(di)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){$n=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{$n=!1}var wi=null,qs=null,as=null;function Ul(){if(as)return as;var r,o=qs,u=o.length,f,g="value"in wi?wi.value:wi.textContent,_=g.length;for(r=0;r<u&&o[r]===g[r];r++);var E=u-r;for(f=1;f<=E&&o[u-f]===g[_-f];f++);return as=g.slice(r,1<f?1-f:void 0)}function Ri(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ci(){return!0}function Fl(){return!1}function Ge(r){function o(u,f,g,_,E){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(u=r[C],this[C]=u?u(_):_[C]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ci:Fl,this.isPropagationStopped=Fl,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),o}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Ge(Xt),sa=p({},Xt,{view:0,detail:0}),oh=Ge(sa),ro,ao,Mi,ra=p({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mi&&(Mi&&r.type==="mousemove"?(ro=r.screenX-Mi.screenX,ao=r.screenY-Mi.screenY):ao=ro=0,Mi=r),ro)},movementY:function(r){return"movementY"in r?r.movementY:ao}}),Zn=Ge(ra),lh=p({},ra,{dataTransfer:0}),xm=Ge(lh),aa=p({},sa,{relatedTarget:0}),oo=Ge(aa),jl=p({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=Ge(jl),uh=p({},Xt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uo=Ge(uh),Em=p({},Xt,{data:0}),Hl=Ge(Em),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=hh[r])?!!o[r]:!1}function la(){return ql}var fh=p({},sa,{key:function(r){if(r.key){var o=oa[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ri(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ch[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(r){return r.type==="keypress"?Ri(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ri(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),co=Ge(fh),dh=p({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Ge(dh),os=p({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),mh=Ge(os),ph=p({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=Ge(ph),yh=p({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ho=Ge(yh),Tn=p({},Xt,{newState:0,oldState:0}),_h=Ge(Tn),vh=[9,13,27,32],Di=di&&"CompositionEvent"in window,m=null;di&&"documentMode"in document&&(m=document.documentMode);var b=di&&"TextEvent"in window&&!m,x=di&&(!Di||m&&8<m&&11>=m),M=" ",G=!1;function Z(r,o){switch(r){case"keyup":return vh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ft=!1;function Ne(r,o){switch(r){case"compositionend":return ut(o);case"keypress":return o.which!==32?null:(G=!0,M);case"textInput":return r=o.data,r===M&&G?null:r;default:return null}}function jt(r,o){if(Ft)return r==="compositionend"||!Di&&Z(r,o)?(r=Ul(),as=qs=wi=null,Ft=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x&&o.locale!=="ko"?null:o.data;default:return null}}var Ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Ye[r.type]:o==="textarea"}function ls(r,o,u,f){ss?rs?rs.push(f):rs=[f]:ss=f,o=af(o,"onChange"),0<o.length&&(u=new so("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var Je=null,Oi=null;function Yl(r){ST(r,0)}function bh(r){var o=Ei(r);if(Nl(o))return r}function G_(r,o){if(r==="change")return o}var Y_=!1;if(di){var Sm;if(di){var Am="oninput"in document;if(!Am){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Am=typeof K_.oninput=="function"}Sm=Am}else Sm=!1;Y_=Sm&&(!document.documentMode||9<document.documentMode)}function X_(){Je&&(Je.detachEvent("onpropertychange",Q_),Oi=Je=null)}function Q_(r){if(r.propertyName==="value"&&bh(Oi)){var o=[];ls(o,Oi,r,Wn(r)),ah(Yl,o)}}function WC(r,o,u){r==="focusin"?(X_(),Je=o,Oi=u,Je.attachEvent("onpropertychange",Q_)):r==="focusout"&&X_()}function $C(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bh(Oi)}function ZC(r,o){if(r==="click")return bh(o)}function JC(r,o){if(r==="input"||r==="change")return bh(o)}function tM(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Nn=typeof Object.is=="function"?Object.is:tM;function Kl(r,o){if(Nn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!Fr.call(o,g)||!Nn(r[g],o[g]))return!1}return!0}function W_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $_(r,o){var u=W_(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=W_(u)}}function Z_(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Z_(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function J_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Zr(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Zr(r.document)}return o}function wm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var eM=di&&"documentMode"in document&&11>=document.documentMode,fo=null,Rm=null,Xl=null,Cm=!1;function tv(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Cm||fo==null||fo!==Zr(f)||(f=fo,"selectionStart"in f&&wm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Xl&&Kl(Xl,f)||(Xl=f,f=af(Rm,"onSelect"),0<f.length&&(o=new so("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=fo)))}function ua(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var mo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Mm={},ev={};di&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ca(r){if(Mm[r])return Mm[r];if(!mo[r])return r;var o=mo[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in ev)return Mm[r]=o[u];return r}var nv=ca("animationend"),iv=ca("animationiteration"),sv=ca("animationstart"),nM=ca("transitionrun"),iM=ca("transitionstart"),sM=ca("transitioncancel"),rv=ca("transitionend"),av=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function mi(r,o){av.set(r,o),fi(o,[r])}var ov=new WeakMap;function Jn(r,o){if(typeof r=="object"&&r!==null){var u=ov.get(r);return u!==void 0?u:(o={value:r,source:o,stack:eo(o)},ov.set(r,o),o)}return{value:r,source:o,stack:eo(o)}}var ti=[],po=0,Om=0;function Th(){for(var r=po,o=Om=po=0;o<r;){var u=ti[o];ti[o++]=null;var f=ti[o];ti[o++]=null;var g=ti[o];ti[o++]=null;var _=ti[o];if(ti[o++]=null,f!==null&&g!==null){var E=f.pending;E===null?g.next=g:(g.next=E.next,E.next=g),f.pending=g}_!==0&&lv(u,g,_)}}function xh(r,o,u,f){ti[po++]=r,ti[po++]=o,ti[po++]=u,ti[po++]=f,Om|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Vm(r,o,u,f){return xh(r,o,u,f),Eh(r)}function go(r,o){return xh(r,null,null,o),Eh(r)}function lv(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,_=r.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(g=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,g&&o!==null&&(g=31-ln(u),r=_.hiddenUpdates,f=r[g],f===null?r[g]=[o]:f.push(o),o.lane=u|536870912),_):null}function Eh(r){if(50<vu)throw vu=0,Bp=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var yo={};function rM(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,o,u,f){return new rM(r,o,u,f)}function Pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function us(r,o){var u=r.alternate;return u===null?(u=Ln(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function uv(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Sh(r,o,u,f,g,_){var E=0;if(f=r,typeof r=="function")Pm(r)&&(E=1);else if(typeof r=="string")E=oD(r,u,ft.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case O:return r=Ln(31,u,o,g),r.elementType=O,r.lanes=_,r;case S:return ha(u.children,g,_,o);case w:E=8,g|=24;break;case A:return r=Ln(12,u,o,g|2),r.elementType=A,r.lanes=_,r;case F:return r=Ln(13,u,o,g),r.elementType=F,r.lanes=_,r;case $:return r=Ln(19,u,o,g),r.elementType=$,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:case B:E=10;break t;case P:E=9;break t;case q:E=11;break t;case V:E=14;break t;case R:E=16,f=null;break t}E=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=Ln(E,u,o,g),o.elementType=r,o.type=f,o.lanes=_,o}function ha(r,o,u,f){return r=Ln(7,r,f,o),r.lanes=u,r}function Im(r,o,u){return r=Ln(6,r,null,o),r.lanes=u,r}function km(r,o,u){return o=Ln(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var _o=[],vo=0,Ah=null,wh=0,ei=[],ni=0,fa=null,cs=1,hs="";function da(r,o){_o[vo++]=wh,_o[vo++]=Ah,Ah=r,wh=o}function cv(r,o,u){ei[ni++]=cs,ei[ni++]=hs,ei[ni++]=fa,fa=r;var f=cs;r=hs;var g=32-ln(f)-1;f&=~(1<<g),u+=1;var _=32-ln(o)+g;if(30<_){var E=g-g%5;_=(f&(1<<E)-1).toString(32),f>>=E,g-=E,cs=1<<32-ln(o)+g|u<<g|f,hs=_+r}else cs=1<<_|u<<g|f,hs=r}function Nm(r){r.return!==null&&(da(r,1),cv(r,1,0))}function Lm(r){for(;r===Ah;)Ah=_o[--vo],_o[vo]=null,wh=_o[--vo],_o[vo]=null;for(;r===fa;)fa=ei[--ni],ei[ni]=null,hs=ei[--ni],ei[ni]=null,cs=ei[--ni],ei[ni]=null}var xn=null,be=null,Kt=!1,ma=null,Vi=!1,Bm=Error(i(519));function pa(r){var o=Error(i(418,""));throw $l(Jn(o,r)),Bm}function hv(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[ke]=r,o[De]=f,u){case"dialog":Nt("cancel",o),Nt("close",o);break;case"iframe":case"object":case"embed":Nt("load",o);break;case"video":case"audio":for(u=0;u<Tu.length;u++)Nt(Tu[u],o);break;case"source":Nt("error",o);break;case"img":case"image":case"link":Nt("error",o),Nt("load",o);break;case"details":Nt("toggle",o);break;case"input":Nt("invalid",o),Jr(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),no(o);break;case"select":Nt("invalid",o);break;case"textarea":Nt("invalid",o),ta(o,f.value,f.defaultValue,f.children),no(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||CT(o.textContent,u)?(f.popover!=null&&(Nt("beforetoggle",o),Nt("toggle",o)),f.onScroll!=null&&Nt("scroll",o),f.onScrollEnd!=null&&Nt("scrollend",o),f.onClick!=null&&(o.onclick=of),o=!0):o=!1,o||pa(r)}function fv(r){for(xn=r.return;xn;)switch(xn.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:xn=xn.return}}function Ql(r){if(r!==xn)return!1;if(!Kt)return fv(r),Kt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||tg(r.type,r.memoizedProps)),u=!u),u&&be&&pa(r),fv(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){be=gi(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}be=null}}else o===27?(o=be,ar(r.type)?(r=sg,sg=null,be=r):be=o):be=xn?gi(r.stateNode.nextSibling):null;return!0}function Wl(){be=xn=null,Kt=!1}function dv(){var r=ma;return r!==null&&(wn===null?wn=r:wn.push.apply(wn,r),ma=null),r}function $l(r){ma===null?ma=[r]:ma.push(r)}var zm=J(null),ga=null,fs=null;function Gs(r,o,u){at(zm,o._currentValue),o._currentValue=u}function ds(r){r._currentValue=zm.current,ot(zm)}function Um(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function Fm(r,o,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var _=g.dependencies;if(_!==null){var E=g.child;_=_.firstContext;t:for(;_!==null;){var C=_;_=g;for(var L=0;L<o.length;L++)if(C.context===o[L]){_.lanes|=u,C=_.alternate,C!==null&&(C.lanes|=u),Um(_.return,u,r),f||(E=null);break t}_=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=u,_=E.alternate,_!==null&&(_.lanes|=u),Um(E,u,r),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===r){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Zl(r,o,u,f){r=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var C=g.type;Nn(g.pendingProps.value,E.value)||(r!==null?r.push(C):r=[C])}}else if(g===qe.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Ru):r=[Ru])}g=g.return}r!==null&&Fm(o,r,u,f),o.flags|=262144}function Rh(r){for(r=r.firstContext;r!==null;){if(!Nn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ya(r){ga=r,fs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return mv(ga,r)}function Ch(r,o){return ga===null&&ya(r),mv(r,o)}function mv(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},fs===null){if(r===null)throw Error(i(308));fs=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else fs=fs.next=o;return u}var aM=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},oM=n.unstable_scheduleCallback,lM=n.unstable_NormalPriority,Be={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new aM,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&oM(lM,function(){r.controller.abort()})}var tu=null,Hm=0,bo=0,To=null;function uM(r,o){if(tu===null){var u=tu=[];Hm=0,bo=Gp(),To={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Hm++,o.then(pv,pv),o}function pv(){if(--Hm===0&&tu!==null){To!==null&&(To.status="fulfilled");var r=tu;tu=null,bo=0,To=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function cM(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var gv=Q.S;Q.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&uM(r,o),gv!==null&&gv(r,o)};var _a=J(null);function qm(){var r=_a.current;return r!==null?r:ae.pooledCache}function Mh(r,o){o===null?at(_a,_a.current):at(_a,o.pool)}function yv(){var r=qm();return r===null?null:{parent:Be._currentValue,pool:r}}var eu=Error(i(460)),_v=Error(i(474)),Dh=Error(i(542)),Gm={then:function(){}};function vv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oh(){}function bv(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Oh,Oh),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,xv(r),r;default:if(typeof o.status=="string")o.then(Oh,Oh);else{if(r=ae,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,xv(r),r}throw nu=o,eu}}var nu=null;function Tv(){if(nu===null)throw Error(i(459));var r=nu;return nu=null,r}function xv(r){if(r===eu||r===Dh)throw Error(i(483))}var Ys=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xs(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,($t&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=Eh(r),lv(r,null,u),o}return xh(r,f,o,u),Eh(r)}function iu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ol(r,u)}}function Xm(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?g=_=E:_=_.next=E,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Qm=!1;function su(){if(Qm){var r=To;if(r!==null)throw r}}function ru(r,o,u,f){Qm=!1;var g=r.updateQueue;Ys=!1;var _=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var L=C,K=L.next;L.next=null,E===null?_=K:E.next=K,E=L;var tt=r.alternate;tt!==null&&(tt=tt.updateQueue,C=tt.lastBaseUpdate,C!==E&&(C===null?tt.firstBaseUpdate=K:C.next=K,tt.lastBaseUpdate=L))}if(_!==null){var st=g.baseState;E=0,tt=K=L=null,C=_;do{var X=C.lane&-536870913,W=X!==C.lane;if(W?(Ht&X)===X:(f&X)===X){X!==0&&X===bo&&(Qm=!0),tt!==null&&(tt=tt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var wt=r,xt=C;X=o;var ie=u;switch(xt.tag){case 1:if(wt=xt.payload,typeof wt=="function"){st=wt.call(ie,st,X);break t}st=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=xt.payload,X=typeof wt=="function"?wt.call(ie,st,X):wt,X==null)break t;st=p({},st,X);break t;case 2:Ys=!0}}X=C.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=g.callbacks,W===null?g.callbacks=[X]:W.push(X))}else W={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},tt===null?(K=tt=W,L=st):tt=tt.next=W,E|=X;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;W=C,C=W.next,W.next=null,g.lastBaseUpdate=W,g.shared.pending=null}}while(!0);tt===null&&(L=st),g.baseState=L,g.firstBaseUpdate=K,g.lastBaseUpdate=tt,_===null&&(g.shared.lanes=0),nr|=E,r.lanes=E,r.memoizedState=st}}function Ev(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Sv(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Ev(u[r],o)}var xo=J(null),Vh=J(0);function Av(r,o){r=bs,at(Vh,r),at(xo,o),bs=r|o.baseLanes}function Wm(){at(Vh,bs),at(xo,xo.current)}function $m(){bs=Vh.current,ot(xo),ot(Vh)}var Qs=0,Vt=null,ee=null,Ve=null,Ph=!1,Eo=!1,va=!1,Ih=0,au=0,So=null,hM=0;function Ae(){throw Error(i(321))}function Zm(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Nn(r[u],o[u]))return!1;return!0}function Jm(r,o,u,f,g,_){return Qs=_,Vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Q.H=r===null||r.memoizedState===null?lb:ub,va=!1,_=u(f,g),va=!1,Eo&&(_=Rv(o,u,f,g)),wv(r),_}function wv(r){Q.H=Uh;var o=ee!==null&&ee.next!==null;if(Qs=0,Ve=ee=Vt=null,Ph=!1,au=0,So=null,o)throw Error(i(300));r===null||Ke||(r=r.dependencies,r!==null&&Rh(r)&&(Ke=!0))}function Rv(r,o,u,f){Vt=r;var g=0;do{if(Eo&&(So=null),au=0,Eo=!1,25<=g)throw Error(i(301));if(g+=1,Ve=ee=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=_M,_=o(u,f)}while(Eo);return _}function fM(){var r=Q.H,o=r.useState()[0];return o=typeof o.then=="function"?ou(o):o,r=r.useState()[0],(ee!==null?ee.memoizedState:null)!==r&&(Vt.flags|=1024),o}function tp(){var r=Ih!==0;return Ih=0,r}function ep(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function np(r){if(Ph){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ph=!1}Qs=0,Ve=ee=Vt=null,Eo=!1,au=Ih=0,So=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Vt.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function Pe(){if(ee===null){var r=Vt.alternate;r=r!==null?r.memoizedState:null}else r=ee.next;var o=Ve===null?Vt.memoizedState:Ve.next;if(o!==null)Ve=o,ee=r;else{if(r===null)throw Vt.alternate===null?Error(i(467)):Error(i(310));ee=r,r={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ve===null?Vt.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}function ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(r){var o=au;return au+=1,So===null&&(So=[]),r=bv(So,r,o),o=Vt,(Ve===null?o.memoizedState:Ve.next)===null&&(o=o.alternate,Q.H=o===null||o.memoizedState===null?lb:ub),r}function kh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ou(r);if(r.$$typeof===B)return un(r)}throw Error(i(438,String(r)))}function sp(r){var o=null,u=Vt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Vt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ip(),Vt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=k;return o.index++,u}function ms(r,o){return typeof o=="function"?o(r):o}function Nh(r){var o=Pe();return rp(o,ee,r)}function rp(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var g=r.baseQueue,_=f.pending;if(_!==null){if(g!==null){var E=g.next;g.next=_.next,_.next=E}o.baseQueue=g=_,f.pending=null}if(_=r.baseState,g===null)r.memoizedState=_;else{o=g.next;var C=E=null,L=null,K=o,tt=!1;do{var st=K.lane&-536870913;if(st!==K.lane?(Ht&st)===st:(Qs&st)===st){var X=K.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),st===bo&&(tt=!0);else if((Qs&X)===X){K=K.next,X===bo&&(tt=!0);continue}else st={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=st,E=_):L=L.next=st,Vt.lanes|=X,nr|=X;st=K.action,va&&u(_,st),_=K.hasEagerState?K.eagerState:u(_,st)}else X={lane:st,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=X,E=_):L=L.next=X,Vt.lanes|=st,nr|=st;K=K.next}while(K!==null&&K!==o);if(L===null?E=_:L.next=C,!Nn(_,r.memoizedState)&&(Ke=!0,tt&&(u=To,u!==null)))throw u;r.memoizedState=_,r.baseState=E,r.baseQueue=L,f.lastRenderedState=_}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function ap(r){var o=Pe(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do _=r(_,E.action),E=E.next;while(E!==g);Nn(_,o.memoizedState)||(Ke=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function Cv(r,o,u){var f=Vt,g=Pe(),_=Kt;if(_){if(u===void 0)throw Error(i(407));u=u()}else u=o();var E=!Nn((ee||g).memoizedState,u);E&&(g.memoizedState=u,Ke=!0),g=g.queue;var C=Ov.bind(null,f,g,r);if(lu(2048,8,C,[r]),g.getSnapshot!==o||E||Ve!==null&&Ve.memoizedState.tag&1){if(f.flags|=2048,Ao(9,Lh(),Dv.bind(null,f,g,u,o),null),ae===null)throw Error(i(349));_||(Qs&124)!==0||Mv(f,o,u)}return u}function Mv(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Vt.updateQueue,o===null?(o=ip(),Vt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Dv(r,o,u,f){o.value=u,o.getSnapshot=f,Vv(o)&&Pv(r)}function Ov(r,o,u){return u(function(){Vv(o)&&Pv(r)})}function Vv(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Nn(r,u)}catch{return!0}}function Pv(r){var o=go(r,2);o!==null&&jn(o,r,2)}function op(r){var o=Sn();if(typeof r=="function"){var u=r;if(r=u(),va){In(!0);try{u()}finally{In(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:r},o}function Iv(r,o,u,f){return r.baseState=u,rp(r,ee,typeof f=="function"?f:ms)}function dM(r,o,u,f,g){if(zh(r))throw Error(i(485));if(r=o.action,r!==null){var _={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};Q.T!==null?u(!0):_.isTransition=!1,f(_),u=o.pending,u===null?(_.next=o.pending=_,kv(o,_)):(_.next=u.next,o.pending=u.next=_)}}function kv(r,o){var u=o.action,f=o.payload,g=r.state;if(o.isTransition){var _=Q.T,E={};Q.T=E;try{var C=u(g,f),L=Q.S;L!==null&&L(E,C),Nv(r,o,C)}catch(K){lp(r,o,K)}finally{Q.T=_}}else try{_=u(g,f),Nv(r,o,_)}catch(K){lp(r,o,K)}}function Nv(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Lv(r,o,f)},function(f){return lp(r,o,f)}):Lv(r,o,u)}function Lv(r,o,u){o.status="fulfilled",o.value=u,Bv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,kv(r,u)))}function lp(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Bv(o),o=o.next;while(o!==f)}r.action=null}function Bv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function zv(r,o){return o}function Uv(r,o){if(Kt){var u=ae.formState;if(u!==null){t:{var f=Vt;if(Kt){if(be){e:{for(var g=be,_=Vi;g.nodeType!==8;){if(!_){g=null;break e}if(g=gi(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){be=gi(g.nextSibling),f=g.data==="F!";break t}}pa(f)}f=!1}f&&(o=u[0])}}return u=Sn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zv,lastRenderedState:o},u.queue=f,u=rb.bind(null,Vt,f),f.dispatch=u,f=op(!1),_=dp.bind(null,Vt,!1,f.queue),f=Sn(),g={state:o,dispatch:null,action:r,pending:null},f.queue=g,u=dM.bind(null,Vt,g,_,u),g.dispatch=u,f.memoizedState=r,[o,u,!1]}function Fv(r){var o=Pe();return jv(o,ee,r)}function jv(r,o,u){if(o=rp(r,o,zv)[0],r=Nh(ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=ou(o)}catch(E){throw E===eu?Dh:E}else f=o;o=Pe();var g=o.queue,_=g.dispatch;return u!==o.memoizedState&&(Vt.flags|=2048,Ao(9,Lh(),mM.bind(null,g,u),null)),[f,_,r]}function mM(r,o){r.action=o}function Hv(r){var o=Pe(),u=ee;if(u!==null)return jv(o,u,r);Pe(),o=o.memoizedState,u=Pe();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function Ao(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=Vt.updateQueue,o===null&&(o=ip(),Vt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function Lh(){return{destroy:void 0,resource:void 0}}function qv(){return Pe().memoizedState}function Bh(r,o,u,f){var g=Sn();f=f===void 0?null:f,Vt.flags|=r,g.memoizedState=Ao(1|o,Lh(),u,f)}function lu(r,o,u,f){var g=Pe();f=f===void 0?null:f;var _=g.memoizedState.inst;ee!==null&&f!==null&&Zm(f,ee.memoizedState.deps)?g.memoizedState=Ao(o,_,u,f):(Vt.flags|=r,g.memoizedState=Ao(1|o,_,u,f))}function Gv(r,o){Bh(8390656,8,r,o)}function Yv(r,o){lu(2048,8,r,o)}function Kv(r,o){return lu(4,2,r,o)}function Xv(r,o){return lu(4,4,r,o)}function Qv(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Wv(r,o,u){u=u!=null?u.concat([r]):null,lu(4,4,Qv.bind(null,o,r),u)}function up(){}function $v(r,o){var u=Pe();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Zm(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function Zv(r,o){var u=Pe();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Zm(o,f[1]))return f[0];if(f=r(),va){In(!0);try{r()}finally{In(!1)}}return u.memoizedState=[f,o],f}function cp(r,o,u){return u===void 0||(Qs&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=eT(),Vt.lanes|=r,nr|=r,u)}function Jv(r,o,u,f){return Nn(u,o)?u:xo.current!==null?(r=cp(r,u,f),Nn(r,o)||(Ke=!0),r):(Qs&42)===0?(Ke=!0,r.memoizedState=u):(r=eT(),Vt.lanes|=r,nr|=r,o)}function tb(r,o,u,f,g){var _=nt.p;nt.p=_!==0&&8>_?_:8;var E=Q.T,C={};Q.T=C,dp(r,!1,o,u);try{var L=g(),K=Q.S;if(K!==null&&K(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var tt=cM(L,f);uu(r,o,tt,Fn(r))}else uu(r,o,f,Fn(r))}catch(st){uu(r,o,{then:function(){},status:"rejected",reason:st},Fn())}finally{nt.p=_,Q.T=E}}function pM(){}function hp(r,o,u,f){if(r.tag!==5)throw Error(i(476));var g=eb(r).queue;tb(r,g,o,ht,u===null?pM:function(){return nb(r),u(f)})}function eb(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function nb(r){var o=eb(r).next.queue;uu(r,o,{},Fn())}function fp(){return un(Ru)}function ib(){return Pe().memoizedState}function sb(){return Pe().memoizedState}function gM(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Fn();r=Ks(u);var f=Xs(o,r,u);f!==null&&(jn(f,o,u),iu(f,o,u)),o={cache:jm()},r.payload=o;return}o=o.return}}function yM(r,o,u){var f=Fn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},zh(r)?ab(o,u):(u=Vm(r,o,u,f),u!==null&&(jn(u,r,f),ob(u,o,f)))}function rb(r,o,u){var f=Fn();uu(r,o,u,f)}function uu(r,o,u,f){var g={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(zh(r))ab(o,g);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var E=o.lastRenderedState,C=_(E,u);if(g.hasEagerState=!0,g.eagerState=C,Nn(C,E))return xh(r,o,g,0),ae===null&&Th(),!1}catch{}finally{}if(u=Vm(r,o,g,f),u!==null)return jn(u,r,f),ob(u,o,f),!0}return!1}function dp(r,o,u,f){if(f={lane:2,revertLane:Gp(),action:f,hasEagerState:!1,eagerState:null,next:null},zh(r)){if(o)throw Error(i(479))}else o=Vm(r,u,f,2),o!==null&&jn(o,r,2)}function zh(r){var o=r.alternate;return r===Vt||o!==null&&o===Vt}function ab(r,o){Eo=Ph=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function ob(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ol(r,u)}}var Uh={readContext:un,use:kh,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},lb={readContext:un,use:kh,useCallback:function(r,o){return Sn().memoizedState=[r,o===void 0?null:o],r},useContext:un,useEffect:Gv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Bh(4194308,4,Qv.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Bh(4194308,4,r,o)},useInsertionEffect:function(r,o){Bh(4,2,r,o)},useMemo:function(r,o){var u=Sn();o=o===void 0?null:o;var f=r();if(va){In(!0);try{r()}finally{In(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=Sn();if(u!==void 0){var g=u(o);if(va){In(!0);try{u(o)}finally{In(!1)}}}else g=o;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=yM.bind(null,Vt,r),[f.memoizedState,r]},useRef:function(r){var o=Sn();return r={current:r},o.memoizedState=r},useState:function(r){r=op(r);var o=r.queue,u=rb.bind(null,Vt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:up,useDeferredValue:function(r,o){var u=Sn();return cp(u,r,o)},useTransition:function(){var r=op(!1);return r=tb.bind(null,Vt,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=Vt,g=Sn();if(Kt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ae===null)throw Error(i(349));(Ht&124)!==0||Mv(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,Gv(Ov.bind(null,f,_,r),[r]),f.flags|=2048,Ao(9,Lh(),Dv.bind(null,f,_,u,o),null),u},useId:function(){var r=Sn(),o=ae.identifierPrefix;if(Kt){var u=hs,f=cs;u=(f&~(1<<32-ln(f)-1)).toString(32)+u,o=""+o+"R"+u,u=Ih++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=hM++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:fp,useFormState:Uv,useActionState:Uv,useOptimistic:function(r){var o=Sn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=dp.bind(null,Vt,!0,u),u.dispatch=o,[r,o]},useMemoCache:sp,useCacheRefresh:function(){return Sn().memoizedState=gM.bind(null,Vt)}},ub={readContext:un,use:kh,useCallback:$v,useContext:un,useEffect:Yv,useImperativeHandle:Wv,useInsertionEffect:Kv,useLayoutEffect:Xv,useMemo:Zv,useReducer:Nh,useRef:qv,useState:function(){return Nh(ms)},useDebugValue:up,useDeferredValue:function(r,o){var u=Pe();return Jv(u,ee.memoizedState,r,o)},useTransition:function(){var r=Nh(ms)[0],o=Pe().memoizedState;return[typeof r=="boolean"?r:ou(r),o]},useSyncExternalStore:Cv,useId:ib,useHostTransitionStatus:fp,useFormState:Fv,useActionState:Fv,useOptimistic:function(r,o){var u=Pe();return Iv(u,ee,r,o)},useMemoCache:sp,useCacheRefresh:sb},_M={readContext:un,use:kh,useCallback:$v,useContext:un,useEffect:Yv,useImperativeHandle:Wv,useInsertionEffect:Kv,useLayoutEffect:Xv,useMemo:Zv,useReducer:ap,useRef:qv,useState:function(){return ap(ms)},useDebugValue:up,useDeferredValue:function(r,o){var u=Pe();return ee===null?cp(u,r,o):Jv(u,ee.memoizedState,r,o)},useTransition:function(){var r=ap(ms)[0],o=Pe().memoizedState;return[typeof r=="boolean"?r:ou(r),o]},useSyncExternalStore:Cv,useId:ib,useHostTransitionStatus:fp,useFormState:Hv,useActionState:Hv,useOptimistic:function(r,o){var u=Pe();return ee!==null?Iv(u,ee,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:sp,useCacheRefresh:sb},wo=null,cu=0;function Fh(r){var o=cu;return cu+=1,wo===null&&(wo=[]),bv(wo,r,o)}function hu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function jh(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function cb(r){var o=r._init;return o(r._payload)}function hb(r){function o(H,j){if(r){var Y=H.deletions;Y===null?(H.deletions=[j],H.flags|=16):Y.push(j)}}function u(H,j){if(!r)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function f(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function g(H,j){return H=us(H,j),H.index=0,H.sibling=null,H}function _(H,j,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<j?(H.flags|=67108866,j):Y):(H.flags|=67108866,j)):(H.flags|=1048576,j)}function E(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function C(H,j,Y,it){return j===null||j.tag!==6?(j=Im(Y,H.mode,it),j.return=H,j):(j=g(j,Y),j.return=H,j)}function L(H,j,Y,it){var mt=Y.type;return mt===S?tt(H,j,Y.props.children,it,Y.key):j!==null&&(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&cb(mt)===j.type)?(j=g(j,Y.props),hu(j,Y),j.return=H,j):(j=Sh(Y.type,Y.key,Y.props,null,H.mode,it),hu(j,Y),j.return=H,j)}function K(H,j,Y,it){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=km(Y,H.mode,it),j.return=H,j):(j=g(j,Y.children||[]),j.return=H,j)}function tt(H,j,Y,it,mt){return j===null||j.tag!==7?(j=ha(Y,H.mode,it,mt),j.return=H,j):(j=g(j,Y),j.return=H,j)}function st(H,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Im(""+j,H.mode,Y),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return Y=Sh(j.type,j.key,j.props,null,H.mode,Y),hu(Y,j),Y.return=H,Y;case T:return j=km(j,H.mode,Y),j.return=H,j;case R:var it=j._init;return j=it(j._payload),st(H,j,Y)}if(vt(j)||U(j))return j=ha(j,H.mode,Y,null),j.return=H,j;if(typeof j.then=="function")return st(H,Fh(j),Y);if(j.$$typeof===B)return st(H,Ch(H,j),Y);jh(H,j)}return null}function X(H,j,Y,it){var mt=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return mt!==null?null:C(H,j,""+Y,it);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===mt?L(H,j,Y,it):null;case T:return Y.key===mt?K(H,j,Y,it):null;case R:return mt=Y._init,Y=mt(Y._payload),X(H,j,Y,it)}if(vt(Y)||U(Y))return mt!==null?null:tt(H,j,Y,it,null);if(typeof Y.then=="function")return X(H,j,Fh(Y),it);if(Y.$$typeof===B)return X(H,j,Ch(H,Y),it);jh(H,Y)}return null}function W(H,j,Y,it,mt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return H=H.get(Y)||null,C(j,H,""+it,mt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return H=H.get(it.key===null?Y:it.key)||null,L(j,H,it,mt);case T:return H=H.get(it.key===null?Y:it.key)||null,K(j,H,it,mt);case R:var It=it._init;return it=It(it._payload),W(H,j,Y,it,mt)}if(vt(it)||U(it))return H=H.get(Y)||null,tt(j,H,it,mt,null);if(typeof it.then=="function")return W(H,j,Y,Fh(it),mt);if(it.$$typeof===B)return W(H,j,Y,Ch(j,it),mt);jh(j,it)}return null}function wt(H,j,Y,it){for(var mt=null,It=null,gt=j,Et=j=0,Qe=null;gt!==null&&Et<Y.length;Et++){gt.index>Et?(Qe=gt,gt=null):Qe=gt.sibling;var Yt=X(H,gt,Y[Et],it);if(Yt===null){gt===null&&(gt=Qe);break}r&&gt&&Yt.alternate===null&&o(H,gt),j=_(Yt,j,Et),It===null?mt=Yt:It.sibling=Yt,It=Yt,gt=Qe}if(Et===Y.length)return u(H,gt),Kt&&da(H,Et),mt;if(gt===null){for(;Et<Y.length;Et++)gt=st(H,Y[Et],it),gt!==null&&(j=_(gt,j,Et),It===null?mt=gt:It.sibling=gt,It=gt);return Kt&&da(H,Et),mt}for(gt=f(gt);Et<Y.length;Et++)Qe=W(gt,H,Et,Y[Et],it),Qe!==null&&(r&&Qe.alternate!==null&&gt.delete(Qe.key===null?Et:Qe.key),j=_(Qe,j,Et),It===null?mt=Qe:It.sibling=Qe,It=Qe);return r&&gt.forEach(function(hr){return o(H,hr)}),Kt&&da(H,Et),mt}function xt(H,j,Y,it){if(Y==null)throw Error(i(151));for(var mt=null,It=null,gt=j,Et=j=0,Qe=null,Yt=Y.next();gt!==null&&!Yt.done;Et++,Yt=Y.next()){gt.index>Et?(Qe=gt,gt=null):Qe=gt.sibling;var hr=X(H,gt,Yt.value,it);if(hr===null){gt===null&&(gt=Qe);break}r&&gt&&hr.alternate===null&&o(H,gt),j=_(hr,j,Et),It===null?mt=hr:It.sibling=hr,It=hr,gt=Qe}if(Yt.done)return u(H,gt),Kt&&da(H,Et),mt;if(gt===null){for(;!Yt.done;Et++,Yt=Y.next())Yt=st(H,Yt.value,it),Yt!==null&&(j=_(Yt,j,Et),It===null?mt=Yt:It.sibling=Yt,It=Yt);return Kt&&da(H,Et),mt}for(gt=f(gt);!Yt.done;Et++,Yt=Y.next())Yt=W(gt,H,Et,Yt.value,it),Yt!==null&&(r&&Yt.alternate!==null&&gt.delete(Yt.key===null?Et:Yt.key),j=_(Yt,j,Et),It===null?mt=Yt:It.sibling=Yt,It=Yt);return r&&gt.forEach(function(vD){return o(H,vD)}),Kt&&da(H,Et),mt}function ie(H,j,Y,it){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:t:{for(var mt=Y.key;j!==null;){if(j.key===mt){if(mt=Y.type,mt===S){if(j.tag===7){u(H,j.sibling),it=g(j,Y.props.children),it.return=H,H=it;break t}}else if(j.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&cb(mt)===j.type){u(H,j.sibling),it=g(j,Y.props),hu(it,Y),it.return=H,H=it;break t}u(H,j);break}else o(H,j);j=j.sibling}Y.type===S?(it=ha(Y.props.children,H.mode,it,Y.key),it.return=H,H=it):(it=Sh(Y.type,Y.key,Y.props,null,H.mode,it),hu(it,Y),it.return=H,H=it)}return E(H);case T:t:{for(mt=Y.key;j!==null;){if(j.key===mt)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){u(H,j.sibling),it=g(j,Y.children||[]),it.return=H,H=it;break t}else{u(H,j);break}else o(H,j);j=j.sibling}it=km(Y,H.mode,it),it.return=H,H=it}return E(H);case R:return mt=Y._init,Y=mt(Y._payload),ie(H,j,Y,it)}if(vt(Y))return wt(H,j,Y,it);if(U(Y)){if(mt=U(Y),typeof mt!="function")throw Error(i(150));return Y=mt.call(Y),xt(H,j,Y,it)}if(typeof Y.then=="function")return ie(H,j,Fh(Y),it);if(Y.$$typeof===B)return ie(H,j,Ch(H,Y),it);jh(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(u(H,j.sibling),it=g(j,Y),it.return=H,H=it):(u(H,j),it=Im(Y,H.mode,it),it.return=H,H=it),E(H)):u(H,j)}return function(H,j,Y,it){try{cu=0;var mt=ie(H,j,Y,it);return wo=null,mt}catch(gt){if(gt===eu||gt===Dh)throw gt;var It=Ln(29,gt,null,H.mode);return It.lanes=it,It.return=H,It}finally{}}}var Ro=hb(!0),fb=hb(!1),ii=J(null),Pi=null;function Ws(r){var o=r.alternate;at(ze,ze.current&1),at(ii,r),Pi===null&&(o===null||xo.current!==null||o.memoizedState!==null)&&(Pi=r)}function db(r){if(r.tag===22){if(at(ze,ze.current),at(ii,r),Pi===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Pi=r)}}else $s()}function $s(){at(ze,ze.current),at(ii,ii.current)}function ps(r){ot(ii),Pi===r&&(Pi=null),ot(ze)}var ze=J(0);function Hh(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ig(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function mp(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var pp={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=Fn(),g=Ks(f);g.payload=o,u!=null&&(g.callback=u),o=Xs(r,g,f),o!==null&&(jn(o,r,f),iu(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=Fn(),g=Ks(f);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=Xs(r,g,f),o!==null&&(jn(o,r,f),iu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Fn(),f=Ks(u);f.tag=2,o!=null&&(f.callback=o),o=Xs(r,f,u),o!==null&&(jn(o,r,u),iu(o,r,u))}};function mb(r,o,u,f,g,_,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,E):o.prototype&&o.prototype.isPureReactComponent?!Kl(u,f)||!Kl(g,_):!0}function pb(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&pp.enqueueReplaceState(o,o.state,null)}function ba(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}var qh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function gb(r){qh(r)}function yb(r){console.error(r)}function _b(r){qh(r)}function Gh(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function vb(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function gp(r,o,u){return u=Ks(u),u.tag=3,u.payload={element:null},u.callback=function(){Gh(r,o)},u}function bb(r){return r=Ks(r),r.tag=3,r}function Tb(r,o,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var _=f.value;r.payload=function(){return g(_)},r.callback=function(){vb(o,u,f)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){vb(o,u,f),typeof g!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function vM(r,o,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Zl(o,u,g,!0),u=ii.current,u!==null){switch(u.tag){case 13:return Pi===null?Up():u.alternate===null&&Te===0&&(Te=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===Gm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),jp(r,f,g)),!1;case 22:return u.flags|=65536,f===Gm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),jp(r,f,g)),!1}throw Error(i(435,u.tag))}return jp(r,f,g),Up(),!1}if(Kt)return o=ii.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==Bm&&(r=Error(i(422),{cause:f}),$l(Jn(r,u)))):(f!==Bm&&(o=Error(i(423),{cause:f}),$l(Jn(o,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=Jn(f,u),g=gp(r.stateNode,f,g),Xm(r,g),Te!==4&&(Te=2)),!1;var _=Error(i(520),{cause:f});if(_=Jn(_,u),_u===null?_u=[_]:_u.push(_),Te!==4&&(Te=2),o===null)return!0;f=Jn(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=gp(u.stateNode,f,r),Xm(u,r),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ir===null||!ir.has(_))))return u.flags|=65536,g&=-g,u.lanes|=g,g=bb(g),Tb(g,r,u,f),Xm(u,g),!1}u=u.return}while(u!==null);return!1}var xb=Error(i(461)),Ke=!1;function tn(r,o,u,f){o.child=r===null?fb(o,null,u,f):Ro(o,r.child,u,f)}function Eb(r,o,u,f,g){u=u.render;var _=o.ref;if("ref"in f){var E={};for(var C in f)C!=="ref"&&(E[C]=f[C])}else E=f;return ya(o),f=Jm(r,o,u,E,_,g),C=tp(),r!==null&&!Ke?(ep(r,o,g),gs(r,o,g)):(Kt&&C&&Nm(o),o.flags|=1,tn(r,o,f,g),o.child)}function Sb(r,o,u,f,g){if(r===null){var _=u.type;return typeof _=="function"&&!Pm(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,Ab(r,o,_,f,g)):(r=Sh(u.type,null,f,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,!Sp(r,g)){var E=_.memoizedProps;if(u=u.compare,u=u!==null?u:Kl,u(E,f)&&r.ref===o.ref)return gs(r,o,g)}return o.flags|=1,r=us(_,f),r.ref=o.ref,r.return=o,o.child=r}function Ab(r,o,u,f,g){if(r!==null){var _=r.memoizedProps;if(Kl(_,f)&&r.ref===o.ref)if(Ke=!1,o.pendingProps=f=_,Sp(r,g))(r.flags&131072)!==0&&(Ke=!0);else return o.lanes=r.lanes,gs(r,o,g)}return yp(r,o,u,f,g)}function wb(r,o,u){var f=o.pendingProps,g=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=_!==null?_.baseLanes|u:u,r!==null){for(g=o.child=r.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;o.childLanes=_&~f}else o.childLanes=0,o.child=null;return Rb(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Mh(o,_!==null?_.cachePool:null),_!==null?Av(o,_):Wm(),db(o);else return o.lanes=o.childLanes=536870912,Rb(r,o,_!==null?_.baseLanes|u:u,u)}else _!==null?(Mh(o,_.cachePool),Av(o,_),$s(),o.memoizedState=null):(r!==null&&Mh(o,null),Wm(),$s());return tn(r,o,g,u),o.child}function Rb(r,o,u,f){var g=qm();return g=g===null?null:{parent:Be._currentValue,pool:g},o.memoizedState={baseLanes:u,cachePool:g},r!==null&&Mh(o,null),Wm(),db(o),r!==null&&Zl(r,o,f,!0),null}function Yh(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function yp(r,o,u,f,g){return ya(o),u=Jm(r,o,u,f,void 0,g),f=tp(),r!==null&&!Ke?(ep(r,o,g),gs(r,o,g)):(Kt&&f&&Nm(o),o.flags|=1,tn(r,o,u,g),o.child)}function Cb(r,o,u,f,g,_){return ya(o),o.updateQueue=null,u=Rv(o,f,u,g),wv(r),f=tp(),r!==null&&!Ke?(ep(r,o,_),gs(r,o,_)):(Kt&&f&&Nm(o),o.flags|=1,tn(r,o,u,_),o.child)}function Mb(r,o,u,f,g){if(ya(o),o.stateNode===null){var _=yo,E=u.contextType;typeof E=="object"&&E!==null&&(_=un(E)),_=new u(f,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=pp,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=f,_.state=o.memoizedState,_.refs={},Ym(o),E=u.contextType,_.context=typeof E=="object"&&E!==null?un(E):yo,_.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(mp(o,u,E,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&pp.enqueueReplaceState(_,_.state,null),ru(o,f,_,g),su(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){_=o.stateNode;var C=o.memoizedProps,L=ba(u,C);_.props=L;var K=_.context,tt=u.contextType;E=yo,typeof tt=="object"&&tt!==null&&(E=un(tt));var st=u.getDerivedStateFromProps;tt=typeof st=="function"||typeof _.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,tt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C||K!==E)&&pb(o,_,f,E),Ys=!1;var X=o.memoizedState;_.state=X,ru(o,f,_,g),su(),K=o.memoizedState,C||X!==K||Ys?(typeof st=="function"&&(mp(o,u,st,f),K=o.memoizedState),(L=Ys||mb(o,u,L,f,X,K,E))?(tt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=K),_.props=f,_.state=K,_.context=E,f=L):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{_=o.stateNode,Km(r,o),E=o.memoizedProps,tt=ba(u,E),_.props=tt,st=o.pendingProps,X=_.context,K=u.contextType,L=yo,typeof K=="object"&&K!==null&&(L=un(K)),C=u.getDerivedStateFromProps,(K=typeof C=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==st||X!==L)&&pb(o,_,f,L),Ys=!1,X=o.memoizedState,_.state=X,ru(o,f,_,g),su();var W=o.memoizedState;E!==st||X!==W||Ys||r!==null&&r.dependencies!==null&&Rh(r.dependencies)?(typeof C=="function"&&(mp(o,u,C,f),W=o.memoizedState),(tt=Ys||mb(o,u,tt,f,X,W,L)||r!==null&&r.dependencies!==null&&Rh(r.dependencies))?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,W,L),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,W,L)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=W),_.props=f,_.state=W,_.context=L,f=tt):(typeof _.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(o.flags|=1024),f=!1)}return _=f,Yh(r,o),f=(o.flags&128)!==0,_||f?(_=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,r!==null&&f?(o.child=Ro(o,r.child,null,g),o.child=Ro(o,null,u,g)):tn(r,o,u,g),o.memoizedState=_.state,r=o.child):r=gs(r,o,g),r}function Db(r,o,u,f){return Wl(),o.flags|=256,tn(r,o,u,f),o.child}var _p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(r){return{baseLanes:r,cachePool:yv()}}function bp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=si),r}function Ob(r,o,u){var f=o.pendingProps,g=!1,_=(o.flags&128)!==0,E;if((E=_)||(E=r!==null&&r.memoizedState===null?!1:(ze.current&2)!==0),E&&(g=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,r===null){if(Kt){if(g?Ws(o):$s(),Kt){var C=be,L;if(L=C){t:{for(L=C,C=Vi;L.nodeType!==8;){if(!C){C=null;break t}if(L=gi(L.nextSibling),L===null){C=null;break t}}C=L}C!==null?(o.memoizedState={dehydrated:C,treeContext:fa!==null?{id:cs,overflow:hs}:null,retryLane:536870912,hydrationErrors:null},L=Ln(18,null,null,0),L.stateNode=C,L.return=o,o.child=L,xn=o,be=null,L=!0):L=!1}L||pa(o)}if(C=o.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ig(C)?o.lanes=32:o.lanes=536870912,null;ps(o)}return C=f.children,f=f.fallback,g?($s(),g=o.mode,C=Kh({mode:"hidden",children:C},g),f=ha(f,g,u,null),C.return=o,f.return=o,C.sibling=f,o.child=C,g=o.child,g.memoizedState=vp(u),g.childLanes=bp(r,E,u),o.memoizedState=_p,f):(Ws(o),Tp(o,C))}if(L=r.memoizedState,L!==null&&(C=L.dehydrated,C!==null)){if(_)o.flags&256?(Ws(o),o.flags&=-257,o=xp(r,o,u)):o.memoizedState!==null?($s(),o.child=r.child,o.flags|=128,o=null):($s(),g=f.fallback,C=o.mode,f=Kh({mode:"visible",children:f.children},C),g=ha(g,C,u,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,Ro(o,r.child,null,u),f=o.child,f.memoizedState=vp(u),f.childLanes=bp(r,E,u),o.memoizedState=_p,o=g);else if(Ws(o),ig(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var K=E.dgst;E=K,f=Error(i(419)),f.stack="",f.digest=E,$l({value:f,source:null,stack:null}),o=xp(r,o,u)}else if(Ke||Zl(r,o,u,!1),E=(u&r.childLanes)!==0,Ke||E){if(E=ae,E!==null&&(f=u&-u,f=(f&42)!==0?1:Bs(f),f=(f&(E.suspendedLanes|u))!==0?0:f,f!==0&&f!==L.retryLane))throw L.retryLane=f,go(r,f),jn(E,r,f),xb;C.data==="$?"||Up(),o=xp(r,o,u)}else C.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=L.treeContext,be=gi(C.nextSibling),xn=o,Kt=!0,ma=null,Vi=!1,r!==null&&(ei[ni++]=cs,ei[ni++]=hs,ei[ni++]=fa,cs=r.id,hs=r.overflow,fa=o),o=Tp(o,f.children),o.flags|=4096);return o}return g?($s(),g=f.fallback,C=o.mode,L=r.child,K=L.sibling,f=us(L,{mode:"hidden",children:f.children}),f.subtreeFlags=L.subtreeFlags&65011712,K!==null?g=us(K,g):(g=ha(g,C,u,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,C=r.child.memoizedState,C===null?C=vp(u):(L=C.cachePool,L!==null?(K=Be._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=yv(),C={baseLanes:C.baseLanes|u,cachePool:L}),g.memoizedState=C,g.childLanes=bp(r,E,u),o.memoizedState=_p,f):(Ws(o),u=r.child,r=u.sibling,u=us(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(E=o.deletions,E===null?(o.deletions=[r],o.flags|=16):E.push(r)),o.child=u,o.memoizedState=null,u)}function Tp(r,o){return o=Kh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Kh(r,o){return r=Ln(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function xp(r,o,u){return Ro(o,r.child,null,u),r=Tp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Vb(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Um(r.return,o,u)}function Ep(r,o,u,f,g){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function Pb(r,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(tn(r,o,f.children,u),f=ze.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vb(r,u,o);else if(r.tag===19)Vb(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(at(ze,f),g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&Hh(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Ep(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&Hh(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Ep(o,!0,u,null,_);break;case"together":Ep(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gs(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),nr|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Zl(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=us(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=us(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Sp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Rh(r)))}function bM(r,o,u){switch(o.tag){case 3:re(o,o.stateNode.containerInfo),Gs(o,Be,r.memoizedState.cache),Wl();break;case 27:case 5:Ls(o);break;case 4:re(o,o.stateNode.containerInfo);break;case 10:Gs(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ws(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Ob(r,o,u):(Ws(o),r=gs(r,o,u),r!==null?r.sibling:null);Ws(o);break;case 19:var g=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Zl(r,o,u,!1),f=(u&o.childLanes)!==0),g){if(f)return Pb(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(ze,ze.current),f)break;return null;case 22:case 23:return o.lanes=0,wb(r,o,u);case 24:Gs(o,Be,r.memoizedState.cache)}return gs(r,o,u)}function Ib(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Ke=!0;else{if(!Sp(r,u)&&(o.flags&128)===0)return Ke=!1,bM(r,o,u);Ke=(r.flags&131072)!==0}else Ke=!1,Kt&&(o.flags&1048576)!==0&&cv(o,wh,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Pm(f)?(r=ba(f,r),o.tag=1,o=Mb(null,o,f,r,u)):(o.tag=0,o=yp(null,o,f,r,u));else{if(f!=null){if(g=f.$$typeof,g===q){o.tag=11,o=Eb(null,o,f,r,u);break t}else if(g===V){o.tag=14,o=Sb(null,o,f,r,u);break t}}throw o=Bt(f)||f,Error(i(306,o,""))}}return o;case 0:return yp(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,g=ba(f,o.pendingProps),Mb(r,o,f,g,u);case 3:t:{if(re(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var _=o.memoizedState;g=_.element,Km(r,o),ru(o,f,null,u);var E=o.memoizedState;if(f=E.cache,Gs(o,Be,f),f!==_.cache&&Fm(o,[Be],u,!0),su(),f=E.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Db(r,o,f,u);break t}else if(f!==g){g=Jn(Error(i(424)),o),$l(g),o=Db(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(be=gi(r.firstChild),xn=o,Kt=!0,ma=null,Vi=!0,u=fb(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Wl(),f===g){o=gs(r,o,u);break t}tn(r,o,f,u)}o=o.child}return o;case 26:return Yh(r,o),r===null?(u=BT(o.type,null,o.pendingProps,null))?o.memoizedState=u:Kt||(u=o.type,r=o.pendingProps,f=lf(pt.current).createElement(u),f[ke]=o,f[De]=r,nn(f,u,r),Se(f),o.stateNode=f):o.memoizedState=BT(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Ls(o),r===null&&Kt&&(f=o.stateNode=kT(o.type,o.pendingProps,pt.current),xn=o,Vi=!0,g=be,ar(o.type)?(sg=g,be=gi(f.firstChild)):be=g),tn(r,o,o.pendingProps.children,u),Yh(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Kt&&((g=f=be)&&(f=XM(f,o.type,o.pendingProps,Vi),f!==null?(o.stateNode=f,xn=o,be=gi(f.firstChild),Vi=!1,g=!0):g=!1),g||pa(o)),Ls(o),g=o.type,_=o.pendingProps,E=r!==null?r.memoizedProps:null,f=_.children,tg(g,_)?f=null:E!==null&&tg(g,E)&&(o.flags|=32),o.memoizedState!==null&&(g=Jm(r,o,fM,null,null,u),Ru._currentValue=g),Yh(r,o),tn(r,o,f,u),o.child;case 6:return r===null&&Kt&&((r=u=be)&&(u=QM(u,o.pendingProps,Vi),u!==null?(o.stateNode=u,xn=o,be=null,r=!0):r=!1),r||pa(o)),null;case 13:return Ob(r,o,u);case 4:return re(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Ro(o,null,f,u):tn(r,o,f,u),o.child;case 11:return Eb(r,o,o.type,o.pendingProps,u);case 7:return tn(r,o,o.pendingProps,u),o.child;case 8:return tn(r,o,o.pendingProps.children,u),o.child;case 12:return tn(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Gs(o,o.type,f.value),tn(r,o,f.children,u),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,ya(o),g=un(g),f=f(g),o.flags|=1,tn(r,o,f,u),o.child;case 14:return Sb(r,o,o.type,o.pendingProps,u);case 15:return Ab(r,o,o.type,o.pendingProps,u);case 19:return Pb(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=Kh(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=us(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return wb(r,o,u);case 24:return ya(o),f=un(Be),r===null?(g=qm(),g===null&&(g=ae,_=jm(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=u),g=_),o.memoizedState={parent:f,cache:g},Ym(o),Gs(o,Be,g)):((r.lanes&u)!==0&&(Km(r,o),ru(o,null,null,u),su()),g=r.memoizedState,_=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Gs(o,Be,f)):(f=_.cache,Gs(o,Be,f),f!==g.cache&&Fm(o,[Be],u,!0))),tn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function ys(r){r.flags|=4}function kb(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!HT(o)){if(o=ii.current,o!==null&&((Ht&4194048)===Ht?Pi!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||o!==Pi))throw nu=Gm,_v;r.flags|=8192}}function Xh(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Ml():536870912,r.lanes|=o,Oo|=o)}function fu(r,o){if(!Kt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function pe(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function TM(r,o,u){var f=o.pendingProps;switch(Lm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(o),null;case 1:return pe(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ds(Be),bi(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Ql(o)?ys(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dv())),pe(o),null;case 26:return u=o.memoizedState,r===null?(ys(o),u!==null?(pe(o),kb(o,u)):(pe(o),o.flags&=-16777217)):u?u!==r.memoizedState?(ys(o),pe(o),kb(o,u)):(pe(o),o.flags&=-16777217):(r.memoizedProps!==f&&ys(o),pe(o),o.flags&=-16777217),null;case 27:Wi(o),u=pt.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&ys(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return pe(o),null}r=ft.current,Ql(o)?hv(o):(r=kT(g,f,u),o.stateNode=r,ys(o))}return pe(o),null;case 5:if(Wi(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&ys(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return pe(o),null}if(r=ft.current,Ql(o))hv(o);else{switch(g=lf(pt.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(u,{is:f.is}):g.createElement(u)}}r[ke]=o,r[De]=f;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(nn(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ys(o)}}return pe(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&ys(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=pt.current,Ql(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,g=xn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[ke]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||CT(r.nodeValue,u)),r||pa(o)}else r=lf(r).createTextNode(f),r[ke]=o,o.stateNode=r}return pe(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Ql(o),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[ke]=o}else Wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pe(o),g=!1}else g=dv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(ps(o),o):(ps(o),null)}if(ps(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Xh(o,o.updateQueue),pe(o),null;case 4:return bi(),r===null&&Qp(o.stateNode.containerInfo),pe(o),null;case 10:return ds(o.type),pe(o),null;case 19:if(ot(ze),g=o.memoizedState,g===null)return pe(o),null;if(f=(o.flags&128)!==0,_=g.rendering,_===null)if(f)fu(g,!1);else{if(Te!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(_=Hh(r),_!==null){for(o.flags|=128,fu(g,!1),r=_.updateQueue,o.updateQueue=r,Xh(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)uv(u,r),u=u.sibling;return at(ze,ze.current&1|2),o.child}r=r.sibling}g.tail!==null&&Kn()>$h&&(o.flags|=128,f=!0,fu(g,!1),o.lanes=4194304)}else{if(!f)if(r=Hh(_),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Xh(o,r),fu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Kt)return pe(o),null}else 2*Kn()-g.renderingStartTime>$h&&u!==536870912&&(o.flags|=128,f=!0,fu(g,!1),o.lanes=4194304);g.isBackwards?(_.sibling=o.child,o.child=_):(r=g.last,r!==null?r.sibling=_:o.child=_,g.last=_)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Kn(),o.sibling=null,r=ze.current,at(ze,f?r&1|2:r&1),o):(pe(o),null);case 22:case 23:return ps(o),$m(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(pe(o),o.subtreeFlags&6&&(o.flags|=8192)):pe(o),u=o.updateQueue,u!==null&&Xh(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&ot(_a),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ds(Be),pe(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function xM(r,o){switch(Lm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ds(Be),bi(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Wi(o),null;case 13:if(ps(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Wl()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ot(ze),null;case 4:return bi(),null;case 10:return ds(o.type),null;case 22:case 23:return ps(o),$m(),r!==null&&ot(_a),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return ds(Be),null;case 25:return null;default:return null}}function Nb(r,o){switch(Lm(o),o.tag){case 3:ds(Be),bi();break;case 26:case 27:case 5:Wi(o);break;case 4:bi();break;case 13:ps(o);break;case 19:ot(ze);break;case 10:ds(o.type);break;case 22:case 23:ps(o),$m(),r!==null&&ot(_a);break;case 24:ds(Be)}}function du(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var _=u.create,E=u.inst;f=_(),E.destroy=f}u=u.next}while(u!==g)}}catch(C){se(o,o.return,C)}}function Zs(r,o,u){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var _=g.next;f=_;do{if((f.tag&r)===r){var E=f.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=o;var L=u,K=C;try{K()}catch(tt){se(g,L,tt)}}}f=f.next}while(f!==_)}}catch(tt){se(o,o.return,tt)}}function Lb(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Sv(o,u)}catch(f){se(r,r.return,f)}}}function Bb(r,o,u){u.props=ba(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){se(r,o,f)}}function mu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){se(r,o,g)}}function Ii(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){se(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){se(r,o,g)}else u.current=null}function zb(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){se(r,r.return,g)}}function Ap(r,o,u){try{var f=r.stateNode;HM(f,r.type,u,o),f[De]=o}catch(g){se(r,r.return,g)}}function Ub(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ar(r.type)||r.tag===4}function wp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Ub(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ar(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=of));else if(f!==4&&(f===27&&ar(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Rp(r,o,u),r=r.sibling;r!==null;)Rp(r,o,u),r=r.sibling}function Qh(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&ar(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Qh(r,o,u),r=r.sibling;r!==null;)Qh(r,o,u),r=r.sibling}function Fb(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);nn(o,f,u),o[ke]=r,o[De]=u}catch(_){se(r,r.return,_)}}var _s=!1,we=!1,Cp=!1,jb=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function EM(r,o){if(r=r.containerInfo,Zp=mf,r=J_(r),wm(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break t}var E=0,C=-1,L=-1,K=0,tt=0,st=r,X=null;e:for(;;){for(var W;st!==u||g!==0&&st.nodeType!==3||(C=E+g),st!==_||f!==0&&st.nodeType!==3||(L=E+f),st.nodeType===3&&(E+=st.nodeValue.length),(W=st.firstChild)!==null;)X=st,st=W;for(;;){if(st===r)break e;if(X===u&&++K===g&&(C=E),X===_&&++tt===f&&(L=E),(W=st.nextSibling)!==null)break;st=X,X=st.parentNode}st=W}u=C===-1||L===-1?null:{start:C,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jp={focusedElem:r,selectionRange:u},mf=!1,Xe=o;Xe!==null;)if(o=Xe,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Xe=r;else for(;Xe!==null;){switch(o=Xe,_=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,u=o,g=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var wt=ba(u.type,g,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(wt,_),f.__reactInternalSnapshotBeforeUpdate=r}catch(xt){se(u,u.return,xt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)ng(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ng(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Xe=r;break}Xe=o.return}}function Hb(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Js(r,u),f&4&&du(5,u);break;case 1:if(Js(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(E){se(u,u.return,E)}else{var g=ba(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(E){se(u,u.return,E)}}f&64&&Lb(u),f&512&&mu(u,u.return);break;case 3:if(Js(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Sv(r,o)}catch(E){se(u,u.return,E)}}break;case 27:o===null&&f&4&&Fb(u);case 26:case 5:Js(r,u),o===null&&f&4&&zb(u),f&512&&mu(u,u.return);break;case 12:Js(r,u);break;case 13:Js(r,u),f&4&&Yb(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=VM.bind(null,u),WM(r,u))));break;case 22:if(f=u.memoizedState!==null||_s,!f){o=o!==null&&o.memoizedState!==null||we,g=_s;var _=we;_s=f,(we=o)&&!_?tr(r,u,(u.subtreeFlags&8772)!==0):Js(r,u),_s=g,we=_}break;case 30:break;default:Js(r,u)}}function qb(r){var o=r.alternate;o!==null&&(r.alternate=null,qb(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Fs(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var he=null,An=!1;function vs(r,o,u){for(u=u.child;u!==null;)Gb(r,o,u),u=u.sibling}function Gb(r,o,u){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ve,u)}catch{}switch(u.tag){case 26:we||Ii(u,o),vs(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:we||Ii(u,o);var f=he,g=An;ar(u.type)&&(he=u.stateNode,An=!1),vs(r,o,u),Eu(u.stateNode),he=f,An=g;break;case 5:we||Ii(u,o);case 6:if(f=he,g=An,he=null,vs(r,o,u),he=f,An=g,he!==null)if(An)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(u.stateNode)}catch(_){se(u,o,_)}else try{he.removeChild(u.stateNode)}catch(_){se(u,o,_)}break;case 18:he!==null&&(An?(r=he,PT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Ou(r)):PT(he,u.stateNode));break;case 4:f=he,g=An,he=u.stateNode.containerInfo,An=!0,vs(r,o,u),he=f,An=g;break;case 0:case 11:case 14:case 15:we||Zs(2,u,o),we||Zs(4,u,o),vs(r,o,u);break;case 1:we||(Ii(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Bb(u,o,f)),vs(r,o,u);break;case 21:vs(r,o,u);break;case 22:we=(f=we)||u.memoizedState!==null,vs(r,o,u),we=f;break;default:vs(r,o,u)}}function Yb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ou(r)}catch(u){se(o,o.return,u)}}function SM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new jb),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new jb),o;default:throw Error(i(435,r.tag))}}function Mp(r,o){var u=SM(r);o.forEach(function(f){var g=PM.bind(null,r,f);u.has(f)||(u.add(f),f.then(g,g))})}function Bn(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],_=r,E=o,C=E;t:for(;C!==null;){switch(C.tag){case 27:if(ar(C.type)){he=C.stateNode,An=!1;break t}break;case 5:he=C.stateNode,An=!1;break t;case 3:case 4:he=C.stateNode.containerInfo,An=!0;break t}C=C.return}if(he===null)throw Error(i(160));Gb(_,E,g),he=null,An=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Kb(o,r),o=o.sibling}var pi=null;function Kb(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bn(o,r),zn(r),f&4&&(Zs(3,r,r.return),du(3,r),Zs(5,r,r.return));break;case 1:Bn(o,r),zn(r),f&512&&(we||u===null||Ii(u,u.return)),f&64&&_s&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=pi;if(Bn(o,r),zn(r),f&512&&(we||u===null||Ii(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;e:switch(f){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Qr]||_[ke]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(f),g.head.insertBefore(_,g.querySelector("head > title"))),nn(_,f,u),_[ke]=r,Se(_),f=_;break t;case"link":var E=FT("link","href",g).get(f+(u.href||""));if(E){for(var C=0;C<E.length;C++)if(_=E[C],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(C,1);break e}}_=g.createElement(f),nn(_,f,u),g.head.appendChild(_);break;case"meta":if(E=FT("meta","content",g).get(f+(u.content||""))){for(C=0;C<E.length;C++)if(_=E[C],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(C,1);break e}}_=g.createElement(f),nn(_,f,u),g.head.appendChild(_);break;default:throw Error(i(468,f))}_[ke]=r,Se(_),f=_}r.stateNode=f}else jT(g,r.type,r.stateNode);else r.stateNode=UT(g,f,r.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?jT(g,r.type,r.stateNode):UT(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Ap(r,r.memoizedProps,u.memoizedProps)}break;case 27:Bn(o,r),zn(r),f&512&&(we||u===null||Ii(u,u.return)),u!==null&&f&4&&Ap(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Bn(o,r),zn(r),f&512&&(we||u===null||Ii(u,u.return)),r.flags&32){g=r.stateNode;try{Qn(g,"")}catch(W){se(r,r.return,W)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Ap(r,g,u!==null?u.memoizedProps:g)),f&1024&&(Cp=!0);break;case 6:if(Bn(o,r),zn(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(W){se(r,r.return,W)}}break;case 3:if(hf=null,g=pi,pi=uf(o.containerInfo),Bn(o,r),pi=g,zn(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ou(o.containerInfo)}catch(W){se(r,r.return,W)}Cp&&(Cp=!1,Xb(r));break;case 4:f=pi,pi=uf(r.stateNode.containerInfo),Bn(o,r),zn(r),pi=f;break;case 12:Bn(o,r),zn(r);break;case 13:Bn(o,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(kp=Kn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mp(r,f)));break;case 22:g=r.memoizedState!==null;var L=u!==null&&u.memoizedState!==null,K=_s,tt=we;if(_s=K||g,we=tt||L,Bn(o,r),we=tt,_s=K,zn(r),f&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||L||_s||we||Ta(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){L=u=o;try{if(_=L.stateNode,g)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=L.stateNode;var st=L.memoizedProps.style,X=st!=null&&st.hasOwnProperty("display")?st.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){se(L,L.return,W)}}}else if(o.tag===6){if(u===null){L=o;try{L.stateNode.nodeValue=g?"":L.memoizedProps}catch(W){se(L,L.return,W)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Mp(r,u))));break;case 19:Bn(o,r),zn(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mp(r,f)));break;case 30:break;case 21:break;default:Bn(o,r),zn(r)}}function zn(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(Ub(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,_=wp(r);Qh(r,_,g);break;case 5:var E=u.stateNode;u.flags&32&&(Qn(E,""),u.flags&=-33);var C=wp(r);Qh(r,C,E);break;case 3:case 4:var L=u.stateNode.containerInfo,K=wp(r);Rp(r,K,L);break;default:throw Error(i(161))}}catch(tt){se(r,r.return,tt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Xb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Xb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Js(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Hb(r,o.alternate,o),o=o.sibling}function Ta(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Zs(4,o,o.return),Ta(o);break;case 1:Ii(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Bb(o,o.return,u),Ta(o);break;case 27:Eu(o.stateNode);case 26:case 5:Ii(o,o.return),Ta(o);break;case 22:o.memoizedState===null&&Ta(o);break;case 30:Ta(o);break;default:Ta(o)}r=r.sibling}}function tr(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=r,_=o,E=_.flags;switch(_.tag){case 0:case 11:case 15:tr(g,_,u),du(4,_);break;case 1:if(tr(g,_,u),f=_,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){se(f,f.return,K)}if(f=_,g=f.updateQueue,g!==null){var C=f.stateNode;try{var L=g.shared.hiddenCallbacks;if(L!==null)for(g.shared.hiddenCallbacks=null,g=0;g<L.length;g++)Ev(L[g],C)}catch(K){se(f,f.return,K)}}u&&E&64&&Lb(_),mu(_,_.return);break;case 27:Fb(_);case 26:case 5:tr(g,_,u),u&&f===null&&E&4&&zb(_),mu(_,_.return);break;case 12:tr(g,_,u);break;case 13:tr(g,_,u),u&&E&4&&Yb(g,_);break;case 22:_.memoizedState===null&&tr(g,_,u),mu(_,_.return);break;case 30:break;default:tr(g,_,u)}o=o.sibling}}function Dp(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Jl(u))}function Op(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Jl(r))}function ki(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Qb(r,o,u,f),o=o.sibling}function Qb(r,o,u,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ki(r,o,u,f),g&2048&&du(9,o);break;case 1:ki(r,o,u,f);break;case 3:ki(r,o,u,f),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Jl(r)));break;case 12:if(g&2048){ki(r,o,u,f),r=o.stateNode;try{var _=o.memoizedProps,E=_.id,C=_.onPostCommit;typeof C=="function"&&C(E,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){se(o,o.return,L)}}else ki(r,o,u,f);break;case 13:ki(r,o,u,f);break;case 23:break;case 22:_=o.stateNode,E=o.alternate,o.memoizedState!==null?_._visibility&2?ki(r,o,u,f):pu(r,o):_._visibility&2?ki(r,o,u,f):(_._visibility|=2,Co(r,o,u,f,(o.subtreeFlags&10256)!==0)),g&2048&&Dp(E,o);break;case 24:ki(r,o,u,f),g&2048&&Op(o.alternate,o);break;default:ki(r,o,u,f)}}function Co(r,o,u,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=r,E=o,C=u,L=f,K=E.flags;switch(E.tag){case 0:case 11:case 15:Co(_,E,C,L,g),du(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?Co(_,E,C,L,g):pu(_,E):(tt._visibility|=2,Co(_,E,C,L,g)),g&&K&2048&&Dp(E.alternate,E);break;case 24:Co(_,E,C,L,g),g&&K&2048&&Op(E.alternate,E);break;default:Co(_,E,C,L,g)}o=o.sibling}}function pu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,g=f.flags;switch(f.tag){case 22:pu(u,f),g&2048&&Dp(f.alternate,f);break;case 24:pu(u,f),g&2048&&Op(f.alternate,f);break;default:pu(u,f)}o=o.sibling}}var gu=8192;function Mo(r){if(r.subtreeFlags&gu)for(r=r.child;r!==null;)Wb(r),r=r.sibling}function Wb(r){switch(r.tag){case 26:Mo(r),r.flags&gu&&r.memoizedState!==null&&uD(pi,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var o=pi;pi=uf(r.stateNode.containerInfo),Mo(r),pi=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=gu,gu=16777216,Mo(r),gu=o):Mo(r));break;default:Mo(r)}}function $b(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function yu(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Xe=f,Jb(f,r)}$b(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zb(r),r=r.sibling}function Zb(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&Zs(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Wh(r)):yu(r);break;default:yu(r)}}function Wh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Xe=f,Jb(f,r)}$b(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Zs(8,o,o.return),Wh(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Wh(o));break;default:Wh(o)}r=r.sibling}}function Jb(r,o){for(;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:Zs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Jl(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Xe=f;else t:for(u=r;Xe!==null;){f=Xe;var g=f.sibling,_=f.return;if(qb(f),f===u){Xe=null;break t}if(g!==null){g.return=_,Xe=g;break t}Xe=_}}}var AM={getCacheForType:function(r){var o=un(Be),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},wM=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,kt=null,Ht=0,Zt=0,Un=null,er=!1,Do=!1,Vp=!1,bs=0,Te=0,nr=0,xa=0,Pp=0,si=0,Oo=0,_u=null,wn=null,Ip=!1,kp=0,$h=1/0,Zh=null,ir=null,en=0,sr=null,Vo=null,Po=0,Np=0,Lp=null,tT=null,vu=0,Bp=null;function Fn(){if(($t&2)!==0&&Ht!==0)return Ht&-Ht;if(Q.T!==null){var r=bo;return r!==0?r:Gp()}return zs()}function eT(){si===0&&(si=(Ht&536870912)===0||Kt?Cl():536870912);var r=ii.current;return r!==null&&(r.flags|=32),si}function jn(r,o,u){(r===ae&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)&&(Io(r,0),rr(r,Ht,si,!1)),Zi(r,u),(($t&2)===0||r!==ae)&&(r===ae&&(($t&2)===0&&(xa|=u),Te===4&&rr(r,Ht,si,!1)),Ni(r))}function nT(r,o,u){if(($t&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||Xr(r,o),g=f?MM(r,o):Fp(r,o,!0),_=f;do{if(g===0){Do&&!f&&rr(r,o,0,!1);break}else{if(u=r.current.alternate,_&&!RM(u)){g=Fp(r,o,!1),_=!1;continue}if(g===2){if(_=o,r.errorRecoveryDisabledLanes&_)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;t:{var C=r;g=_u;var L=C.current.memoizedState.isDehydrated;if(L&&(Io(C,E).flags|=256),E=Fp(C,E,!1),E!==2){if(Vp&&!L){C.errorRecoveryDisabledLanes|=_,xa|=_,g=4;break t}_=wn,wn=g,_!==null&&(wn===null?wn=_:wn.push.apply(wn,_))}g=E}if(_=!1,g!==2)continue}}if(g===1){Io(r,0),rr(r,o,0,!0);break}t:{switch(f=r,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:rr(f,o,si,!er);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=kp+300-Kn(),10<g)){if(rr(f,o,si,!er),Wa(f,0,!0)!==0)break t;f.timeoutHandle=OT(iT.bind(null,f,u,wn,Zh,Ip,o,si,xa,Oo,er,_,2,-0,0),g);break t}iT(f,u,wn,Zh,Ip,o,si,xa,Oo,er,_,0,-0,0)}}break}while(!0);Ni(r)}function iT(r,o,u,f,g,_,E,C,L,K,tt,st,X,W){if(r.timeoutHandle=-1,st=o.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:lD},Wb(o),st=cD(),st!==null)){r.cancelPendingCommit=st(cT.bind(null,r,o,_,u,f,g,E,C,L,tt,1,X,W)),rr(r,_,E,!K);return}cT(r,o,_,u,f,g,E,C,L)}function RM(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!Nn(_(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function rr(r,o,u,f){o&=~Pp,o&=~xa,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var g=o;0<g;){var _=31-ln(g),E=1<<_;f[_]=-1,g&=~E}u!==0&&Ti(r,u,o)}function Jh(){return($t&6)===0?(bu(0),!1):!0}function zp(){if(kt!==null){if(Zt===0)var r=kt.return;else r=kt,fs=ga=null,np(r),wo=null,cu=0,r=kt;for(;r!==null;)Nb(r.alternate,r),r=r.return;kt=null}}function Io(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,GM(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),zp(),ae=r,kt=u=us(r.current,null),Ht=o,Zt=0,Un=null,er=!1,Do=Xr(r,o),Vp=!1,Oo=si=Pp=xa=nr=Te=0,wn=_u=null,Ip=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var g=31-ln(f),_=1<<g;o|=r[g],f&=~_}return bs=o,Th(),u}function sT(r,o){Vt=null,Q.H=Uh,o===eu||o===Dh?(o=Tv(),Zt=3):o===_v?(o=Tv(),Zt=4):Zt=o===xb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Un=o,kt===null&&(Te=1,Gh(r,Jn(o,r.current)))}function rT(){var r=Q.H;return Q.H=Uh,r===null?Uh:r}function aT(){var r=Q.A;return Q.A=AM,r}function Up(){Te=4,er||(Ht&4194048)!==Ht&&ii.current!==null||(Do=!0),(nr&134217727)===0&&(xa&134217727)===0||ae===null||rr(ae,Ht,si,!1)}function Fp(r,o,u){var f=$t;$t|=2;var g=rT(),_=aT();(ae!==r||Ht!==o)&&(Zh=null,Io(r,o)),o=!1;var E=Te;t:do try{if(Zt!==0&&kt!==null){var C=kt,L=Un;switch(Zt){case 8:zp(),E=6;break t;case 3:case 2:case 9:case 6:ii.current===null&&(o=!0);var K=Zt;if(Zt=0,Un=null,ko(r,C,L,K),u&&Do){E=0;break t}break;default:K=Zt,Zt=0,Un=null,ko(r,C,L,K)}}CM(),E=Te;break}catch(tt){sT(r,tt)}while(!0);return o&&r.shellSuspendCounter++,fs=ga=null,$t=f,Q.H=g,Q.A=_,kt===null&&(ae=null,Ht=0,Th()),E}function CM(){for(;kt!==null;)oT(kt)}function MM(r,o){var u=$t;$t|=2;var f=rT(),g=aT();ae!==r||Ht!==o?(Zh=null,$h=Kn()+500,Io(r,o)):Do=Xr(r,o);t:do try{if(Zt!==0&&kt!==null){o=kt;var _=Un;e:switch(Zt){case 1:Zt=0,Un=null,ko(r,o,_,1);break;case 2:case 9:if(vv(_)){Zt=0,Un=null,lT(o);break}o=function(){Zt!==2&&Zt!==9||ae!==r||(Zt=7),Ni(r)},_.then(o,o);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:vv(_)?(Zt=0,Un=null,lT(o)):(Zt=0,Un=null,ko(r,o,_,7));break;case 5:var E=null;switch(kt.tag){case 26:E=kt.memoizedState;case 5:case 27:var C=kt;if(!E||HT(E)){Zt=0,Un=null;var L=C.sibling;if(L!==null)kt=L;else{var K=C.return;K!==null?(kt=K,tf(K)):kt=null}break e}}Zt=0,Un=null,ko(r,o,_,5);break;case 6:Zt=0,Un=null,ko(r,o,_,6);break;case 8:zp(),Te=6;break t;default:throw Error(i(462))}}DM();break}catch(tt){sT(r,tt)}while(!0);return fs=ga=null,Q.H=f,Q.A=g,$t=u,kt!==null?0:(ae=null,Ht=0,Th(),Te)}function DM(){for(;kt!==null&&!Sl();)oT(kt)}function oT(r){var o=Ib(r.alternate,r,bs);r.memoizedProps=r.pendingProps,o===null?tf(r):kt=o}function lT(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=Cb(u,o,o.pendingProps,o.type,void 0,Ht);break;case 11:o=Cb(u,o,o.pendingProps,o.type.render,o.ref,Ht);break;case 5:np(o);default:Nb(u,o),o=kt=uv(o,bs),o=Ib(u,o,bs)}r.memoizedProps=r.pendingProps,o===null?tf(r):kt=o}function ko(r,o,u,f){fs=ga=null,np(o),wo=null,cu=0;var g=o.return;try{if(vM(r,g,o,u,Ht)){Te=1,Gh(r,Jn(u,r.current)),kt=null;return}}catch(_){if(g!==null)throw kt=g,_;Te=1,Gh(r,Jn(u,r.current)),kt=null;return}o.flags&32768?(Kt||f===1?r=!0:Do||(Ht&536870912)!==0?r=!1:(er=r=!0,(f===2||f===9||f===3||f===6)&&(f=ii.current,f!==null&&f.tag===13&&(f.flags|=16384))),uT(o,r)):tf(o)}function tf(r){var o=r;do{if((o.flags&32768)!==0){uT(o,er);return}r=o.return;var u=TM(o.alternate,o,bs);if(u!==null){kt=u;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=r}while(o!==null);Te===0&&(Te=5)}function uT(r,o){do{var u=xM(r.alternate,r);if(u!==null){u.flags&=32767,kt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){kt=r;return}kt=r=u}while(r!==null);Te=6,kt=null}function cT(r,o,u,f,g,_,E,C,L){r.cancelPendingCommit=null;do ef();while(en!==0);if(($t&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=Om,Dl(r,u,_,E,C,L),r===ae&&(kt=ae=null,Ht=0),Vo=o,sr=r,Po=u,Np=_,Lp=g,tT=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,IM(qr,function(){return pT(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=Q.T,Q.T=null,g=nt.p,nt.p=2,E=$t,$t|=4;try{EM(r,o,u)}finally{$t=E,nt.p=g,Q.T=f}}en=1,hT(),fT(),dT()}}function hT(){if(en===1){en=0;var r=sr,o=Vo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null;var f=nt.p;nt.p=2;var g=$t;$t|=4;try{Kb(o,r);var _=Jp,E=J_(r.containerInfo),C=_.focusedElem,L=_.selectionRange;if(E!==C&&C&&C.ownerDocument&&Z_(C.ownerDocument.documentElement,C)){if(L!==null&&wm(C)){var K=L.start,tt=L.end;if(tt===void 0&&(tt=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(tt,C.value.length);else{var st=C.ownerDocument||document,X=st&&st.defaultView||window;if(X.getSelection){var W=X.getSelection(),wt=C.textContent.length,xt=Math.min(L.start,wt),ie=L.end===void 0?xt:Math.min(L.end,wt);!W.extend&&xt>ie&&(E=ie,ie=xt,xt=E);var H=$_(C,xt),j=$_(C,ie);if(H&&j&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var Y=st.createRange();Y.setStart(H.node,H.offset),W.removeAllRanges(),xt>ie?(W.addRange(Y),W.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),W.addRange(Y))}}}}for(st=[],W=C;W=W.parentNode;)W.nodeType===1&&st.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<st.length;C++){var it=st[C];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}mf=!!Zp,Jp=Zp=null}finally{$t=g,nt.p=f,Q.T=u}}r.current=o,en=2}}function fT(){if(en===2){en=0;var r=sr,o=Vo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Q.T,Q.T=null;var f=nt.p;nt.p=2;var g=$t;$t|=4;try{Hb(r,o.alternate,o)}finally{$t=g,nt.p=f,Q.T=u}}en=3}}function dT(){if(en===4||en===3){en=0,Wc();var r=sr,o=Vo,u=Po,f=tT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?en=5:(en=0,Vo=sr=null,mT(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ir=null),$a(u),o=o.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ve,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=Q.T,g=nt.p,nt.p=2,Q.T=null;try{for(var _=r.onRecoverableError,E=0;E<f.length;E++){var C=f[E];_(C.value,{componentStack:C.stack})}}finally{Q.T=o,nt.p=g}}(Po&3)!==0&&ef(),Ni(r),g=r.pendingLanes,(u&4194090)!==0&&(g&42)!==0?r===Bp?vu++:(vu=0,Bp=r):vu=0,bu(0)}}function mT(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Jl(o)))}function ef(r){return hT(),fT(),dT(),pT()}function pT(){if(en!==5)return!1;var r=sr,o=Np;Np=0;var u=$a(Po),f=Q.T,g=nt.p;try{nt.p=32>u?32:u,Q.T=null,u=Lp,Lp=null;var _=sr,E=Po;if(en=0,Vo=sr=null,Po=0,($t&6)!==0)throw Error(i(331));var C=$t;if($t|=4,Zb(_.current),Qb(_,_.current,E,u),$t=C,bu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ve,_)}catch{}return!0}finally{nt.p=g,Q.T=f,mT(r,o)}}function gT(r,o,u){o=Jn(u,o),o=gp(r.stateNode,o,2),r=Xs(r,o,2),r!==null&&(Zi(r,2),Ni(r))}function se(r,o,u){if(r.tag===3)gT(r,r,u);else for(;o!==null;){if(o.tag===3){gT(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))){r=Jn(u,r),u=bb(2),f=Xs(o,u,2),f!==null&&(Tb(u,f,o,r),Zi(f,2),Ni(f));break}}o=o.return}}function jp(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new wM;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(Vp=!0,g.add(u),r=OM.bind(null,r,o,u),o.then(r,r))}function OM(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ae===r&&(Ht&u)===u&&(Te===4||Te===3&&(Ht&62914560)===Ht&&300>Kn()-kp?($t&2)===0&&Io(r,0):Pp|=u,Oo===Ht&&(Oo=0)),Ni(r)}function yT(r,o){o===0&&(o=Ml()),r=go(r,o),r!==null&&(Zi(r,o),Ni(r))}function VM(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),yT(r,u)}function PM(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),yT(r,u)}function IM(r,o){return jr(r,o)}var nf=null,No=null,Hp=!1,sf=!1,qp=!1,Ea=0;function Ni(r){r!==No&&r.next===null&&(No===null?nf=No=r:No=No.next=r),sf=!0,Hp||(Hp=!0,NM())}function bu(r,o){if(!qp&&sf){qp=!0;do for(var u=!1,f=nf;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var _=0;else{var E=f.suspendedLanes,C=f.pingedLanes;_=(1<<31-ln(42|r)+1)-1,_&=g&~(E&~C),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,TT(f,_))}else _=Ht,_=Wa(f,f===ae?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Xr(f,_)||(u=!0,TT(f,_));f=f.next}while(u);qp=!1}}function kM(){_T()}function _T(){sf=Hp=!1;var r=0;Ea!==0&&(qM()&&(r=Ea),Ea=0);for(var o=Kn(),u=null,f=nf;f!==null;){var g=f.next,_=vT(f,o);_===0?(f.next=null,u===null?nf=g:u.next=g,g===null&&(No=u)):(u=f,(r!==0||(_&3)!==0)&&(sf=!0)),f=g}bu(r)}function vT(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var E=31-ln(_),C=1<<E,L=g[E];L===-1?((C&u)===0||(C&f)!==0)&&(g[E]=Rl(C,o)):L<=o&&(r.expiredLanes|=C),_&=~C}if(o=ae,u=Ht,u=Wa(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Hr(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Xr(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&Hr(f),$a(u)){case 2:case 8:u=Xa;break;case 32:u=qr;break;case 268435456:u=Qa;break;default:u=qr}return f=bT.bind(null,r),u=jr(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&Hr(f),r.callbackPriority=2,r.callbackNode=null,2}function bT(r,o){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(ef()&&r.callbackNode!==u)return null;var f=Ht;return f=Wa(r,r===ae?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(nT(r,f,o),vT(r,Kn()),r.callbackNode!=null&&r.callbackNode===u?bT.bind(null,r):null)}function TT(r,o){if(ef())return null;nT(r,o,!0)}function NM(){YM(function(){($t&6)!==0?jr(Al,kM):_T()})}function Gp(){return Ea===0&&(Ea=Cl()),Ea}function xT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:io(""+r)}function ET(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function LM(r,o,u,f,g){if(o==="submit"&&u&&u.stateNode===g){var _=xT((g[De]||null).action),E=f.submitter;E&&(o=(o=E[De]||null)?xT(o.formAction):E.getAttribute("formAction"),o!==null&&(_=o,E=null));var C=new so("action","action",null,f,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ea!==0){var L=E?ET(g,E):new FormData(g);hp(u,{pending:!0,data:L,method:g.method,action:_},null,L)}}else typeof _=="function"&&(C.preventDefault(),L=E?ET(g,E):new FormData(g),hp(u,{pending:!0,data:L,method:g.method,action:_},_,L))},currentTarget:g}]})}}for(var Yp=0;Yp<Dm.length;Yp++){var Kp=Dm[Yp],BM=Kp.toLowerCase(),zM=Kp[0].toUpperCase()+Kp.slice(1);mi(BM,"on"+zM)}mi(nv,"onAnimationEnd"),mi(iv,"onAnimationIteration"),mi(sv,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(nM,"onTransitionRun"),mi(iM,"onTransitionStart"),mi(sM,"onTransitionCancel"),mi(rv,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function ST(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;t:{var _=void 0;if(o)for(var E=f.length-1;0<=E;E--){var C=f[E],L=C.instance,K=C.currentTarget;if(C=C.listener,L!==_&&g.isPropagationStopped())break t;_=C,g.currentTarget=K;try{_(g)}catch(tt){qh(tt)}g.currentTarget=null,_=L}else for(E=0;E<f.length;E++){if(C=f[E],L=C.instance,K=C.currentTarget,C=C.listener,L!==_&&g.isPropagationStopped())break t;_=C,g.currentTarget=K;try{_(g)}catch(tt){qh(tt)}g.currentTarget=null,_=L}}}}function Nt(r,o){var u=o[Vl];u===void 0&&(u=o[Vl]=new Set);var f=r+"__bubble";u.has(f)||(AT(o,r,2,!1),u.add(f))}function Xp(r,o,u){var f=0;o&&(f|=4),AT(u,r,f,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Qp(r){if(!r[rf]){r[rf]=!0,Pl.forEach(function(u){u!=="selectionchange"&&(UM.has(u)||Xp(u,!1,r),Xp(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[rf]||(o[rf]=!0,Xp("selectionchange",!1,o))}}function AT(r,o,u,f){switch(QT(o)){case 2:var g=dD;break;case 8:g=mD;break;default:g=ug}u=g.bind(null,o,u,r),g=void 0,!$n||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function Wp(r,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var C=f.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=f.return;E!==null;){var L=E.tag;if((L===3||L===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=Ji(C),E===null)return;if(L=E.tag,L===5||L===6||L===26||L===27){f=_=E;continue t}C=C.parentNode}}f=f.return}ah(function(){var K=_,tt=Wn(u),st=[];t:{var X=av.get(r);if(X!==void 0){var W=so,wt=r;switch(r){case"keypress":if(Ri(u)===0)break t;case"keydown":case"keyup":W=co;break;case"focusin":wt="focus",W=oo;break;case"focusout":wt="blur",W=oo;break;case"beforeblur":case"afterblur":W=oo;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=mh;break;case nv:case iv:case sv:W=lo;break;case rv:W=gh;break;case"scroll":case"scrollend":W=oh;break;case"wheel":W=ho;break;case"copy":case"cut":case"paste":W=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Gl;break;case"toggle":case"beforetoggle":W=_h}var xt=(o&4)!==0,ie=!xt&&(r==="scroll"||r==="scrollend"),H=xt?X!==null?X+"Capture":null:X;xt=[];for(var j=K,Y;j!==null;){var it=j;if(Y=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Y===null||H===null||(it=na(j,H),it!=null&&xt.push(xu(j,it,Y))),ie)break;j=j.return}0<xt.length&&(X=new W(X,wt,null,u,tt),st.push({event:X,listeners:xt}))}}if((o&7)===0){t:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&u!==is&&(wt=u.relatedTarget||u.fromElement)&&(Ji(wt)||wt[Xn]))break t;if((W||X)&&(X=tt.window===tt?tt:(X=tt.ownerDocument)?X.defaultView||X.parentWindow:window,W?(wt=u.relatedTarget||u.toElement,W=K,wt=wt?Ji(wt):null,wt!==null&&(ie=a(wt),xt=wt.tag,wt!==ie||xt!==5&&xt!==27&&xt!==6)&&(wt=null)):(W=null,wt=K),W!==wt)){if(xt=Zn,it="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(xt=Gl,it="onPointerLeave",H="onPointerEnter",j="pointer"),ie=W==null?X:Ei(W),Y=wt==null?X:Ei(wt),X=new xt(it,j+"leave",W,u,tt),X.target=ie,X.relatedTarget=Y,it=null,Ji(tt)===K&&(xt=new xt(H,j+"enter",wt,u,tt),xt.target=Y,xt.relatedTarget=ie,it=xt),ie=it,W&&wt)e:{for(xt=W,H=wt,j=0,Y=xt;Y;Y=Lo(Y))j++;for(Y=0,it=H;it;it=Lo(it))Y++;for(;0<j-Y;)xt=Lo(xt),j--;for(;0<Y-j;)H=Lo(H),Y--;for(;j--;){if(xt===H||H!==null&&xt===H.alternate)break e;xt=Lo(xt),H=Lo(H)}xt=null}else xt=null;W!==null&&wT(st,X,W,xt,!1),wt!==null&&ie!==null&&wT(st,ie,wt,xt,!0)}}t:{if(X=K?Ei(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var mt=G_;else if(Le(X))if(Y_)mt=JC;else{mt=$C;var It=WC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Bl(K.elementType)&&(mt=G_):mt=ZC;if(mt&&(mt=mt(r,K))){ls(st,mt,u,tt);break t}It&&It(r,X,K),r==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Hs(X,"number",X.value)}switch(It=K?Ei(K):window,r){case"focusin":(Le(It)||It.contentEditable==="true")&&(fo=It,Rm=K,Xl=null);break;case"focusout":Xl=Rm=fo=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,tv(st,u,tt);break;case"selectionchange":if(eM)break;case"keydown":case"keyup":tv(st,u,tt)}var gt;if(Di)t:{switch(r){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ft?Z(r,u)&&(Et="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(x&&u.locale!=="ko"&&(Ft||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ft&&(gt=Ul()):(wi=tt,qs="value"in wi?wi.value:wi.textContent,Ft=!0)),It=af(K,Et),0<It.length&&(Et=new Hl(Et,r,null,u,tt),st.push({event:Et,listeners:It}),gt?Et.data=gt:(gt=ut(u),gt!==null&&(Et.data=gt)))),(gt=b?Ne(r,u):jt(r,u))&&(Et=af(K,"onBeforeInput"),0<Et.length&&(It=new Hl("onBeforeInput","beforeinput",null,u,tt),st.push({event:It,listeners:Et}),It.data=gt)),LM(st,r,K,u,tt)}ST(st,o)})}function xu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function af(r,o){for(var u=o+"Capture",f=[];r!==null;){var g=r,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=na(r,u),g!=null&&f.unshift(xu(r,g,_)),g=na(r,o),g!=null&&f.push(xu(r,g,_))),r.tag===3)return f;r=r.return}return[]}function Lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function wT(r,o,u,f,g){for(var _=o._reactName,E=[];u!==null&&u!==f;){var C=u,L=C.alternate,K=C.stateNode;if(C=C.tag,L!==null&&L===f)break;C!==5&&C!==26&&C!==27||K===null||(L=K,g?(K=na(u,_),K!=null&&E.unshift(xu(u,K,L))):g||(K=na(u,_),K!=null&&E.push(xu(u,K,L)))),u=u.return}E.length!==0&&r.push({event:o,listeners:E})}var FM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function RT(r){return(typeof r=="string"?r:""+r).replace(FM,`
`).replace(jM,"")}function CT(r,o){return o=RT(o),RT(r)===o}function of(){}function ne(r,o,u,f,g,_){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Qn(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Qn(r,""+f);break;case"className":Si(r,"class",f);break;case"tabIndex":Si(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(r,u,f);break;case"style":Ll(r,f,_);break;case"data":if(o!=="object"){Si(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=io(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&ne(r,o,"name",g.name,g,null),ne(r,o,"formEncType",g.formEncType,g,null),ne(r,o,"formMethod",g.formMethod,g,null),ne(r,o,"formTarget",g.formTarget,g,null)):(ne(r,o,"encType",g.encType,g,null),ne(r,o,"method",g.method,g,null),ne(r,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=io(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=of);break;case"onScroll":f!=null&&Nt("scroll",r);break;case"onScrollEnd":f!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=io(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),js(r,"popover",f);break;case"xlinkActuate":Ze(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ze(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ze(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ze(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ze(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ze(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ze(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ze(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ze(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":js(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=bm.get(u)||u,js(r,u,f))}}function $p(r,o,u,f,g,_){switch(u){case"style":Ll(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?Qn(r,f):(typeof f=="number"||typeof f=="bigint")&&Qn(r,""+f);break;case"onScroll":f!=null&&Nt("scroll",r);break;case"onScrollEnd":f!=null&&Nt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),_=r[De]||null,_=_!=null?_[u]:null,typeof _=="function"&&r.removeEventListener(o,_,g),typeof f=="function")){typeof _!="function"&&_!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,g);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):js(r,u,f)}}}function nn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var f=!1,g=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var E=u[_];if(E!=null)switch(_){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ne(r,o,_,E,u,null)}}g&&ne(r,o,"srcSet",u.srcSet,u,null),f&&ne(r,o,"src",u.src,u,null);return;case"input":Nt("invalid",r);var C=_=E=g=null,L=null,K=null;for(f in u)if(u.hasOwnProperty(f)){var tt=u[f];if(tt!=null)switch(f){case"name":g=tt;break;case"type":E=tt;break;case"checked":L=tt;break;case"defaultChecked":K=tt;break;case"value":_=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:ne(r,o,f,tt,u,null)}}Jr(r,_,C,L,K,E,g,!1),no(r);return;case"select":Nt("invalid",r),f=E=_=null;for(g in u)if(u.hasOwnProperty(g)&&(C=u[g],C!=null))switch(g){case"value":_=C;break;case"defaultValue":E=C;break;case"multiple":f=C;default:ne(r,o,g,C,u,null)}o=_,u=E,r.multiple=!!f,o!=null?ns(r,!!f,o,!1):u!=null&&ns(r,!!f,u,!0);return;case"textarea":Nt("invalid",r),_=g=f=null;for(E in u)if(u.hasOwnProperty(E)&&(C=u[E],C!=null))switch(E){case"value":f=C;break;case"defaultValue":g=C;break;case"children":_=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ne(r,o,E,C,u,null)}ta(r,f,g,_),no(r);return;case"option":for(L in u)if(u.hasOwnProperty(L)&&(f=u[L],f!=null))switch(L){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ne(r,o,L,f,u,null)}return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(f=0;f<Tu.length;f++)Nt(Tu[f],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(f=u[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ne(r,o,K,f,u,null)}return;default:if(Bl(o)){for(tt in u)u.hasOwnProperty(tt)&&(f=u[tt],f!==void 0&&$p(r,o,tt,f,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(f=u[C],f!=null&&ne(r,o,C,f,u,null))}function HM(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,E=null,C=null,L=null,K=null,tt=null;for(W in u){var st=u[W];if(u.hasOwnProperty(W)&&st!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=st;default:f.hasOwnProperty(W)||ne(r,o,W,null,f,st)}}for(var X in f){var W=f[X];if(st=u[X],f.hasOwnProperty(X)&&(W!=null||st!=null))switch(X){case"type":_=W;break;case"name":g=W;break;case"checked":K=W;break;case"defaultChecked":tt=W;break;case"value":E=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,o));break;default:W!==st&&ne(r,o,X,W,f,st)}}kn(r,E,C,L,K,tt,_,g);return;case"select":W=E=C=X=null;for(_ in u)if(L=u[_],u.hasOwnProperty(_)&&L!=null)switch(_){case"value":break;case"multiple":W=L;default:f.hasOwnProperty(_)||ne(r,o,_,null,f,L)}for(g in f)if(_=f[g],L=u[g],f.hasOwnProperty(g)&&(_!=null||L!=null))switch(g){case"value":X=_;break;case"defaultValue":C=_;break;case"multiple":E=_;default:_!==L&&ne(r,o,g,_,f,L)}o=C,u=E,f=W,X!=null?ns(r,!!u,X,!1):!!f!=!!u&&(o!=null?ns(r,!!u,o,!0):ns(r,!!u,u?[]:"",!1));return;case"textarea":W=X=null;for(C in u)if(g=u[C],u.hasOwnProperty(C)&&g!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ne(r,o,C,null,f,g)}for(E in f)if(g=f[E],_=u[E],f.hasOwnProperty(E)&&(g!=null||_!=null))switch(E){case"value":X=g;break;case"defaultValue":W=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&ne(r,o,E,g,f,_)}te(r,X,W);return;case"option":for(var wt in u)if(X=u[wt],u.hasOwnProperty(wt)&&X!=null&&!f.hasOwnProperty(wt))switch(wt){case"selected":r.selected=!1;break;default:ne(r,o,wt,null,f,X)}for(L in f)if(X=f[L],W=u[L],f.hasOwnProperty(L)&&X!==W&&(X!=null||W!=null))switch(L){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ne(r,o,L,X,f,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in u)X=u[xt],u.hasOwnProperty(xt)&&X!=null&&!f.hasOwnProperty(xt)&&ne(r,o,xt,null,f,X);for(K in f)if(X=f[K],W=u[K],f.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,o));break;default:ne(r,o,K,X,f,W)}return;default:if(Bl(o)){for(var ie in u)X=u[ie],u.hasOwnProperty(ie)&&X!==void 0&&!f.hasOwnProperty(ie)&&$p(r,o,ie,void 0,f,X);for(tt in f)X=f[tt],W=u[tt],!f.hasOwnProperty(tt)||X===W||X===void 0&&W===void 0||$p(r,o,tt,X,f,W);return}}for(var H in u)X=u[H],u.hasOwnProperty(H)&&X!=null&&!f.hasOwnProperty(H)&&ne(r,o,H,null,f,X);for(st in f)X=f[st],W=u[st],!f.hasOwnProperty(st)||X===W||X==null&&W==null||ne(r,o,st,X,f,W)}var Zp=null,Jp=null;function lf(r){return r.nodeType===9?r:r.ownerDocument}function MT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DT(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function tg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var eg=null;function qM(){var r=window.event;return r&&r.type==="popstate"?r===eg?!1:(eg=r,!0):(eg=null,!1)}var OT=typeof setTimeout=="function"?setTimeout:void 0,GM=typeof clearTimeout=="function"?clearTimeout:void 0,VT=typeof Promise=="function"?Promise:void 0,YM=typeof queueMicrotask=="function"?queueMicrotask:typeof VT<"u"?function(r){return VT.resolve(null).then(r).catch(KM)}:OT;function KM(r){setTimeout(function(){throw r})}function ar(r){return r==="head"}function PT(r,o){var u=o,f=0,g=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<f&&8>f){u=f;var E=r.ownerDocument;if(u&1&&Eu(E.documentElement),u&2&&Eu(E.body),u&4)for(u=E.head,Eu(u),E=u.firstChild;E;){var C=E.nextSibling,L=E.nodeName;E[Qr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=C}}if(g===0){r.removeChild(_),Ou(o);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:f=u.charCodeAt(0)-48;else f=0;u=_}while(u);Ou(o)}function ng(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ng(u),Fs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function XM(r,o,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Qr])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=gi(r.nextSibling),r===null)break}return null}function QM(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=gi(r.nextSibling),r===null))return null;return r}function ig(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function WM(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function gi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var sg=null;function IT(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function kT(r,o,u){switch(o=lf(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Eu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Fs(r)}var ri=new Map,NT=new Set;function uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ts=nt.d;nt.d={f:$M,r:ZM,D:JM,C:tD,L:eD,m:nD,X:sD,S:iD,M:rD};function $M(){var r=Ts.f(),o=Jh();return r||o}function ZM(r){var o=xi(r);o!==null&&o.tag===5&&o.type==="form"?nb(o):Ts.r(r)}var Bo=typeof document>"u"?null:document;function LT(r,o,u){var f=Bo;if(f&&typeof o=="string"&&o){var g=Oe(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),NT.has(g)||(NT.add(g),r={rel:r,crossOrigin:u,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),nn(o,"link",r),Se(o),f.head.appendChild(o)))}}function JM(r){Ts.D(r),LT("dns-prefetch",r,null)}function tD(r,o){Ts.C(r,o),LT("preconnect",r,o)}function eD(r,o,u){Ts.L(r,o,u);var f=Bo;if(f&&r&&o){var g='link[rel="preload"][as="'+Oe(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Oe(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Oe(u.imageSizes)+'"]')):g+='[href="'+Oe(r)+'"]';var _=g;switch(o){case"style":_=zo(r);break;case"script":_=Uo(r)}ri.has(_)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ri.set(_,r),f.querySelector(g)!==null||o==="style"&&f.querySelector(Su(_))||o==="script"&&f.querySelector(Au(_))||(o=f.createElement("link"),nn(o,"link",r),Se(o),f.head.appendChild(o)))}}function nD(r,o){Ts.m(r,o);var u=Bo;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Oe(f)+'"][href="'+Oe(r)+'"]',_=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Uo(r)}if(!ri.has(_)&&(r=p({rel:"modulepreload",href:r},o),ri.set(_,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Au(_)))return}f=u.createElement("link"),nn(f,"link",r),Se(f),u.head.appendChild(f)}}}function iD(r,o,u){Ts.S(r,o,u);var f=Bo;if(f&&r){var g=vn(f).hoistableStyles,_=zo(r);o=o||"default";var E=g.get(_);if(!E){var C={loading:0,preload:null};if(E=f.querySelector(Su(_)))C.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ri.get(_))&&rg(r,u);var L=E=f.createElement("link");Se(L),nn(L,"link",r),L._p=new Promise(function(K,tt){L.onload=K,L.onerror=tt}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,cf(E,o,f)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(_,E)}}}function sD(r,o){Ts.X(r,o);var u=Bo;if(u&&r){var f=vn(u).hoistableScripts,g=Uo(r),_=f.get(g);_||(_=u.querySelector(Au(g)),_||(r=p({src:r,async:!0},o),(o=ri.get(g))&&ag(r,o),_=u.createElement("script"),Se(_),nn(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(g,_))}}function rD(r,o){Ts.M(r,o);var u=Bo;if(u&&r){var f=vn(u).hoistableScripts,g=Uo(r),_=f.get(g);_||(_=u.querySelector(Au(g)),_||(r=p({src:r,async:!0,type:"module"},o),(o=ri.get(g))&&ag(r,o),_=u.createElement("script"),Se(_),nn(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(g,_))}}function BT(r,o,u,f){var g=(g=pt.current)?uf(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=zo(u.href),u=vn(g).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=zo(u.href);var _=vn(g).hoistableStyles,E=_.get(r);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,E),(_=g.querySelector(Su(r)))&&!_._p&&(E.instance=_,E.state.loading=5),ri.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ri.set(r,u),_||aD(g,r,u,E.state))),o&&f===null)throw Error(i(528,""));return E}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uo(u),u=vn(g).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zo(r){return'href="'+Oe(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function zT(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function aD(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),nn(o,"link",u),Se(o),r.head.appendChild(o))}function Uo(r){return'[src="'+Oe(r)+'"]'}function Au(r){return"script[async]"+r}function UT(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+Oe(u.href)+'"]');if(f)return o.instance=f,Se(f),f;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Se(f),nn(f,"style",g),cf(f,u.precedence,r),o.instance=f;case"stylesheet":g=zo(u.href);var _=r.querySelector(Su(g));if(_)return o.state.loading|=4,o.instance=_,Se(_),_;f=zT(u),(g=ri.get(g))&&rg(f,g),_=(r.ownerDocument||r).createElement("link"),Se(_);var E=_;return E._p=new Promise(function(C,L){E.onload=C,E.onerror=L}),nn(_,"link",f),o.state.loading|=4,cf(_,u.precedence,r),o.instance=_;case"script":return _=Uo(u.src),(g=r.querySelector(Au(_)))?(o.instance=g,Se(g),g):(f=u,(g=ri.get(_))&&(f=p({},u),ag(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Se(g),nn(g,"link",f),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,cf(f,u.precedence,r));return o.instance}function cf(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,_=g,E=0;E<f.length;E++){var C=f[E];if(C.dataset.precedence===o)_=C;else if(_!==g)break}_?_.parentNode.insertBefore(r,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function rg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function ag(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var hf=null;function FT(r,o,u){if(hf===null){var f=new Map,g=hf=new Map;g.set(u,f)}else g=hf,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var _=u[g];if(!(_[Qr]||_[ke]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(o)||"";E=r+E;var C=f.get(E);C?C.push(_):f.set(E,[_])}}return f}function jT(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function oD(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function HT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var wu=null;function lD(){}function uD(r,o,u){if(wu===null)throw Error(i(475));var f=wu;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=zo(u.href),_=r.querySelector(Su(g));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=ff.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=_,Se(_);return}_=r.ownerDocument||r,u=zT(u),(g=ri.get(g))&&rg(u,g),_=_.createElement("link"),Se(_);var E=_;E._p=new Promise(function(C,L){E.onload=C,E.onerror=L}),nn(_,"link",u),o.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=ff.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function cD(){if(wu===null)throw Error(i(475));var r=wu;return r.stylesheets&&r.count===0&&og(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&og(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function ff(){if(this.count--,this.count===0){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var df=null;function og(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,df=new Map,o.forEach(hD,r),df=null,ff.call(r))}function hD(r,o){if(!(o.state.loading&4)){var u=df.get(r);if(u)var f=u.get(null);else{u=new Map,df.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var E=g[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),f=E)}f&&u.set(null,f)}g=o.instance,E=g.getAttribute("data-precedence"),_=u.get(E)||f,_===f&&u.set(null,g),u.set(E,g),this.count++,f=ff.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),_?_.parentNode.insertBefore(g,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var Ru={$$typeof:B,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function fD(r,o,u,f,g,_,E,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function qT(r,o,u,f,g,_,E,C,L,K,tt,st){return r=new fD(r,o,u,E,C,L,K,st),o=1,_===!0&&(o|=24),_=Ln(3,null,null,o),r.current=_,_.stateNode=r,o=jm(),o.refCount++,r.pooledCache=o,o.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:o},Ym(_),r}function GT(r){return r?(r=yo,r):yo}function YT(r,o,u,f,g,_){g=GT(g),f.context===null?f.context=g:f.pendingContext=g,f=Ks(o),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=Xs(r,f,o),u!==null&&(jn(u,r,o),iu(u,r,o))}function KT(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function lg(r,o){KT(r,o),(r=r.alternate)&&KT(r,o)}function XT(r){if(r.tag===13){var o=go(r,67108864);o!==null&&jn(o,r,67108864),lg(r,67108864)}}var mf=!0;function dD(r,o,u,f){var g=Q.T;Q.T=null;var _=nt.p;try{nt.p=2,ug(r,o,u,f)}finally{nt.p=_,Q.T=g}}function mD(r,o,u,f){var g=Q.T;Q.T=null;var _=nt.p;try{nt.p=8,ug(r,o,u,f)}finally{nt.p=_,Q.T=g}}function ug(r,o,u,f){if(mf){var g=cg(f);if(g===null)Wp(r,o,f,pf,u),WT(r,f);else if(gD(g,r,o,u,f))f.stopPropagation();else if(WT(r,f),o&4&&-1<pD.indexOf(r)){for(;g!==null;){var _=xi(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=hi(_.pendingLanes);if(E!==0){var C=_;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var L=1<<31-ln(E);C.entanglements[1]|=L,E&=~L}Ni(_),($t&6)===0&&($h=Kn()+500,bu(0))}}break;case 13:C=go(_,2),C!==null&&jn(C,_,2),Jh(),lg(_,2)}if(_=cg(f),_===null&&Wp(r,o,f,pf,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else Wp(r,o,f,null,u)}}function cg(r){return r=Wn(r),hg(r)}var pf=null;function hg(r){if(pf=null,r=Ji(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return pf=r,null}function QT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mm()){case Al:return 2;case Xa:return 8;case qr:case pm:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var fg=!1,or=null,lr=null,ur=null,Cu=new Map,Mu=new Map,cr=[],pD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WT(r,o){switch(r){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Cu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(o.pointerId)}}function Du(r,o,u,f,g,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=xi(o),o!==null&&XT(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function gD(r,o,u,f,g){switch(o){case"focusin":return or=Du(or,r,o,u,f,g),!0;case"dragenter":return lr=Du(lr,r,o,u,f,g),!0;case"mouseover":return ur=Du(ur,r,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Cu.set(_,Du(Cu.get(_)||null,r,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Mu.set(_,Du(Mu.get(_)||null,r,o,u,f,g)),!0}return!1}function $T(r){var o=Ji(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Jc(r.priority,function(){if(u.tag===13){var f=Fn();f=Bs(f);var g=go(u,f);g!==null&&jn(g,u,f),lg(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=cg(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);is=f,u.target.dispatchEvent(f),is=null}else return o=xi(u),o!==null&&XT(o),r.blockedOn=u,!1;o.shift()}return!0}function ZT(r,o,u){gf(r)&&u.delete(o)}function yD(){fg=!1,or!==null&&gf(or)&&(or=null),lr!==null&&gf(lr)&&(lr=null),ur!==null&&gf(ur)&&(ur=null),Cu.forEach(ZT),Mu.forEach(ZT)}function yf(r,o){r.blockedOn===o&&(r.blockedOn=null,fg||(fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yD)))}var _f=null;function JT(r){_f!==r&&(_f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_f===r&&(_f=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],g=r[o+2];if(typeof f!="function"){if(hg(f||u)===null)continue;break}var _=xi(u);_!==null&&(r.splice(o,3),o-=3,hp(_,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function Ou(r){function o(L){return yf(L,r)}or!==null&&yf(or,r),lr!==null&&yf(lr,r),ur!==null&&yf(ur,r),Cu.forEach(o),Mu.forEach(o);for(var u=0;u<cr.length;u++){var f=cr[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<cr.length&&(u=cr[0],u.blockedOn===null);)$T(u),u.blockedOn===null&&cr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],_=u[f+1],E=g[De]||null;if(typeof _=="function")E||JT(u);else if(E){var C=null;if(_&&_.hasAttribute("formAction")){if(g=_,E=_[De]||null)C=E.formAction;else if(hg(g)!==null)continue}else C=E.action;typeof C=="function"?u[f+1]=C:(u.splice(f,3),f-=3),JT(u)}}}function dg(r){this._internalRoot=r}vf.prototype.render=dg.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Fn();YT(u,f,r,o,null,null)},vf.prototype.unmount=dg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;YT(r.current,2,null,r,null,null),Jh(),o[Xn]=null}};function vf(r){this._internalRoot=r}vf.prototype.unstable_scheduleHydration=function(r){if(r){var o=zs();r={blockedOn:null,target:r,priority:o};for(var u=0;u<cr.length&&o!==0&&o<cr[u].priority;u++);cr.splice(u,0,r),u===0&&$T(r)}};var t1=t.version;if(t1!=="19.1.0")throw Error(i(527,t1,"19.1.0"));nt.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var _D={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{ve=bf.inject(_D),Wt=bf}catch{}}return Pu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",g=gb,_=yb,E=_b,C=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks)),o=qT(r,1,!1,null,null,u,f,g,_,E,C,null),r[Xn]=o.current,Qp(r),new dg(o)},Pu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,g="",_=gb,E=yb,C=_b,L=null,K=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(L=u.unstable_transitionCallbacks),u.formState!==void 0&&(K=u.formState)),o=qT(r,1,!0,o,u??null,f,g,_,E,C,L,K),o.context=GT(null),u=o.current,f=Fn(),f=Bs(f),g=Ks(f),g.callback=null,Xs(u,g,f),u=f,o.current.lanes=u,Zi(o,u),Ni(o),r[Xn]=o.current,Qp(r),new vf(o)},Pu.version="19.1.0",Pu}var c1;function VD(){if(c1)return gg.exports;c1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gg.exports=OD(),gg.exports}var PD=VD();const ID=()=>{};var h1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},kD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[e++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[e++],l=n[e++],c=n[e++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},_A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,h=s+2<n.length,d=h?n[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let v=(c&15)<<2|d>>6,T=d&63;h||(T=64,l||(v=64)),i.push(e[p],e[y],e[v],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(yA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):kD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=e[n.charAt(s++)],c=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const y=s<n.length?e[n.charAt(s)]:64;if(++s,a==null||c==null||d==null||y==null)throw new ND;const v=a<<2|c>>4;if(i.push(v),d!==64){const T=c<<4&240|d>>2;if(i.push(T),y!==64){const S=d<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ND extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LD=function(n){const t=yA(n);return _A.encodeByteArray(t,!0)},ud=function(n){return LD(n).replace(/\./g,"")},BD=function(n){try{return _A.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=()=>zD().__FIREBASE_DEFAULTS__,FD=()=>{if(typeof process>"u"||typeof h1>"u")return;const n=h1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&BD(n[1]);return t&&JSON.parse(t)},h0=()=>{try{return ID()||UD()||FD()||jD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},HD=n=>{var t,e;return(e=(t=h0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},qD=n=>{const t=HD(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},vA=()=>{var n;return(n=h0())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n){return n.endsWith(".cloudworkstations.dev")}async function YD(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ud(JSON.stringify(e)),ud(JSON.stringify(l)),""].join(".")}const Zu={};function XD(){const n={prod:[],emulator:[]};for(const t of Object.keys(Zu))Zu[t]?n.emulator.push(t):n.prod.push(t);return n}function QD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let f1=!1;function WD(n,t){if(typeof window>"u"||typeof document>"u"||!f0(window.location.host)||Zu[n]===t||Zu[n]||f1)return;Zu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",a=XD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{f1=!0,l()},v}function p(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=QD(i),T=e("text"),S=document.getElementById(T)||document.createElement("span"),w=e("learnmore"),A=document.getElementById(w)||document.createElement("a"),D=e("preprendIcon"),P=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;c(B),p(A,w);const q=d();h(P,D),B.append(P,S,A,q),document.body.appendChild(B)}a?(S.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZD(){var n;const t=(n=h0())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JD(){return!ZD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tO(){try{return typeof indexedDB=="object"}catch{return!1}}function eO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="FirebaseError";class gl extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=nO,Object.setPrototypeOf(this,gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bA.prototype.create)}}class bA{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?iO(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new gl(s,c,i)}}function iO(n,t){return n.replace(sO,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const sO=/\{\$([^}]+)}/g;function cd(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const a=n[s],l=t[s];if(d1(a)&&d1(l)){if(!cd(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function d1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n){return n&&n._delegate?n._delegate:n}class pc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new GD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oO(t))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=Ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ma){return this.instances.has(t)}getOptions(t=Ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ma){return this.component?this.component.multipleInstances?t:Ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aO(n){return n===Ma?void 0:n}function oO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const uO={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},cO=Gt.INFO,hO={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},fO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=hO[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TA{constructor(t){this.name=t,this._logLevel=cO,this._logHandler=fO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const dO=(n,t)=>t.some(e=>n instanceof e);let m1,p1;function mO(){return m1||(m1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pO(){return p1||(p1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xA=new WeakMap,ny=new WeakMap,EA=new WeakMap,bg=new WeakMap,d0=new WeakMap;function gO(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(Tr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&xA.set(e,n)}).catch(()=>{}),d0.set(t,n),t}function yO(n){if(ny.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});ny.set(n,t)}let iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ny.get(n);if(t==="objectStoreNames")return n.objectStoreNames||EA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function _O(n){iy=n(iy)}function vO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Tg(this),t,...e);return EA.set(i,t.sort?t.sort():[t]),Tr(i)}:pO().includes(n)?function(...t){return n.apply(Tg(this),t),Tr(xA.get(this))}:function(...t){return Tr(n.apply(Tg(this),t))}}function bO(n){return typeof n=="function"?vO(n):(n instanceof IDBTransaction&&yO(n),dO(n,mO())?new Proxy(n,iy):n)}function Tr(n){if(n instanceof IDBRequest)return gO(n);if(bg.has(n))return bg.get(n);const t=bO(n);return t!==n&&(bg.set(n,t),d0.set(t,n)),t}const Tg=n=>d0.get(n);function TO(n,t,{blocked:e,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(n,t),c=Tr(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Tr(l.result),h.oldVersion,h.newVersion,Tr(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const xO=["get","getKey","getAll","getAllKeys","count"],EO=["put","add","delete","clear"],xg=new Map;function g1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(xg.get(t))return xg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=EO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||xO.includes(e)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[e](...c),s&&h.done]))[0]};return xg.set(t,a),a}_O(n=>({...n,get:(t,e,i)=>g1(t,e)||n.get(t,e,i),has:(t,e)=>!!g1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(AO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function AO(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sy="@firebase/app",y1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new TA("@firebase/app"),wO="@firebase/app-compat",RO="@firebase/analytics-compat",CO="@firebase/analytics",MO="@firebase/app-check-compat",DO="@firebase/app-check",OO="@firebase/auth",VO="@firebase/auth-compat",PO="@firebase/database",IO="@firebase/data-connect",kO="@firebase/database-compat",NO="@firebase/functions",LO="@firebase/functions-compat",BO="@firebase/installations",zO="@firebase/installations-compat",UO="@firebase/messaging",FO="@firebase/messaging-compat",jO="@firebase/performance",HO="@firebase/performance-compat",qO="@firebase/remote-config",GO="@firebase/remote-config-compat",YO="@firebase/storage",KO="@firebase/storage-compat",XO="@firebase/firestore",QO="@firebase/ai",WO="@firebase/firestore-compat",$O="firebase",ZO="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",JO={[sy]:"fire-core",[wO]:"fire-core-compat",[CO]:"fire-analytics",[RO]:"fire-analytics-compat",[DO]:"fire-app-check",[MO]:"fire-app-check-compat",[OO]:"fire-auth",[VO]:"fire-auth-compat",[PO]:"fire-rtdb",[IO]:"fire-data-connect",[kO]:"fire-rtdb-compat",[NO]:"fire-fn",[LO]:"fire-fn-compat",[BO]:"fire-iid",[zO]:"fire-iid-compat",[UO]:"fire-fcm",[FO]:"fire-fcm-compat",[jO]:"fire-perf",[HO]:"fire-perf-compat",[qO]:"fire-rc",[GO]:"fire-rc-compat",[YO]:"fire-gcs",[KO]:"fire-gcs-compat",[XO]:"fire-fst",[WO]:"fire-fst-compat",[QO]:"fire-vertex","fire-js":"fire-js",[$O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,tV=new Map,ay=new Map;function _1(n,t){try{n.container.addComponent(t)}catch(e){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function hd(n){const t=n.name;if(ay.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of gc.values())_1(e,n);for(const e of tV.values())_1(e,n);return!0}function eV(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function nV(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new bA("app","Firebase",iV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=ZO;function SA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:ry,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw xr.create("bad-app-name",{appName:String(s)});if(e||(e=vA()),!e)throw xr.create("no-options");const a=gc.get(s);if(a){if(cd(e,a.options)&&cd(i,a.config))return a;throw xr.create("duplicate-app",{appName:s})}const l=new lO(s);for(const h of ay.values())l.addComponent(h);const c=new sV(e,i,l);return gc.set(s,c),c}function aV(n=ry){const t=gc.get(n);if(!t&&n===ry&&vA())return SA();if(!t)throw xr.create("no-app",{appName:n});return t}function oV(){return Array.from(gc.values())}function Jo(n,t,e){var i;let s=(i=JO[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}hd(new pc(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="firebase-heartbeat-database",uV=1,yc="firebase-heartbeat-store";let Eg=null;function AA(){return Eg||(Eg=TO(lV,uV,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(yc)}catch(e){console.warn(e)}}}}).catch(n=>{throw xr.create("idb-open",{originalErrorMessage:n.message})})),Eg}async function cV(n){try{const e=(await AA()).transaction(yc),i=await e.objectStore(yc).get(wA(n));return await e.done,i}catch(t){if(t instanceof gl)Os.warn(t.message);else{const e=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Os.warn(e.message)}}}async function v1(n,t){try{const i=(await AA()).transaction(yc,"readwrite");await i.objectStore(yc).put(t,wA(n)),await i.done}catch(e){if(e instanceof gl)Os.warn(e.message);else{const i=xr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Os.warn(i.message)}}}function wA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1024,fV=30;class dV{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new pV(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>fV){const l=gV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Os.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b1(),{heartbeatsToSend:i,unsentEntries:s}=mV(this._heartbeatsCache.heartbeats),a=ud(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Os.warn(e),""}}}function b1(){return new Date().toISOString().substring(0,10)}function mV(n,t=hV){const e=[];let i=n.slice();for(const s of n){const a=e.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),T1(e)>t){a.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),T1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class pV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tO()?eO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await cV(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return v1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function T1(n){return ud(JSON.stringify({version:2,heartbeats:n})).length}function gV(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){hd(new pc("platform-logger",t=>new SO(t),"PRIVATE")),hd(new pc("heartbeat",t=>new dV(t),"PRIVATE")),Jo(sy,y1,n),Jo(sy,y1,"esm2017"),Jo("fire-js","")}yV("");var _V="firebase",vV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo(_V,vV,"app");var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,RA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function O(){}O.prototype=R.prototype,V.D=R.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(k,z,U){for(var N=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)N[Bt-2]=arguments[Bt];return R.prototype[z].apply(k,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,R,O){O||(O=0);var k=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)k[z]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(z=0;16>z;++z)k[z]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=V.g[0],O=V.g[1],z=V.g[2];var U=V.g[3],N=R+(U^O&(z^U))+k[0]+3614090360&4294967295;R=O+(N<<7&4294967295|N>>>25),N=U+(z^R&(O^z))+k[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=z+(O^U&(R^O))+k[2]+606105819&4294967295,z=U+(N<<17&4294967295|N>>>15),N=O+(R^z&(U^R))+k[3]+3250441966&4294967295,O=z+(N<<22&4294967295|N>>>10),N=R+(U^O&(z^U))+k[4]+4118548399&4294967295,R=O+(N<<7&4294967295|N>>>25),N=U+(z^R&(O^z))+k[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=z+(O^U&(R^O))+k[6]+2821735955&4294967295,z=U+(N<<17&4294967295|N>>>15),N=O+(R^z&(U^R))+k[7]+4249261313&4294967295,O=z+(N<<22&4294967295|N>>>10),N=R+(U^O&(z^U))+k[8]+1770035416&4294967295,R=O+(N<<7&4294967295|N>>>25),N=U+(z^R&(O^z))+k[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=z+(O^U&(R^O))+k[10]+4294925233&4294967295,z=U+(N<<17&4294967295|N>>>15),N=O+(R^z&(U^R))+k[11]+2304563134&4294967295,O=z+(N<<22&4294967295|N>>>10),N=R+(U^O&(z^U))+k[12]+1804603682&4294967295,R=O+(N<<7&4294967295|N>>>25),N=U+(z^R&(O^z))+k[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=z+(O^U&(R^O))+k[14]+2792965006&4294967295,z=U+(N<<17&4294967295|N>>>15),N=O+(R^z&(U^R))+k[15]+1236535329&4294967295,O=z+(N<<22&4294967295|N>>>10),N=R+(z^U&(O^z))+k[1]+4129170786&4294967295,R=O+(N<<5&4294967295|N>>>27),N=U+(O^z&(R^O))+k[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=z+(R^O&(U^R))+k[11]+643717713&4294967295,z=U+(N<<14&4294967295|N>>>18),N=O+(U^R&(z^U))+k[0]+3921069994&4294967295,O=z+(N<<20&4294967295|N>>>12),N=R+(z^U&(O^z))+k[5]+3593408605&4294967295,R=O+(N<<5&4294967295|N>>>27),N=U+(O^z&(R^O))+k[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=z+(R^O&(U^R))+k[15]+3634488961&4294967295,z=U+(N<<14&4294967295|N>>>18),N=O+(U^R&(z^U))+k[4]+3889429448&4294967295,O=z+(N<<20&4294967295|N>>>12),N=R+(z^U&(O^z))+k[9]+568446438&4294967295,R=O+(N<<5&4294967295|N>>>27),N=U+(O^z&(R^O))+k[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=z+(R^O&(U^R))+k[3]+4107603335&4294967295,z=U+(N<<14&4294967295|N>>>18),N=O+(U^R&(z^U))+k[8]+1163531501&4294967295,O=z+(N<<20&4294967295|N>>>12),N=R+(z^U&(O^z))+k[13]+2850285829&4294967295,R=O+(N<<5&4294967295|N>>>27),N=U+(O^z&(R^O))+k[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=z+(R^O&(U^R))+k[7]+1735328473&4294967295,z=U+(N<<14&4294967295|N>>>18),N=O+(U^R&(z^U))+k[12]+2368359562&4294967295,O=z+(N<<20&4294967295|N>>>12),N=R+(O^z^U)+k[5]+4294588738&4294967295,R=O+(N<<4&4294967295|N>>>28),N=U+(R^O^z)+k[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=z+(U^R^O)+k[11]+1839030562&4294967295,z=U+(N<<16&4294967295|N>>>16),N=O+(z^U^R)+k[14]+4259657740&4294967295,O=z+(N<<23&4294967295|N>>>9),N=R+(O^z^U)+k[1]+2763975236&4294967295,R=O+(N<<4&4294967295|N>>>28),N=U+(R^O^z)+k[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=z+(U^R^O)+k[7]+4139469664&4294967295,z=U+(N<<16&4294967295|N>>>16),N=O+(z^U^R)+k[10]+3200236656&4294967295,O=z+(N<<23&4294967295|N>>>9),N=R+(O^z^U)+k[13]+681279174&4294967295,R=O+(N<<4&4294967295|N>>>28),N=U+(R^O^z)+k[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=z+(U^R^O)+k[3]+3572445317&4294967295,z=U+(N<<16&4294967295|N>>>16),N=O+(z^U^R)+k[6]+76029189&4294967295,O=z+(N<<23&4294967295|N>>>9),N=R+(O^z^U)+k[9]+3654602809&4294967295,R=O+(N<<4&4294967295|N>>>28),N=U+(R^O^z)+k[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=z+(U^R^O)+k[15]+530742520&4294967295,z=U+(N<<16&4294967295|N>>>16),N=O+(z^U^R)+k[2]+3299628645&4294967295,O=z+(N<<23&4294967295|N>>>9),N=R+(z^(O|~U))+k[0]+4096336452&4294967295,R=O+(N<<6&4294967295|N>>>26),N=U+(O^(R|~z))+k[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=z+(R^(U|~O))+k[14]+2878612391&4294967295,z=U+(N<<15&4294967295|N>>>17),N=O+(U^(z|~R))+k[5]+4237533241&4294967295,O=z+(N<<21&4294967295|N>>>11),N=R+(z^(O|~U))+k[12]+1700485571&4294967295,R=O+(N<<6&4294967295|N>>>26),N=U+(O^(R|~z))+k[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=z+(R^(U|~O))+k[10]+4293915773&4294967295,z=U+(N<<15&4294967295|N>>>17),N=O+(U^(z|~R))+k[1]+2240044497&4294967295,O=z+(N<<21&4294967295|N>>>11),N=R+(z^(O|~U))+k[8]+1873313359&4294967295,R=O+(N<<6&4294967295|N>>>26),N=U+(O^(R|~z))+k[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=z+(R^(U|~O))+k[6]+2734768916&4294967295,z=U+(N<<15&4294967295|N>>>17),N=O+(U^(z|~R))+k[13]+1309151649&4294967295,O=z+(N<<21&4294967295|N>>>11),N=R+(z^(O|~U))+k[4]+4149444226&4294967295,R=O+(N<<6&4294967295|N>>>26),N=U+(O^(R|~z))+k[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=z+(R^(U|~O))+k[2]+718787259&4294967295,z=U+(N<<15&4294967295|N>>>17),N=O+(U^(z|~R))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(z+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+U&4294967295}i.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var O=R-this.blockSize,k=this.B,z=this.h,U=0;U<R;){if(z==0)for(;U<=O;)s(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(k[z++]=V.charCodeAt(U++),z==this.blockSize){s(this,k),z=0;break}}else for(;U<R;)if(k[z++]=V[U++],z==this.blockSize){s(this,k),z=0;break}}this.h=z,this.o+=R},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var O=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=O&255,O/=256;for(this.u(V),V=Array(16),R=O=0;4>R;++R)for(var k=0;32>k;k+=8)V[O++]=this.g[R]>>>k&255;return V};function a(V,R){var O=c;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=R(V)}function l(V,R){this.h=R;for(var O=[],k=!0,z=V.length-1;0<=z;z--){var U=V[z]|0;k&&U==R||(O[z]=U,k=!1)}this.g=O}var c={};function h(V){return-128<=V&&128>V?a(V,function(R){return new l([R|0],0>R?-1:0)}):new l([V|0],0>V?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return y;if(0>V)return A(d(-V));for(var R=[],O=1,k=0;V>=O;k++)R[k]=V/O|0,O*=4294967296;return new l(R,0)}function p(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return A(p(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(R,8)),k=y,z=0;z<V.length;z+=8){var U=Math.min(8,V.length-z),N=parseInt(V.substring(z,z+U),R);8>U?(U=d(Math.pow(R,U)),k=k.j(U).add(d(N))):(k=k.j(O),k=k.add(d(N)))}return k}var y=h(0),v=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(w(this))return-A(this).m();for(var V=0,R=1,O=0;O<this.g.length;O++){var k=this.i(O);V+=(0<=k?k:4294967296+k)*R,R*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(w(this))return"-"+A(this).toString(V);for(var R=d(Math.pow(V,6)),O=this,k="";;){var z=q(O,R).g;O=D(O,z.j(R));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=z,S(O))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function w(V){return V.h==-1}n.l=function(V){return V=D(this,V),w(V)?-1:S(V)?0:1};function A(V){for(var R=V.g.length,O=[],k=0;k<R;k++)O[k]=~V.g[k];return new l(O,~V.h).add(v)}n.abs=function(){return w(this)?A(this):this},n.add=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],k=0,z=0;z<=R;z++){var U=k+(this.i(z)&65535)+(V.i(z)&65535),N=(U>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);k=N>>>16,U&=65535,N&=65535,O[z]=N<<16|U}return new l(O,O[O.length-1]&-2147483648?-1:0)};function D(V,R){return V.add(A(R))}n.j=function(V){if(S(this)||S(V))return y;if(w(this))return w(V)?A(this).j(A(V)):A(A(this).j(V));if(w(V))return A(this.j(A(V)));if(0>this.l(T)&&0>V.l(T))return d(this.m()*V.m());for(var R=this.g.length+V.g.length,O=[],k=0;k<2*R;k++)O[k]=0;for(k=0;k<this.g.length;k++)for(var z=0;z<V.g.length;z++){var U=this.i(k)>>>16,N=this.i(k)&65535,Bt=V.i(z)>>>16,vt=V.i(z)&65535;O[2*k+2*z]+=N*vt,P(O,2*k+2*z),O[2*k+2*z+1]+=U*vt,P(O,2*k+2*z+1),O[2*k+2*z+1]+=N*Bt,P(O,2*k+2*z+1),O[2*k+2*z+2]+=U*Bt,P(O,2*k+2*z+2)}for(k=0;k<R;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=R;k<2*R;k++)O[k]=0;return new l(O,0)};function P(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function B(V,R){this.g=V,this.h=R}function q(V,R){if(S(R))throw Error("division by zero");if(S(V))return new B(y,y);if(w(V))return R=q(A(V),R),new B(A(R.g),A(R.h));if(w(R))return R=q(V,A(R)),new B(A(R.g),R.h);if(30<V.g.length){if(w(V)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var O=v,k=R;0>=k.l(V);)O=F(O),k=F(k);var z=$(O,1),U=$(k,1);for(k=$(k,2),O=$(O,2);!S(k);){var N=U.add(k);0>=N.l(V)&&(z=z.add(O),U=N),k=$(k,1),O=$(O,1)}return R=D(V,z.j(R)),new B(z,R)}for(z=y;0<=V.l(R);){for(O=Math.max(1,Math.floor(V.m()/R.m())),k=Math.ceil(Math.log(O)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=d(O),N=U.j(R);w(N)||0<N.l(V);)O-=k,U=d(O),N=U.j(R);S(U)&&(U=v),z=z.add(U),V=D(V,N)}return new B(z,V)}n.A=function(V){return q(this,V).h},n.and=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],k=0;k<R;k++)O[k]=this.i(k)&V.i(k);return new l(O,this.h&V.h)},n.or=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],k=0;k<R;k++)O[k]=this.i(k)|V.i(k);return new l(O,this.h|V.h)},n.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),O=[],k=0;k<R;k++)O[k]=this.i(k)^V.i(k);return new l(O,this.h^V.h)};function F(V){for(var R=V.g.length+1,O=[],k=0;k<R;k++)O[k]=V.i(k)<<1|V.i(k-1)>>>31;return new l(O,V.h)}function $(V,R){var O=R>>5;R%=32;for(var k=V.g.length-O,z=[],U=0;U<k;U++)z[U]=0<R?V.i(U+O)>>>R|V.i(U+O+1)<<32-R:V.i(U+O);return new l(z,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,Er=l}).apply(typeof x1<"u"?x1:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,Fu,MA,Gf,oy,DA,OA,VA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,x){return m==Array.prototype||m==Object.prototype||(m[b]=x.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var b=0;b<m.length;++b){var x=m[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=e(this);function s(m,b){if(b)t:{var x=i;m=m.split(".");for(var M=0;M<m.length-1;M++){var G=m[M];if(!(G in x))break t;x=x[G]}m=m[m.length-1],M=x[m],b=b(M),b!=M&&b!=null&&t(x,m,{configurable:!0,writable:!0,value:b})}}function a(m,b){m instanceof String&&(m+="");var x=0,M=!1,G={next:function(){if(!M&&x<m.length){var Z=x++;return{value:b(Z,m[Z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(m){return m||function(){return a(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function p(m,b,x){return m.call.apply(m.bind,arguments)}function y(m,b,x){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),m.apply(b,G)}}return function(){return m.apply(b,arguments)}}function v(m,b,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function T(m,b){var x=Array.prototype.slice.call(arguments,1);return function(){var M=x.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function S(m,b){function x(){}x.prototype=b.prototype,m.aa=b.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(M,G,Z){for(var ut=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)ut[Ft-2]=arguments[Ft];return b.prototype[G].apply(M,ut)}}function w(m){const b=m.length;if(0<b){const x=Array(b);for(let M=0;M<b;M++)x[M]=m[M];return x}return[]}function A(m,b){for(let x=1;x<arguments.length;x++){const M=arguments[x];if(h(M)){const G=m.length||0,Z=M.length||0;m.length=G+Z;for(let ut=0;ut<Z;ut++)m[G+ut]=M[ut]}else m.push(M)}}class D{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var F=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function $(m,b,x){for(const M in m)b.call(x,m[M],M,m)}function V(m,b){for(const x in m)b.call(void 0,m[x],x,m)}function R(m){const b={};for(const x in m)b[x]=m[x];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,b){let x,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(x in M)m[x]=M[x];for(let Z=0;Z<O.length;Z++)x=O[Z],Object.prototype.hasOwnProperty.call(M,x)&&(m[x]=M[x])}}function z(m){var b=1;m=m.split(":");const x=[];for(;0<b&&m.length;)x.push(m.shift()),b--;return m.length&&x.push(m.join(":")),x}function U(m){c.setTimeout(()=>{throw m},0)}function N(){var m=yt;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class Bt{constructor(){this.h=this.g=null}add(b,x){const M=vt.get();M.set(b,x),this.h?this.h.next=M:this.g=M,this.h=M}}var vt=new D(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,yt=new Bt,I=()=>{const m=c.Promise.resolve(void 0);nt=()=>{m.then(J)}};var J=()=>{for(var m;m=N();){try{m.h.call(m.g)}catch(x){U(x)}var b=vt;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}ht=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,b),c.removeEventListener("test",x,b)}catch{}return m}();function bt(m,b){if(at.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(F){t:{try{q(b.nodeName);var G=!0;break t}catch{}G=!1}G||(b=null)}}else x=="mouseover"?b=m.fromElement:x=="mouseout"&&(b=m.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:pt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&bt.aa.h.call(this)}}S(bt,at);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),re=0;function bi(m,b,x,M,G){this.listener=m,this.proxy=null,this.src=b,this.type=x,this.capture=!!M,this.ha=G,this.key=++re,this.da=this.fa=!1}function Ls(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Wi(m){this.src=m,this.g={},this.h=0}Wi.prototype.add=function(m,b,x,M,G){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var ut=jr(m,b,M,G);return-1<ut?(b=m[ut],x||(b.fa=!1)):(b=new bi(b,this.src,Z,!!M,G),b.fa=x,m.push(b)),b};function Fr(m,b){var x=b.type;if(x in m.g){var M=m.g[x],G=Array.prototype.indexOf.call(M,b,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(M,G,1),Z&&(Ls(b),m.g[x].length==0&&(delete m.g[x],m.h--))}}function jr(m,b,x,M){for(var G=0;G<m.length;++G){var Z=m[G];if(!Z.da&&Z.listener==b&&Z.capture==!!x&&Z.ha==M)return G}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),Sl={};function Wc(m,b,x,M,G){if(Array.isArray(b)){for(var Z=0;Z<b.length;Z++)Wc(m,b[Z],x,M,G);return null}return x=$c(x),m&&m[qe]?m.K(b,x,d(M)?!!M.capture:!1,G):Kn(m,b,x,!1,M,G)}function Kn(m,b,x,M,G,Z){if(!b)throw Error("Invalid event type");var ut=d(G)?!!G.capture:!!G,Ft=Qa(m);if(Ft||(m[Hr]=Ft=new Wi(m)),x=Ft.add(b,x,M,ut,Z),x.proxy)return x;if(M=mm(),x.proxy=M,M.src=m,M.listener=x,m.addEventListener)ft||(G=ut),G===void 0&&(G=!1),m.addEventListener(b.toString(),M,G);else if(m.attachEvent)m.attachEvent(qr(b.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return x}function mm(){function m(x){return b.call(m.src,m.listener,x)}const b=pm;return m}function Al(m,b,x,M,G){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Al(m,b[Z],x,M,G);else M=d(M)?!!M.capture:!!M,x=$c(x),m&&m[qe]?(m=m.i,b=String(b).toString(),b in m.g&&(Z=m.g[b],x=jr(Z,x,M,G),-1<x&&(Ls(Z[x]),Array.prototype.splice.call(Z,x,1),Z.length==0&&(delete m.g[b],m.h--)))):m&&(m=Qa(m))&&(b=m.g[b.toString()],m=-1,b&&(m=jr(b,x,M,G)),(x=-1<m?b[m]:null)&&Xa(x))}function Xa(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[qe])Fr(b.i,m);else{var x=m.type,M=m.proxy;b.removeEventListener?b.removeEventListener(x,M,m.capture):b.detachEvent?b.detachEvent(qr(x),M):b.addListener&&b.removeListener&&b.removeListener(M),(x=Qa(b))?(Fr(x,m),x.h==0&&(x.src=null,b[Hr]=null)):Ls(m)}}}function qr(m){return m in Sl?Sl[m]:Sl[m]="on"+m}function pm(m,b){if(m.da)m=!0;else{b=new bt(b,this);var x=m.listener,M=m.ha||m.src;m.fa&&Xa(m),m=x.call(M,b)}return m}function Qa(m){return m=m[Hr],m instanceof Wi?m:null}var wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function $c(m){return typeof m=="function"?m:(m[wl]||(m[wl]=function(b){return m.handleEvent(b)}),m[wl])}function ve(){ot.call(this),this.i=new Wi(this),this.M=this,this.F=null}S(ve,ot),ve.prototype[qe]=!0,ve.prototype.removeEventListener=function(m,b,x,M){Al(this,m,b,x,M)};function Wt(m,b){var x,M=m.F;if(M)for(x=[];M;M=M.F)x.push(M);if(m=m.M,M=b.type||b,typeof b=="string")b=new at(b,m);else if(b instanceof at)b.target=b.target||m;else{var G=b;b=new at(M,m),k(b,G)}if(G=!0,x)for(var Z=x.length-1;0<=Z;Z--){var ut=b.g=x[Z];G=In(ut,M,!0,b)&&G}if(ut=b.g=m,G=In(ut,M,!0,b)&&G,G=In(ut,M,!1,b)&&G,x)for(Z=0;Z<x.length;Z++)ut=b.g=x[Z],G=In(ut,M,!1,b)&&G}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var x=m.g[b],M=0;M<x.length;M++)Ls(x[M]);delete m.g[b],m.h--}}this.F=null},ve.prototype.K=function(m,b,x,M){return this.i.add(String(m),b,!1,x,M)},ve.prototype.L=function(m,b,x,M){return this.i.add(String(m),b,!0,x,M)};function In(m,b,x,M){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var G=!0,Z=0;Z<b.length;++Z){var ut=b[Z];if(ut&&!ut.da&&ut.capture==x){var Ft=ut.listener,Ne=ut.ha||ut.src;ut.fa&&Fr(m.i,ut),G=Ft.call(Ne,M)!==!1&&G}}return G&&!M.defaultPrevented}function ln(m,b,x){if(typeof m=="function")x&&(m=v(m,x));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(m,b||0)}function Zc(m){m.g=ln(()=>{m.g=null,m.i&&(m.i=!1,Zc(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class gm extends ot{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Zc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(m){ot.call(this),this.h=m,this.g={}}S(Gr,ot);var Yr=[];function Kr(m){$(m.g,function(b,x){this.g.hasOwnProperty(x)&&Xa(b)},m),m.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Kr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=c.JSON.stringify,Wa=c.JSON.parse,Xr=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Rl(){}Rl.prototype.h=null;function Cl(m){return m.h||(m.h=m.i())}function Ml(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){at.call(this,"d")}S(Zi,at);function Dl(){at.call(this,"c")}S(Dl,at);var Ti={},Ol=null;function Bs(){return Ol=Ol||new ve}Ti.La="serverreachability";function $a(m){at.call(this,Ti.La,m)}S($a,at);function zs(m){const b=Bs();Wt(b,new $a(b))}Ti.STAT_EVENT="statevent";function Jc(m,b){at.call(this,Ti.STAT_EVENT,m),this.stat=b}S(Jc,at);function ce(m){const b=Bs();Wt(b,new Jc(b,m))}Ti.Ma="timingevent";function ke(m,b){at.call(this,Ti.Ma,m),this.size=b}S(ke,at);function De(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function Xn(){this.g=!0}Xn.prototype.xa=function(){this.g=!1};function Vl(m,b,x,M,G,Z){m.info(function(){if(m.g)if(Z)for(var ut="",Ft=Z.split("&"),Ne=0;Ne<Ft.length;Ne++){var jt=Ft[Ne].split("=");if(1<jt.length){var Ye=jt[0];jt=jt[1];var Le=Ye.split("_");ut=2<=Le.length&&Le[1]=="type"?ut+(Ye+"="+jt+"&"):ut+(Ye+"=redacted&")}}else ut=null;else ut=Z;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+b+`
`+x+`
`+ut})}function ym(m,b,x,M,G,Z,ut){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+b+`
`+x+`
`+Z+" "+ut})}function Us(m,b,x,M){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qr(m,x)+(M?" "+M:"")})}function th(m,b){m.info(function(){return"TIMEOUT: "+b})}Xn.prototype.info=function(){};function Qr(m,b){if(!m.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var M=x[m];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ut=1;ut<G.length;ut++)G[ut]=""}}}}return hi(x)}catch{return b}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function Ei(){}S(Ei,Rl),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},xi=new Ei;function vn(m,b,x,M){this.j=m,this.i=b,this.l=x,this.R=M||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var Pl={},Za={};function fi(m,b,x){m.L=1,m.v=ta(kn(b)),m.m=x,m.P=!0,ts(m,null)}function ts(m,b){m.F=Date.now(),Wr(m),m.A=kn(m.v);var x=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),zl(x.i,"t",M),m.C=0,x=m.j.J,m.h=new Se,m.g=gh(m.j,x?b:null,!m.m),0<m.O&&(m.M=new gm(v(m.Y,m,m.g),m.O)),b=m.U,x=m.g,M=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(Yr[0]=G.toString()),G=Yr);for(var Z=0;Z<G.length;Z++){var ut=Wc(x,G[Z],M||b.handleEvent,!1,b.h||b);if(!ut)break;b.g[ut.key]=ut}b=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),zs(),Vl(m.i,m.u,m.A,m.l,m.R,m.m)}vn.prototype.ca=function(m){m=m.target;const b=this.M;b&&Zn(m)==3?b.j():this.Y(m)},vn.prototype.Y=function(m){try{if(m==this.g)t:{const Le=Zn(this.g);var b=this.g.Ba();const ls=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||lh(this.g)))){this.J||Le!=4||b==7||(b==8||0>=ls?zs(3):zs(2)),js(this);var x=this.g.Z();this.X=x;e:if(eh(this)){var M=lh(this.g);m="";var G=M.length,Z=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ze(this),Si(this);var ut="";break e}this.h.i=new c.TextDecoder}for(b=0;b<G;b++)this.h.h=!0,m+=this.h.i.decode(M[b],{stream:!(Z&&b==G-1)});M.length=0,this.h.g+=m,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=x==200,ym(this.i,this.u,this.A,this.l,this.R,Le,x),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,Ne=this.g;if((Ft=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ft)){var jt=Ft;break e}}jt=null}if(x=jt)Us(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,x);else{this.o=!1,this.s=3,ce(12),Ze(this),Si(this);break t}}if(this.P){x=!0;let Je;for(;!this.J&&this.C<ut.length;)if(Je=nh(this,ut),Je==Za){Le==4&&(this.s=4,ce(14),x=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Pl){this.s=4,ce(15),Us(this.i,this.l,ut,"[Invalid Chunk]"),x=!1;break}else Us(this.i,this.l,Je,null),$r(this,Je);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ut.length!=0||this.h.h||(this.s=1,ce(16),x=!1),this.o=this.o&&x,!x)Us(this.i,this.l,ut,"[Invalid Chunked Response]"),Ze(this),Si(this);else if(0<ut.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),la(Ye),Ye.M=!0,ce(11))}}else Us(this.i,this.l,ut,null),$r(this,ut);Le==4&&Ze(this),this.o&&!this.J&&(Le==4?dh(this.j,this):(this.o=!1,Wr(this)))}else xm(this.g),x==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),Ze(this),Si(this)}}}catch{}finally{}};function eh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function nh(m,b){var x=m.C,M=b.indexOf(`
`,x);return M==-1?Za:(x=Number(b.substring(x,M)),isNaN(x)?Pl:(M+=1,M+x>b.length?Za:(b=b.slice(M,M+x),m.C=M+x,b)))}vn.prototype.cancel=function(){this.J=!0,Ze(this)};function Wr(m){m.S=Date.now()+m.I,ih(m,m.I)}function ih(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=De(v(m.ba,m),b)}function js(m){m.B&&(c.clearTimeout(m.B),m.B=null)}vn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(th(this.i,this.A),this.L!=2&&(zs(),ce(17)),Ze(this),this.s=2,Si(this)):ih(this,this.S-m)};function Si(m){m.j.G==0||m.J||dh(m.j,m)}function Ze(m){js(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Kr(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function $r(m,b){try{var x=m.j;if(x.G!=0&&(x.g==m||Il(x.h,m))){if(!m.K&&Il(x.h,m)&&x.G==3){try{var M=x.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)co(x),lo(x);else break t;ql(x),ce(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=De(v(x.Za,x),6e3));if(1>=to(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else os(x,11)}else if((m.K||x.g==m)&&co(x),!P(b))for(G=x.Da.g.parse(b),b=0;b<G.length;b++){let jt=G[b];if(x.T=jt[0],jt=jt[1],x.G==2)if(jt[0]=="c"){x.K=jt[1],x.ia=jt[2];const Ye=jt[3];Ye!=null&&(x.la=Ye,x.j.info("VER="+x.la));const Le=jt[4];Le!=null&&(x.Aa=Le,x.j.info("SVER="+x.Aa));const ls=jt[5];ls!=null&&typeof ls=="number"&&0<ls&&(M=1.5*ls,x.L=M,x.j.info("backChannelRequestTimeoutMs_="+M)),M=x;const Je=m.g;if(Je){const Oi=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var Z=M.h;Z.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(eo(Z,Z.h),Z.h=null))}if(M.D){const Yl=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(M.ya=Yl,te(M.I,M.D,Yl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),M=x;var ut=m;if(M.qa=ph(M,M.J?M.ia:null,M.W),ut.K){bn(M.h,ut);var Ft=ut,Ne=M.L;Ne&&(Ft.I=Ne),Ft.B&&(js(Ft),Wr(Ft)),M.g=ut}else hh(M);0<x.i.length&&uo(x)}else jt[0]!="stop"&&jt[0]!="close"||os(x,7);else x.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?os(x,7):jl(x):jt[0]!="noop"&&x.l&&x.l.ta(jt),x.v=0)}}zs(4)}catch{}}var sh=class{constructor(m,b){this.g=m,this.map=b}};function es(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function to(m){return m.h?1:m.g?m.g.size:0}function Il(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function eo(m,b){m.g?m.g.add(b):m.h=b}function bn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}es.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function kl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const x of m.g.values())b=b.concat(x.D);return b}return w(m.i)}function _m(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var b=[],x=m.length,M=0;M<x;M++)b.push(m[M]);return b}b=[],x=0;for(M in m)b[x++]=m[M];return b}function no(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var b=[];m=m.length;for(var x=0;x<m;x++)b.push(x);return b}b=[],x=0;for(const M in m)b[x++]=M;return b}}}function Nl(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var x=no(m),M=_m(m),G=M.length,Z=0;Z<G;Z++)b.call(void 0,M[Z],x&&x[Z],m)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vm(m,b){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var M=m[x].indexOf("="),G=null;if(0<=M){var Z=m[x].substring(0,M);G=m[x].substring(M+1)}else Z=m[x];b(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Oe(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Oe){this.h=m.h,Jr(this,m.j),this.o=m.o,this.g=m.g,Hs(this,m.s),this.l=m.l;var b=m.i,x=new is;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),ns(this,x),this.m=m.m}else m&&(b=String(m).match(Zr))?(this.h=!1,Jr(this,b[1]||"",!0),this.o=Qn(b[2]||""),this.g=Qn(b[3]||"",!0),Hs(this,b[4]),this.l=Qn(b[5]||"",!0),ns(this,b[6]||"",!0),this.m=Qn(b[7]||"")):(this.h=!1,this.i=new is(null,this.h))}Oe.prototype.toString=function(){var m=[],b=this.j;b&&m.push(ea(b,Ll,!0),":");var x=this.g;return(x||b=="file")&&(m.push("//"),(b=this.o)&&m.push(ea(b,Ll,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(ea(x,x.charAt(0)=="/"?bm:Bl,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",ea(x,io)),m.join("")};function kn(m){return new Oe(m)}function Jr(m,b,x){m.j=x?Qn(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Hs(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function ns(m,b,x){b instanceof is?(m.i=b,ah(m.i,m.h)):(x||(b=ea(b,Tm)),m.i=new is(b,m.h))}function te(m,b,x){m.i.set(b,x)}function ta(m){return te(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qn(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ea(m,b,x){return typeof m=="string"?(m=encodeURI(m).replace(b,rh),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function rh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ll=/[#\/\?@]/g,Bl=/[#\?:]/g,bm=/[#\?]/g,Tm=/[#\?@]/g,io=/#/g;function is(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Wn(m){m.g||(m.g=new Map,m.h=0,m.i&&vm(m.i,function(b,x){m.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}n=is.prototype,n.add=function(m,b){Wn(this),this.i=null,m=Ai(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(b),this.h+=1,this};function ss(m,b){Wn(m),b=Ai(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function rs(m,b){return Wn(m),b=Ai(m,b),m.g.has(b)}n.forEach=function(m,b){Wn(this),this.g.forEach(function(x,M){x.forEach(function(G){m.call(b,G,M,this)},this)},this)},n.na=function(){Wn(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let M=0;M<b.length;M++){const G=m[M];for(let Z=0;Z<G.length;Z++)x.push(b[M])}return x},n.V=function(m){Wn(this);let b=[];if(typeof m=="string")rs(this,m)&&(b=b.concat(this.g.get(Ai(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)b=b.concat(m[x])}return b},n.set=function(m,b){return Wn(this),this.i=null,m=Ai(this,m),rs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function zl(m,b,x){ss(m,b),0<x.length&&(m.i=null,m.g.set(Ai(m,b),w(x)),m.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var M=b[x];const Z=encodeURIComponent(String(M)),ut=this.V(M);for(M=0;M<ut.length;M++){var G=Z;ut[M]!==""&&(G+="="+encodeURIComponent(String(ut[M]))),m.push(G)}}return this.i=m.join("&")};function Ai(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function ah(m,b){b&&!m.j&&(Wn(m),m.i=null,m.g.forEach(function(x,M){var G=M.toLowerCase();M!=G&&(ss(this,M),zl(this,G,x))},m)),m.j=b}function na(m,b){const x=new Xn;if(c.Image){const M=new Image;M.onload=T($n,x,"TestLoadImage: loaded",!0,b,M),M.onerror=T($n,x,"TestLoadImage: error",!1,b,M),M.onabort=T($n,x,"TestLoadImage: abort",!1,b,M),M.ontimeout=T($n,x,"TestLoadImage: timeout",!1,b,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else b(!1)}function di(m,b){const x=new Xn,M=new AbortController,G=setTimeout(()=>{M.abort(),$n(x,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:M.signal}).then(Z=>{clearTimeout(G),Z.ok?$n(x,"TestPingServer: ok",!0,b):$n(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),$n(x,"TestPingServer: error",!1,b)})}function $n(m,b,x,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(x)}catch{}}function ia(){this.g=new Xr}function wi(m,b,x){const M=x||"";try{Nl(m,function(G,Z){let ut=G;d(G)&&(ut=hi(G)),b.push(M+Z+"="+encodeURIComponent(ut))})}catch(G){throw b.push(M+"type="+encodeURIComponent("_badmap")),G}}function qs(m){this.l=m.Ub||null,this.j=m.eb||!1}S(qs,Rl),qs.prototype.g=function(){return new as(this.l,this.j)},qs.prototype.i=function(m){return function(){return m}}({});function as(m,b){ve.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(as,ve),n=as.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Ci(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Ri(this):Ci(this),this.readyState==3&&Ul(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ri(this))},n.Qa=function(m){this.g&&(this.response=m,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ci(m)}n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=b.next();return m.join(`\r
`)};function Ci(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fl(m){let b="";return $(m,function(x,M){b+=M,b+=":",b+=x,b+=`\r
`}),b}function Ge(m,b,x){t:{for(M in x){var M=!1;break t}M=!0}M||(x=Fl(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):te(m,b,x))}function Xt(m){ve.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xt,ve);var so=/^https?$/i,sa=["POST","PUT"];n=Xt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,b,x,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Cl(this.o):Cl(xi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(Z){oh(this,Z);return}if(m=x||"",x=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)x.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Z of M.keys())x.set(Z,M.get(Z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(x.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(sa,b,void 0))||M||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ut]of x)this.g.setRequestHeader(Z,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){oh(this,Z)}};function oh(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,ro(m),Mi(m)}function ro(m){m.A||(m.A=!0,Wt(m,"complete"),Wt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Wt(this,"complete"),Wt(this,"abort"),Mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},n.bb=function(){ao(this)};function ao(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Zn(m)!=4||m.Z()!=2)){if(m.u&&Zn(m)==4)ln(m.Ea,0,m);else if(Wt(m,"readystatechange"),Zn(m)==4){m.h=!1;try{const ut=m.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var x;if(!(x=b)){var M;if(M=ut===0){var G=String(m.D).match(Zr)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),M=!so.test(G?G.toLowerCase():"")}x=M}if(x)Wt(m,"complete"),Wt(m,"success");else{m.m=6;try{var Z=2<Zn(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",ro(m)}}finally{Mi(m)}}}}function Mi(m,b){if(m.g){ra(m);const x=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||Wt(m,"ready");try{x.onreadystatechange=M}catch{}}}function ra(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Zn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Wa(b)}};function lh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(m){const b={};m=(m.g&&2<=Zn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(P(m[M]))continue;var x=z(m[M]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Z=b[G]||[];b[G]=Z,Z.push(x)}V(b,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(m,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||b}function oo(m){this.Aa=0,this.i=[],this.j=new Xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,m),this.cb=aa("retryDelaySeedMs",1e4,m),this.Wa=aa("forwardChannelMaxRetries",2,m),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new es(m&&m.concurrentRequestLimit),this.Da=new ia,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oo.prototype,n.la=8,n.G=1,n.connect=function(m,b,x,M){ce(0),this.W=m,this.H=b||{},x&&M!==void 0&&(this.H.OSID=x,this.H.OAID=M),this.F=this.X,this.I=ph(this,null,this.W),uo(this)};function jl(m){if(uh(m),m.G==3){var b=m.U++,x=kn(m.I);if(te(x,"SID",m.K),te(x,"RID",b),te(x,"TYPE","terminate"),oa(m,x),b=new vn(m,m.j,b),b.L=2,b.v=ta(kn(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=b.v,x=!0),x||(b.g=gh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Wr(b)}mh(m)}function lo(m){m.g&&(la(m),m.g.cancel(),m.g=null)}function uh(m){lo(m),m.u&&(c.clearTimeout(m.u),m.u=null),co(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function uo(m){if(!Ja(m.h)&&!m.s){m.s=!0;var b=m.Ga;nt||I(),ht||(nt(),ht=!0),yt.add(b,m),m.B=0}}function Em(m,b){return to(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=De(v(m.Ga,m,b),Gl(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new vn(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=R(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)t:{for(var b=0,x=0;x<this.i.length;x++){e:{var M=this.i[x];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=x;break t}if(b===4096||x===this.i.length-1){b=x+1;break t}}b=1e3}else b=1e3;b=ch(this,G,b),x=kn(this.I),te(x,"RID",m),te(x,"CVER",22),this.D&&te(x,"X-HTTP-Session-Id",this.D),oa(this,x),Z&&(this.O?b="headers="+encodeURIComponent(String(Fl(Z)))+"&"+b:this.m&&Ge(x,this.m,Z)),eo(this.h,G),this.Ua&&te(x,"TYPE","init"),this.P?(te(x,"$req",b),te(x,"SID","null"),G.T=!0,fi(G,x,null)):fi(G,x,b),this.G=2}}else this.G==3&&(m?Hl(this,m):this.i.length==0||Ja(this.h)||Hl(this))};function Hl(m,b){var x;b?x=b.l:x=m.U++;const M=kn(m.I);te(M,"SID",m.K),te(M,"RID",x),te(M,"AID",m.T),oa(m,M),m.m&&m.o&&Ge(M,m.m,m.o),x=new vn(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),b&&(m.i=b.D.concat(m.i)),b=ch(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),eo(m.h,x),fi(x,M,b)}function oa(m,b){m.H&&$(m.H,function(x,M){te(b,M,x)}),m.l&&Nl({},function(x,M){te(b,M,x)})}function ch(m,b,x){x=Math.min(m.i.length,x);var M=m.l?v(m.l.Na,m.l,m):null;t:{var G=m.i;let Z=-1;for(;;){const ut=["count="+x];Z==-1?0<x?(Z=G[0].g,ut.push("ofs="+Z)):Z=0:ut.push("ofs="+Z);let Ft=!0;for(let Ne=0;Ne<x;Ne++){let jt=G[Ne].g;const Ye=G[Ne].map;if(jt-=Z,0>jt)Z=Math.max(0,G[Ne].g-100),Ft=!1;else try{wi(Ye,ut,"req"+jt+"_")}catch{M&&M(Ye)}}if(Ft){M=ut.join("&");break t}}}return m=m.i.splice(0,x),b.D=m,M}function hh(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;nt||I(),ht||(nt(),ht=!0),yt.add(b,m),m.v=0}}function ql(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=De(v(m.Fa,m),Gl(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=De(v(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),lo(this),fh(this))};function la(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function fh(m){m.g=new vn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=kn(m.qa);te(b,"RID","rpc"),te(b,"SID",m.K),te(b,"AID",m.T),te(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&te(b,"TO",m.ja),te(b,"TYPE","xmlhttp"),oa(m,b),m.m&&m.o&&Ge(b,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=ta(kn(b)),x.m=null,x.P=!0,ts(x,m)}n.Za=function(){this.C!=null&&(this.C=null,lo(this),ql(this),ce(19))};function co(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function dh(m,b){var x=null;if(m.g==b){co(m),la(m),m.g=null;var M=2}else if(Il(m.h,b))x=b.D,bn(m.h,b),M=1;else return;if(m.G!=0){if(b.o)if(M==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var G=m.B;M=Bs(),Wt(M,new ke(M,x)),uo(m)}else hh(m);else if(G=b.s,G==3||G==0&&0<b.X||!(M==1&&Em(m,b)||M==2&&ql(m)))switch(x&&0<x.length&&(b=m.h,b.i=b.i.concat(x)),G){case 1:os(m,5);break;case 4:os(m,10);break;case 3:os(m,6);break;default:os(m,2)}}}function Gl(m,b){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*b}function os(m,b){if(m.j.info("Error code "+b),b==2){var x=v(m.fb,m),M=m.Xa;const G=!M;M=new Oe(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jr(M,"https"),ta(M),G?na(M.toString(),x):di(M.toString(),x)}else ce(2);m.G=0,m.l&&m.l.sa(b),mh(m),uh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function mh(m){if(m.G=0,m.ka=[],m.l){const b=kl(m.h);(b.length!=0||m.i.length!=0)&&(A(m.ka,b),A(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function ph(m,b,x){var M=x instanceof Oe?kn(x):new Oe(x);if(M.g!="")b&&(M.g=b+"."+M.g),Hs(M,M.s);else{var G=c.location;M=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;var Z=new Oe(null);M&&Jr(Z,M),b&&(Z.g=b),G&&Hs(Z,G),x&&(Z.l=x),M=Z}return x=m.D,b=m.ya,x&&b&&te(M,x,b),te(M,"VER",m.la),oa(m,M),M}function gh(m,b,x){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new Xt(new qs({eb:x})):new Xt(m.pa),b.Ha(m.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}n=yh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(m,b){return new Tn(m,b)};function Tn(m,b){ve.call(this),this.g=new oo(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!P(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Di(this)}S(Tn,ve),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){jl(this.g)},Tn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=hi(m),m=x);b.i.push(new sh(b.Ya++,m)),b.G==3&&uo(b)},Tn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Tn.aa.N.call(this)};function _h(m){Zi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const x in b){m=x;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}S(_h,Zi);function vh(){Dl.call(this),this.status=1}S(vh,Dl);function Di(m){this.g=m}S(Di,yh),Di.prototype.ua=function(){Wt(this.g,"a")},Di.prototype.ta=function(m){Wt(this.g,new _h(m))},Di.prototype.sa=function(m){Wt(this.g,new vh)},Di.prototype.ra=function(){Wt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,VA=function(){return new ho},OA=function(){return Bs()},DA=Ti,oy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Gf=Fs,Ji.COMPLETE="complete",MA=Ji,Ml.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Fu=Ml,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,CA=Xt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const E1="@firebase/firestore",S1="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new TA("@firebase/firestore");function qo(){return Fa.logLevel}function dt(n,...t){if(Fa.logLevel<=Gt.DEBUG){const e=t.map(m0);Fa.debug(`Firestore (${yl}): ${n}`,...e)}}function Vs(n,...t){if(Fa.logLevel<=Gt.ERROR){const e=t.map(m0);Fa.error(`Firestore (${yl}): ${n}`,...e)}}function il(n,...t){if(Fa.logLevel<=Gt.WARN){const e=t.map(m0);Fa.warn(`Firestore (${yl}): ${n}`,...e)}}function m0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,PA(n,i,e)}function PA(n,t,e){let i=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Vs(i),new Error(i)}function Qt(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||PA(t,s,i)}function Mt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends gl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mn.UNAUTHENTICATED))}shutdown(){}}class TV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class xV{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,e(h)):Promise.resolve();let a=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Sr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new IA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class EV{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SV{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new EV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AV{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nV(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=a=>{a.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,dt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new A1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=wV(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<e&&(i+=t.charAt(s[a]%62))}return i}}function Pt(n,t){return n<t?-1:n>t?1:0}function ly(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),s=t.codePointAt(e);if(i!==s){if(i<128&&s<128)return Pt(i,s);{const a=kA(),l=RV(a.encode(w1(n,e)),a.encode(w1(t,e)));return l!==0?l:Pt(i,s)}}e+=i>65535?2:1}return Pt(n.length,t.length)}function w1(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function RV(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Pt(n[e],t[e]);return Pt(n.length,t.length)}function sl(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=-62135596800,C1=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(t){return je.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*C1);return new je(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _t(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _t(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<R1)throw new _t(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C1}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-R1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new je(0,0))}static max(){return new Ct(new je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__name__";class zi{constructor(t,e,i){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&At(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const a=zi.compareSegments(t.get(s),e.get(s));if(a!==0)return a}return Pt(t.length,e.length)}static compareSegments(t,e){const i=zi.isNumericId(t),s=zi.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?zi.extractNumericId(t).compare(zi.extractNumericId(e)):ly(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Er.fromString(t.substring(4,t.length-2))}}class fe extends zi{construct(t,e,i){return new fe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new _t(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new fe(e)}static emptyPath(){return new fe([])}}const CV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends zi{construct(t,e,i){return new an(t,e,i)}static isValidIdentifier(t){return CV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M1}static keyField(){return new an([M1])}static fromServerFormat(t){const e=[];let i="",s=0;const a=()=>{if(i.length===0)throw new _t(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new _t(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new _t(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new _t(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(e)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(fe.fromString(t))}static fromName(t){return new Tt(fe.fromString(t).popFirst(5))}static empty(){return new Tt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new fe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function MV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(i===1e9?new je(e+1,0):new je(e,i));return new Rr(s,Tt.empty(),t)}function DV(n){return new Rr(n.readTime,n.key,_c)}class Rr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Rr(Ct.min(),Tt.empty(),_c)}static max(){return new Rr(Ct.max(),Tt.empty(),_c)}}function OV(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==VV)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.reject(e)}static resolve(t){return new rt((e,i)=>{e(t)})}static reject(t){return new rt((e,i)=>{i(t)})}static waitFor(t){return new rt((e,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&e()},h=>i(h))}),l=!0,a===s&&e()})}static or(t){let e=rt.resolve(!1);for(const i of t)e=e.next(s=>s?rt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,a)=>{i.push(e.call(this,s,a))}),this.waitFor(i)}static mapArray(t,e){return new rt((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;e(t[d]).next(p=>{l[d]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,e){return new rt((i,s)=>{const a=()=>{t()===!0?e().next(()=>{a()},s):i()};a()})}}function IV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}zd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-1;function Ud(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function kV(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="";function NV(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=D1(t)),t=LV(n.get(e),t);return D1(t)}function LV(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":e+="";break;case LA:e+="";break;default:e+=a}}return e}function D1(n){return n+LA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Lr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function BA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,e){this.comparator=t,this.root=e||rn.EMPTY}insert(t,e){return new _e(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xf(this.root,t,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xf(this.root,t,this.comparator,!0)}}class xf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,e,i,s,a){this.key=t,this.value=e,this.color=i??rn.RED,this.left=s??rn.EMPTY,this.right=a??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,a){return new rn(t??this.key,e??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,e,i),null):a===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return rn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,i,s,a){return this}insert(t,e,i){return new rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(t){return new V1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class V1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Yn([])}unionWith(t){let e=new He(an.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Yn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zA("Invalid base64 string: "+a):a}}(t);return new on(e)}static fromUint8Array(t){const e=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new on(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const BV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=BV.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mr(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="server_timestamp",FA="__type__",jA="__previous_value__",HA="__local_write_time__";function g0(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[FA])===null||e===void 0?void 0:e.stringValue)===UA}function Fd(n){const t=n.mapValue.fields[jA];return g0(t)?Fd(t):t}function vc(n){const t=Cr(n.mapValue.fields[HA].timestampValue);return new je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t,e,i,s,a,l,c,h,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const dd="(default)";class bc{constructor(t,e){this.projectId=t,this.database=e||dd}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===dd}isEqual(t){return t instanceof bc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="__type__",UV="__max__",Ef={mapValue:{}},GA="__vector__",md="value";function Dr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g0(n)?4:jV(n)?9007199254740991:FV(n)?10:11:At(28295,{value:n})}function Xi(n,t){if(n===t)return!0;const e=Dr(n);if(e!==Dr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return vc(n).isEqual(vc(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Cr(s.timestampValue),c=Cr(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,a){return Mr(s.bytesValue).isEqual(Mr(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,a){return Ce(s.geoPointValue.latitude)===Ce(a.geoPointValue.latitude)&&Ce(s.geoPointValue.longitude)===Ce(a.geoPointValue.longitude)}(n,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ce(s.integerValue)===Ce(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ce(s.doubleValue),c=Ce(a.doubleValue);return l===c?fd(l)===fd(c):isNaN(l)&&isNaN(c)}return!1}(n,t);case 9:return sl(n.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(O1(l)!==O1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Xi(l[h],c[h])))return!1;return!0}(n,t);default:return At(52216,{left:n})}}function Tc(n,t){return(n.values||[]).find(e=>Xi(e,t))!==void 0}function rl(n,t){if(n===t)return 0;const e=Dr(n),i=Dr(t);if(e!==i)return Pt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return function(a,l){const c=Ce(a.integerValue||a.doubleValue),h=Ce(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return P1(n.timestampValue,t.timestampValue);case 4:return P1(vc(n),vc(t));case 5:return ly(n.stringValue,t.stringValue);case 6:return function(a,l){const c=Mr(a),h=Mr(l);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=Pt(c[d],h[d]);if(p!==0)return p}return Pt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Pt(Ce(a.latitude),Ce(l.latitude));return c!==0?c:Pt(Ce(a.longitude),Ce(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return I1(n.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,d,p;const y=a.fields||{},v=l.fields||{},T=(c=y[md])===null||c===void 0?void 0:c.arrayValue,S=(h=v[md])===null||h===void 0?void 0:h.arrayValue,w=Pt(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:I1(T,S)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Ef.mapValue&&l===Ef.mapValue)return 0;if(a===Ef.mapValue)return 1;if(l===Ef.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const v=ly(h[y],p[y]);if(v!==0)return v;const T=rl(c[h[y]],d[p[y]]);if(T!==0)return T}return Pt(h.length,p.length)}(n.mapValue,t.mapValue);default:throw At(23264,{Pe:e})}}function P1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=Cr(n),i=Cr(t),s=Pt(e.seconds,i.seconds);return s!==0?s:Pt(e.nanos,i.nanos)}function I1(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const a=rl(e[s],i[s]);if(a)return a}return Pt(e.length,i.length)}function al(n){return uy(n)}function uy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Cr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Mr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Tt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const a of e.values||[])s?s=!1:i+=",",i+=uy(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${uy(e.fields[l])}`;return s+"}"}(n.mapValue):At(61005,{value:n})}function Yf(n){switch(Dr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fd(n);return t?16+Yf(t):16;case 5:return 2*n.stringValue.length;case 6:return Mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Yf(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Lr(i.fields,(a,l)=>{s+=a.length+Yf(l)}),s}(n.mapValue);default:throw At(13486,{value:n})}}function cy(n){return!!n&&"integerValue"in n}function y0(n){return!!n&&"arrayValue"in n}function k1(n){return!!n&&"nullValue"in n}function N1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function FV(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[qA])===null||e===void 0?void 0:e.stringValue)===GA}function Ju(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Lr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ju(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ju(n.arrayValue.values[e]);return t}return Object.assign({},n)}function jV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Kf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ju(e)}setAll(t){let e=an.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,i,s),i={},s=[],e=c.popLast()}l?i[c.lastSegment()]=Ju(l):s.push(c.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,s)}delete(t){const e=this.field(t.popLast());Kf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Lr(e,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new Mn(Ju(this.value))}}function YA(n){const t=[];return Lr(n.fields,(e,i)=>{const s=new an([e]);if(Kf(i)){const a=YA(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t,e,i,s,a,l,c){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new pn(t,0,Ct.min(),Ct.min(),Ct.min(),Mn.empty(),0)}static newFoundDocument(t,e,i,s){return new pn(t,1,e,Ct.min(),i,s,0)}static newNoDocument(t,e){return new pn(t,2,e,Ct.min(),Ct.min(),Mn.empty(),0)}static newUnknownDocument(t,e){return new pn(t,3,e,Ct.min(),Ct.min(),Mn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,e){this.position=t,this.inclusive=e}}function L1(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const a=t[s],l=n.position[s];if(a.field.isKeyField()?i=Tt.comparator(Tt.fromName(l.referenceValue),e.key):i=rl(l,e.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function B1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e="asc"){this.field=t,this.dir=e}}function HV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{}class Ue extends KA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new GV(t,e,i):e==="array-contains"?new XV(t,i):e==="in"?new QV(t,i):e==="not-in"?new WV(t,i):e==="array-contains-any"?new $V(t,i):new Ue(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new YV(t,i):new KV(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(rl(e,this.value)):e!==null&&Dr(this.value)===Dr(e)&&this.matchesComparison(rl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends KA{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Qi(t,e)}matches(t){return XA(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function XA(n){return n.op==="and"}function QA(n){return qV(n)&&XA(n)}function qV(n){for(const t of n.filters)if(t instanceof Qi)return!1;return!0}function hy(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+al(n.value);if(QA(n))return n.filters.map(t=>hy(t)).join(",");{const t=n.filters.map(e=>hy(e)).join(",");return`${n.op}(${t})`}}function WA(n,t){return n instanceof Ue?function(i,s){return s instanceof Ue&&i.op===s.op&&i.field.isEqual(s.field)&&Xi(i.value,s.value)}(n,t):n instanceof Qi?function(i,s){return s instanceof Qi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&WA(l,s.filters[c]),!0):!1}(n,t):void At(19439)}function $A(n){return n instanceof Ue?function(e){return`${e.field.canonicalString()} ${e.op} ${al(e.value)}`}(n):n instanceof Qi?function(e){return e.op.toString()+" {"+e.getFilters().map($A).join(" ,")+"}"}(n):"Filter"}class GV extends Ue{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class YV extends Ue{constructor(t,e){super(t,"in",e),this.keys=ZA("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class KV extends Ue{constructor(t,e){super(t,"not-in",e),this.keys=ZA("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ZA(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Tt.fromName(i.referenceValue))}class XV extends Ue{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return y0(e)&&Tc(e.arrayValue,this.value)}}class QV extends Ue{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Tc(this.value.arrayValue,e)}}class WV extends Ue{constructor(t,e){super(t,"not-in",e)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Tc(this.value.arrayValue,e)}}class $V extends Ue{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!y0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Tc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(t,e=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function z1(n,t=null,e=[],i=[],s=null,a=null,l=null){return new ZV(n,t,e,i,s,a,l)}function _0(n){const t=Mt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>hy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ud(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>al(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>al(i)).join(",")),t.Ie=e}return t.Ie}function v0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!HV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!WA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!B1(n.startAt,t.startAt)&&B1(n.endAt,t.endAt)}function fy(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,e=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JV(n,t,e,i,s,a,l,c){return new jd(n,t,e,i,s,a,l,c)}function b0(n){return new jd(n)}function U1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tP(n){return n.collectionGroup!==null}function tc(n){const t=Mt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ee.push(a),e.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new He(an.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ee.push(new gd(a,i))}),e.has(an.keyField().canonicalString())||t.Ee.push(new gd(an.keyField(),i))}return t.Ee}function Ui(n){const t=Mt(n);return t.de||(t.de=eP(t,tc(n))),t.de}function eP(n,t){if(n.limitType==="F")return z1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new gd(s.field,a)});const e=n.endAt?new pd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new pd(n.startAt.position,n.startAt.inclusive):null;return z1(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function dy(n,t,e){return new jd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Hd(n,t){return v0(Ui(n),Ui(t))&&n.limitType===t.limitType}function JA(n){return`${_0(Ui(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>$A(s)).join(", ")}]`),Ud(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>al(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>al(s)).join(",")),`Target(${i})`}(Ui(n))}; limitType=${n.limitType})`}function qd(n,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Tt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,t)&&function(i,s){for(const a of tc(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=L1(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,tc(i),s)||i.endAt&&!function(l,c,h){const d=L1(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,tc(i),s))}(n,t)}function nP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tw(n){return(t,e)=>{let i=!1;for(const s of tc(n)){const a=iP(s,t,e);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function iP(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?rl(h,d):At(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Lr(this.inner,(e,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return BA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new _e(Tt.comparator);function Ps(){return sP}const ew=new _e(Tt.comparator);function ju(...n){let t=ew;for(const e of n)t=t.insert(e.key,e);return t}function nw(n){let t=ew;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Pa(){return ec()}function iw(){return ec()}function ec(){return new Ga(n=>n.toString(),(n,t)=>n.isEqual(t))}const rP=new _e(Tt.comparator),aP=new He(Tt.comparator);function zt(...n){let t=aP;for(const e of n)t=t.add(e);return t}const oP=new He(Pt);function lP(){return oP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(t)?"-0":t}}function sw(n){return{integerValue:""+n}}function uP(n,t){return kV(t)?sw(t):T0(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function cP(n,t,e){return n instanceof yd?function(s,a){const l={fields:{[FA]:{stringValue:UA},[HA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&g0(a)&&(a=Fd(a)),a&&(l.fields[jA]=a),{mapValue:l}}(e,t):n instanceof xc?aw(n,t):n instanceof Ec?ow(n,t):function(s,a){const l=rw(s,a),c=F1(l)+F1(s.Re);return cy(l)&&cy(s.Re)?sw(c):T0(s.serializer,c)}(n,t)}function hP(n,t,e){return n instanceof xc?aw(n,t):n instanceof Ec?ow(n,t):e}function rw(n,t){return n instanceof _d?function(i){return cy(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class yd extends Gd{}class xc extends Gd{constructor(t){super(),this.elements=t}}function aw(n,t){const e=lw(t);for(const i of n.elements)e.some(s=>Xi(s,i))||e.push(i);return{arrayValue:{values:e}}}class Ec extends Gd{constructor(t){super(),this.elements=t}}function ow(n,t){let e=lw(t);for(const i of n.elements)e=e.filter(s=>!Xi(s,i));return{arrayValue:{values:e}}}class _d extends Gd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function F1(n){return Ce(n.integerValue||n.doubleValue)}function lw(n){return y0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fP(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof xc&&s instanceof xc||i instanceof Ec&&s instanceof Ec?sl(i.elements,s.elements,Xi):i instanceof _d&&s instanceof _d?Xi(i.Re,s.Re):i instanceof yd&&s instanceof yd}(n.transform,t.transform)}class dP{constructor(t,e){this.version=t,this.transformResults=e}}class Fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Yd{}function uw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new hw(n.key,Fi.none()):new zc(n.key,n.data,Fi.none());{const e=n.data,i=Mn.empty();let s=new He(an.comparator);for(let a of t.fields)if(!s.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Br(n.key,i,new Yn(s.toArray()),Fi.none())}}function mP(n,t,e){n instanceof zc?function(s,a,l){const c=s.value.clone(),h=H1(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Br?function(s,a,l){if(!Xf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=H1(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(cw(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function nc(n,t,e,i){return n instanceof zc?function(a,l,c,h){if(!Xf(a.precondition,l))return c;const d=a.value.clone(),p=q1(a.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Br?function(a,l,c,h){if(!Xf(a.precondition,l))return c;const d=q1(a.fieldTransforms,h,l),p=l.data;return p.setAll(cw(a)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(a,l,c){return Xf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,t,e)}function pP(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),a=rw(i.transform,s||null);a!=null&&(e===null&&(e=Mn.empty()),e.set(i.field,a))}return e||null}function j1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&sl(i,s,(a,l)=>fP(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zc extends Yd{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Br extends Yd{constructor(t,e,i,s,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function H1(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let s=0;s<e.length;s++){const a=n[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,hP(l,c,e[s]))}return i}function q1(n,t,e){const i=new Map;for(const s of n){const a=s.transform,l=e.data.field(s.field);i.set(s.field,cP(a,l,t))}return i}class hw extends Yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gP extends Yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&mP(a,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=nc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=nc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=iw();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=e.has(s.key)?null:c;const h=uw(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,(e,i)=>j1(e,i))&&sl(this.baseMutations,t.baseMutations,(e,i)=>j1(e,i))}}class x0{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return rP}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new x0(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,qt;function bP(n){switch(n){case lt.OK:return At(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function fw(n){if(n===void 0)return Vs("GRPC error has no .code"),lt.UNKNOWN;switch(n){case Ie.OK:return lt.OK;case Ie.CANCELLED:return lt.CANCELLED;case Ie.UNKNOWN:return lt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return lt.INTERNAL;case Ie.UNAVAILABLE:return lt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return lt.NOT_FOUND;case Ie.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ie.ABORTED:return lt.ABORTED;case Ie.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ie.DATA_LOSS:return lt.DATA_LOSS;default:return At(39323,{code:n})}}(qt=Ie||(Ie={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Er([4294967295,4294967295],0);function G1(n){const t=kA().encode(n),e=new RA;return e.update(t),new Uint8Array(e.digest())}function Y1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Er([e,i],0),new Er([s,a],0)]}class E0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Hu(`Invalid padding: ${e}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Er.fromNumber(this.pe)}we(t,e,i){let s=t.add(e.multiply(Er.fromNumber(i)));return s.compare(TP)===1&&(s=new Er([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=G1(t),[i,s]=Y1(e);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);if(!this.Se(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new E0(a,s,e);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.pe===0)return;const e=G1(t),[i,s]=Y1(e);for(let a=0;a<this.hashCount;a++){const l=this.we(i,s,a);this.be(l)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,e,i,s,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Uc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Kd(Ct.min(),s,new _e(Pt),Ps(),zt())}}class Uc{constructor(t,e,i,s,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Uc(i,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,e,i,s){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=s}}class dw{constructor(t,e){this.targetId=t,this.Ce=e}}class mw{constructor(t,e,i=on.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class K1{constructor(){this.Fe=0,this.Me=X1(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),e=zt(),i=zt();return this.Me.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:At(38017,{changeType:a})}}),new Uc(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=X1()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xP{constructor(t){this.ze=t,this.je=new Map,this.He=Ps(),this.Je=Sf(),this.Ye=Sf(),this.Ze=new _e(Pt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,i=t.Ce.count,s=this._t(e);if(s){const a=s.target;if(fy(a))if(i===0){const l=new Tt(a.path);this.tt(e,l,pn.newNoDocument(l,Ct.min()))}else Qt(i===1,20013,{expectedCount:i});else{const l=this.ut(e);if(l!==i){const c=this.ct(t),h=c?this.lt(c,t,l):1;if(h!==0){this.st(e);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=e;let l,c;try{l=Mr(i).toUint8Array()}catch(h){if(h instanceof zA)return il("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new E0(l,s,a)}catch(h){return il(h instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let s=0;return i.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.tt(e,a,null),s++)}),s}It(t){const e=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&fy(c.target)){const h=new Tt(c.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,pn.newNoDocument(h,t))}a.Le&&(e.set(l,a.qe()),a.Qe())}});let i=zt();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.He.forEach((a,l)=>l.setReadTime(t));const s=new Kd(t,e,this.Ze,this.He,i);return this.He=Ps(),this.Je=Sf(),this.Ye=Sf(),this.Ze=new _e(Pt),s}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new K1,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new He(Pt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new He(Pt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new K1),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Sf(){return new _e(Tt.comparator)}function X1(){return new _e(Tt.comparator)}const EP={asc:"ASCENDING",desc:"DESCENDING"},SP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AP={and:"AND",or:"OR"};class wP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function my(n,t){return n.useProto3Json||Ud(t)?t:{value:t}}function vd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pw(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function RP(n,t){return vd(n,t.toTimestamp())}function ji(n){return Qt(!!n,49232),Ct.fromTimestamp(function(e){const i=Cr(e);return new je(i.seconds,i.nanos)}(n))}function S0(n,t){return py(n,t).canonicalString()}function py(n,t){const e=function(s){return new fe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function gw(n){const t=fe.fromString(n);return Qt(Tw(t),10190,{key:t.toString()}),t}function gy(n,t){return S0(n.databaseId,t.path)}function Sg(n,t){const e=gw(t);if(e.get(1)!==n.databaseId.projectId)throw new _t(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new _t(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(_w(e))}function yw(n,t){return S0(n.databaseId,t)}function CP(n){const t=gw(n);return t.length===4?fe.emptyPath():_w(t)}function yy(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _w(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Q1(n,t,e){return{name:gy(n,t),fields:e.value.mapValue.fields}}function MP(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:At(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(Qt(p===void 0||typeof p=="string",58123),on.fromBase64String(p||"")):(Qt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),on.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?lt.UNKNOWN:fw(d.code);return new _t(p,d.message||"")}(l);e=new mw(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Sg(n,i.document.name),a=ji(i.document.updateTime),l=i.document.createTime?ji(i.document.createTime):Ct.min(),c=new Mn({mapValue:{fields:i.document.fields}}),h=pn.newFoundDocument(s,a,l,c),d=i.targetIds||[],p=i.removedTargetIds||[];e=new Qf(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Sg(n,i.document),a=i.readTime?ji(i.readTime):Ct.min(),l=pn.newNoDocument(s,a),c=i.removedTargetIds||[];e=new Qf([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Sg(n,i.document),a=i.removedTargetIds||[];e=new Qf([],a,s,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new vP(s,a),c=i.targetId;e=new dw(c,l)}}return e}function DP(n,t){let e;if(t instanceof zc)e={update:Q1(n,t.key,t.value)};else if(t instanceof hw)e={delete:gy(n,t.key)};else if(t instanceof Br)e={update:Q1(n,t.key,t.data),updateMask:zP(t.fieldMask)};else{if(!(t instanceof gP))return At(16599,{ft:t.type});e={verify:gy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof yd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _d)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw At(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:RP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:At(27497)}(n,t.precondition)),e}function OP(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map(e=>function(s,a){let l=s.updateTime?ji(s.updateTime):ji(a);return l.isEqual(Ct.min())&&(l=ji(a)),new dP(l,s.transformResults||[])}(e,t))):[]}function VP(n,t){return{documents:[yw(n,t.path)]}}function PP(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=yw(n,s);const a=function(d){if(d.length!==0)return bw(Qi.create(d,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:Yo(v.field),direction:NP(v.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const c=my(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{gt:e,parent:s}}function IP(n){let t=CP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Qt(i===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];e.where&&(a=function(y){const v=vw(y);return v instanceof Qi&&QA(v)?v.getFilters():[v]}(e.where));let l=[];e.orderBy&&(l=function(y){return y.map(v=>function(S){return new gd(Ko(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(e.orderBy));let c=null;e.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,Ud(v)?null:v}(e.limit));let h=null;e.startAt&&(h=function(y){const v=!!y.before,T=y.values||[];return new pd(T,v)}(e.startAt));let d=null;return e.endAt&&(d=function(y){const v=!y.before,T=y.values||[];return new pd(T,v)}(e.endAt)),JV(t,s,l,a,c,"F",h,d)}function kP(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function vw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ko(e.unaryFilter.field);return Ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ko(e.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(e.unaryFilter.field);return Ue.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ko(e.unaryFilter.field);return Ue.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ue.create(Ko(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Qi.create(e.compositeFilter.filters.map(i=>vw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(e.compositeFilter.op))}(n):At(30097,{filter:n})}function NP(n){return EP[n]}function LP(n){return SP[n]}function BP(n){return AP[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Ko(n){return an.fromServerFormat(n.fieldPath)}function bw(n){return n instanceof Ue?function(e){if(e.op==="=="){if(N1(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NAN"}};if(k1(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(N1(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NOT_NAN"}};if(k1(e.value))return{unaryFilter:{field:Yo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(e.field),op:LP(e.op),value:e.value}}}(n):n instanceof Qi?function(e){const i=e.getFilters().map(s=>bw(s));return i.length===1?i[0]:{compositeFilter:{op:BP(e.op),filters:i}}}(n):At(54877,{filter:n})}function zP(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,e,i,s,a=Ct.min(),l=Ct.min(),c=on.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.wt=t}}function FP(n){const t=IP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Cn=new HP}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Rr.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Rr.min())}updateCollectionGroup(t,e,i){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class HP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new He(fe.comparator),a=!s.has(i);return this.index[e]=s.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new He(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(xw,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ol(0)}static lr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="LruGarbageCollector",qP=1048576;function Z1([n,t],[e,i]){const s=Pt(n,e);return s===0?Pt(t,i):s}class GP{constructor(t){this.Er=t,this.buffer=new He(Z1),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Z1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class YP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){dt($1,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vl(e)?dt($1,"Ignoring IndexedDB error during garbage collection: ",e):await _l(e)}await this.mr(3e5)})}}class KP{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(zd.le);const i=new GP(e);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(W1)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,s,a,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,e))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),qo()<=Gt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function XP(n,t){return new KP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.changes=new Ga(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?rt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&nc(i.mutation,s,Yn.empty(),je.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=zt()){const s=Pa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(a=>{let l=ju();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Pa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,zt()))}populateOverlays(t,e,i){const s=[];return i.forEach(a=>{e.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{e.set(l,c)})})}computeViews(t,e,i,s){let a=Ps();const l=ec(),c=function(){return ec()}();return e.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Br)?a=a.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),nc(p.mutation,d,p.mutation.getFieldMask(),je.now())):l.set(d.key,Yn.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,p)=>l.set(d,p)),e.forEach((d,p)=>{var y;return c.set(d,new WP(p,(y=l.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,e){const i=ec();let s=new _e((l,c)=>l-c),a=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=e.get(h);if(d===null)return;let p=i.get(h)||Yn.empty();p=c.applyToLocalView(d,p),i.set(h,p);const y=(s.get(c.batchId)||zt()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=iw();p.forEach(v=>{if(!a.has(v)){const T=uw(e.get(v),i.get(v));T!==null&&y.set(v,T),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return rt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-a.size):rt.resolve(Pa());let c=_c,h=a;return l.next(d=>rt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?rt.resolve():this.remoteDocumentCache.getEntry(t,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,zt())).next(p=>({batchId:c,changes:nw(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(i=>{let s=ju();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const a=e.collectionGroup;let l=ju();return this.indexManager.getCollectionParents(t,a).next(c=>rt.forEach(c,h=>{const d=function(y,v){return new jd(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((y,v)=>{l=l.insert(y,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,a,s))).next(l=>{a.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,pn.newInvalidDocument(p)))});let c=ju();return l.forEach((h,d)=>{const p=a.get(h);p!==void 0&&nc(p.mutation,d,Yn.empty(),je.now()),qd(e,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return rt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:ji(s.createTime)}}(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:FP(s.bundledQuery),readTime:ji(s.readTime)}}(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.overlays=new _e(Tt.comparator),this.Qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Pa();return rt.forEach(e,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,a)=>{this.bt(t,e,a)}),rt.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(i)),rt.resolve()}getOverlaysForCollection(t,e,i){const s=Pa(),a=e.length+1,l=new Tt(e.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return rt.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let a=new _e((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let p=a.get(d.largestBatchId);p===null&&(p=Pa(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Pa(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return rt.resolve(c)}bt(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new _P(e,i));let a=this.Qr.get(e);a===void 0&&(a=zt(),this.Qr.set(e,a)),this.Qr.set(e,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.$r=new He(We.Ur),this.Kr=new He(We.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new We(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new We(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Tt(new fe([])),i=new We(e,t),s=new We(e,t+1),a=[];return this.Kr.forEachInRange([i,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Tt(new fe([])),i=new We(e,t),s=new We(e,t+1);let a=zt();return this.Kr.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new We(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Tt.comparator(t.key,e.key)||Pt(t.Zr,e.Zr)}static Wr(t,e){return Pt(t.Zr,e.Zr)||Tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new He(We.Ur)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new yP(a,e,i,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new We(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return rt.resolve(l)}lookupMutationBatch(t,e){return rt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ti(i),a=s<0?0:s;return rt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?p0:this.nr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),s=new We(e,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([i,s],l=>{const c=this.ei(l.Zr);a.push(c)}),rt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Pt);return e.forEach(s=>{const a=new We(s,0),l=new We(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{i=i.add(c.Zr)})}),rt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let a=i;Tt.isDocumentKey(a)||(a=a.child(""));const l=new We(new Tt(a),0);let c=new He(Pt);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Zr)),!0)},l),rt.resolve(this.ni(c))}ni(t){const e=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Qt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return rt.forEach(e.mutations,s=>{const a=new We(s.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new We(e,0),s=this.Xr.firstAfterOrEqual(i);return rt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.ii=t,this.docs=function(){return new _e(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),a=s?s.size:0,l=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return rt.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(e))}getEntries(t,e){let i=Ps();return e.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():pn.newInvalidDocument(s))}),rt.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let a=Ps();const l=e.path,c=new Tt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||OV(DV(p),i)<=0||(s.has(p.key)||qd(e,p))&&(a=a.insert(p.key,p.mutableCopy()))}return rt.resolve(a)}getAllFromCollectionGroup(t,e,i,s){At(9500)}si(t,e){return rt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new iI(this)}getSize(t){return rt.resolve(this.size)}}class iI extends QP{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),rt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.persistence=t,this.oi=new Ga(e=>_0(e),v0),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this._i=0,this.ai=new A0,this.targetCount=0,this.ui=ol.cr()}forEachTarget(t,e){return this.oi.forEach((i,s)=>e(s)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),rt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new ol(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Tr(e),rt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,i){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),rt.waitFor(a).next(()=>s)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return rt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),rt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const s=this.persistence.referenceDelegate,a=[];return s&&e.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),rt.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return rt.resolve(i)}containsKey(t,e){return rt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,e){this.ci={},this.overlays={},this.li=new zd(0),this.hi=!1,this.hi=!0,this.Pi=new tI,this.referenceDelegate=t(this),this.Ti=new sI(this),this.indexManager=new jP,this.remoteDocumentCache=function(s){return new nI(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new UP(e),this.Ei=new ZP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new JP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new eI(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const s=new rI(this.li.next());return this.referenceDelegate.di(),i(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(t,e){return rt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class rI extends PV{constructor(t){super(),this.currentSequenceNumber=t}}class w0{constructor(t){this.persistence=t,this.Vi=new A0,this.mi=null}static fi(t){return new w0(t)}get gi(){if(this.mi)return this.mi;throw At(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),rt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.gi,i=>{const s=Tt.fromPath(i);return this.pi(t,s).next(a=>{a||e.removeEntry(s,Ct.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return rt.or([()=>rt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class bd{constructor(t,e){this.persistence=t,this.yi=new Ga(i=>NV(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=XP(this,e)}static fi(t,e){return new bd(t,e)}di(){}Ai(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Sr(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return rt.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(a=>a?rt.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(t,l=>this.Dr(t,l,e).next(c=>{c||(i++,a.removeEntry(l,Ct.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),rt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Yf(t.data.value)),e}Dr(t,e,i){return rt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return rt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.ds=i,this.As=s}static Rs(t,e){let i=zt(),s=zt();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new R0(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JD()?8:IV($D())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,s){const a={result:null};return this.ws(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Ss(t,e,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new aI;return this.bs(t,e,l).next(c=>{if(a.result=c,this.fs)return this.Ds(t,e,l,c.size)})}).next(()=>a.result)}Ds(t,e,i,s){return i.documentReadCount<this.gs?(qo()<=Gt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Go(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rt.resolve()):(qo()<=Gt.DEBUG&&dt("QueryEngine","Query:",Go(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(qo()<=Gt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Go(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(e))):rt.resolve())}ws(t,e){if(U1(e))return rt.resolve(null);let i=Ui(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=dy(e,null,"F"),i=Ui(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=zt(...a);return this.ys.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.vs(e,c);return this.Cs(e,d,l,h.readTime)?this.ws(t,dy(e,null,"F")):this.Fs(t,d,e,h)}))})))}Ss(t,e,i,s){return U1(e)||s.isEqual(Ct.min())?rt.resolve(null):this.ys.getDocuments(t,i).next(a=>{const l=this.vs(e,a);return this.Cs(e,l,i,s)?rt.resolve(null):(qo()<=Gt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(e)),this.Fs(t,l,e,MV(s,_c)).next(c=>c))})}vs(t,e){let i=new He(tw(t));return e.forEach((s,a)=>{qd(t,a)&&(i=i.add(a))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}bs(t,e,i){return qo()<=Gt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Go(e)),this.ys.getDocumentsMatchingQuery(t,e,Rr.min(),i)}Fs(t,e,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LocalStore",lI=3e8;class uI{constructor(t,e,i,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new _e(Pt),this.Os=new Ga(a=>_0(a),v0),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $P(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function cI(n,t,e,i){return new uI(n,t,e,i)}async function Sw(n,t){const e=Mt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=zt();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return e.localDocuments.getDocuments(i,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:c}))})})}function hI(n,t){const e=Mt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=e.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,v=y.keys();let T=rt.resolve();return v.forEach(S=>{T=T.next(()=>p.getEntry(h,S)).next(w=>{const A=d.docVersions.get(S);Qt(A!==null,48541),w.version.compareTo(A)<0&&(y.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=zt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function Aw(n){const t=Mt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function fI(n,t){const e=Mt(n),i=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const c=[];t.targetChanges.forEach((p,y)=>{const v=s.get(y);if(!v)return;c.push(e.Ti.removeMatchingKeys(a,p.removedDocuments,y).next(()=>e.Ti.addMatchingKeys(a,p.addedDocuments,y)));let T=v.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?T=T.withResumeToken(on.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,i)),s=s.insert(y,T),function(w,A,D){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=lI?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,T,p)&&c.push(e.Ti.updateTargetData(a,T))});let h=Ps(),d=zt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(dI(a,l,t.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!i.isEqual(Ct.min())){const p=e.Ti.getLastRemoteSnapshotVersion(a).next(y=>e.Ti.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return rt.waitFor(c).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(e.xs=s,a))}function dI(n,t,e){let i=zt(),s=zt();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let l=Ps();return e.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ct.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):dt(C0,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:s}})}function mI(n,t){const e=Mt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=p0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function pI(n,t){const e=Mt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Ti.getTargetData(i,t).next(a=>a?(s=a,rt.resolve(s)):e.Ti.allocateTargetId(i).next(l=>(s=new pr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function _y(n,t,e){const i=Mt(n),s=i.xs.get(t),a=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!vl(l))throw l;dt(C0,`Failed to update sequence numbers for target ${t}: ${l}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function J1(n,t,e){const i=Mt(n);let s=Ct.min(),a=zt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=Mt(h),v=y.Os.get(p);return v!==void 0?rt.resolve(y.xs.get(v)):y.Ti.getTargetData(d,p)}(i,l,Ui(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(l,t,e?s:Ct.min(),e?a:zt())).next(c=>(gI(i,nP(t),c),{documents:c,$s:a})))}function gI(n,t,e){let i=n.Ns.get(t)||Ct.min();e.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ns.set(t,i)}class tx{constructor(){this.activeTargetIds=lP()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yI{constructor(){this.xo=new tx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new tx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="ConnectivityMonitor";class nx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(ex,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){dt(ex,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function vy(){return Af===null?Af=function(){return 268435456+Math.round(2147483648*Math.random())}():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===dd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,e,i,s,a){const l=vy(),c=this.jo(t,e.toUriEncodedString());dt(Ag,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(c),p=f0(d);return this.Jo(t,c,h,i,p).then(y=>(dt(Ag,`Received RPC '${t}' ${l}: `,y),y),y=>{throw il(Ag,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Yo(t,e,i,s,a,l){return this.zo(t,e,i,s,a)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}jo(t,e){const i=vI[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class xI extends bI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,a){const l=vy();return new Promise((c,h)=>{const d=new CA;d.setWithCredentials(!0),d.listenOnce(MA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Gf.NO_ERROR:const y=d.getResponseJson();dt(hn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case Gf.TIMEOUT:dt(hn,`RPC '${t}' ${l} timed out`),h(new _t(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const v=d.getStatus();if(dt(hn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const w=function(D){const P=D.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(P)>=0?P:lt.UNKNOWN}(S.status);h(new _t(w,S.message))}else h(new _t(lt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new _t(lt.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{dt(hn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);dt(hn,`RPC '${t}' ${l} sending request:`,s),d.send(e,"POST",p,i,15)})}T_(t,e,i){const s=vy(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=VA(),c=OA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=a.join("");dt(hn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);let v=!1,T=!1;const S=new TI({Zo:A=>{T?dt(hn,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(v||(dt(hn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),v=!0),dt(hn,`RPC '${t}' stream ${s} sending:`,A),y.send(A))},Xo:()=>y.close()}),w=(A,D,P)=>{A.listen(D,B=>{try{P(B)}catch(q){setTimeout(()=>{throw q},0)}})};return w(y,Fu.EventType.OPEN,()=>{T||(dt(hn,`RPC '${t}' stream ${s} transport opened.`),S.__())}),w(y,Fu.EventType.CLOSE,()=>{T||(T=!0,dt(hn,`RPC '${t}' stream ${s} transport closed`),S.u_())}),w(y,Fu.EventType.ERROR,A=>{T||(T=!0,il(hn,`RPC '${t}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),S.u_(new _t(lt.UNAVAILABLE,"The operation could not be completed")))}),w(y,Fu.EventType.MESSAGE,A=>{var D;if(!T){const P=A.data[0];Qt(!!P,16349);const B=P,q=(B==null?void 0:B.error)||((D=B[0])===null||D===void 0?void 0:D.error);if(q){dt(hn,`RPC '${t}' stream ${s} received error:`,q);const F=q.status;let $=function(O){const k=Ie[O];if(k!==void 0)return fw(k)}(F),V=q.message;$===void 0&&($=lt.INTERNAL,V="Unknown error status: "+F+" with message "+q.message),T=!0,S.u_(new _t($,V)),y.close()}else dt(hn,`RPC '${t}' stream ${s} received:`,P),S.c_(P)}}),w(c,DA.STAT_EVENT,A=>{A.stat===oy.PROXY?dt(hn,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===oy.NOPROXY&&dt(hn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function wg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n){return new wP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,e,i=1e3,s=1.5,a=6e4){this.xi=t,this.timerId=e,this.I_=i,this.E_=s,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),s=Math.max(0,e-i);s>0&&dt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="PersistentStream";class Rw{constructor(t,e,i,s,a,l,c,h){this.xi=t,this.y_=i,this.w_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ww(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(Vs(e.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.S_===e&&this.K_(i,s)},i=>{t(()=>{const s=new _t(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(s)})})}K_(t,e){const i=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.W_(s))}),this.stream.onMessage(s=>{i(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return dt(ix,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(dt(ix,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EI extends Rw{constructor(t,e,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=MP(this.serializer,t),i=function(a){if(!("targetChange"in a))return Ct.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?ji(l.readTime):Ct.min()}(t);return this.listener.j_(e,i)}H_(t){const e={};e.database=yy(this.serializer),e.addTarget=function(a,l){let c;const h=l.target;if(c=fy(h)?{documents:VP(a,h)}:{query:PP(a,h).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=pw(a,l.resumeToken);const d=my(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ct.min())>0){c.readTime=vd(a,l.snapshotVersion.toTimestamp());const d=my(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=kP(this.serializer,t);i&&(e.labels=i),this.L_(e)}J_(t){const e={};e.database=yy(this.serializer),e.removeTarget=t,this.L_(e)}}class SI extends Rw{constructor(t,e,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=OP(t.writeResults,t.commitTime),i=ji(t.commitTime);return this.listener.ea(i,e)}ta(){const t={};t.database=yy(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>DP(this.serializer,i))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class wI extends AI{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.na=!1}ra(){if(this.na)throw new _t(lt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(t,py(e,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _t(lt.UNKNOWN,a.toString())})}Yo(t,e,i,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(t,py(e,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _t(lt.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class RI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Vs(e),this.oa=!1):dt("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class CI{constructor(t,e,i,s,a){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(l=>{i.enqueueAndForget(async()=>{Ya(this)&&(dt(ja,"Restarting streams for network reachability change."),await async function(h){const d=Mt(h);d.Ta.add(4),await Fc(d),d.da.set("Unknown"),d.Ta.delete(4),await Qd(d)}(this))})}),this.da=new RI(i,s)}}async function Qd(n){if(Ya(n))for(const t of n.Ia)await t(!0)}async function Fc(n){for(const t of n.Ia)await t(!1)}function Cw(n,t){const e=Mt(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),V0(e)?O0(e):bl(e).M_()&&D0(e,t))}function M0(n,t){const e=Mt(n),i=bl(e);e.Pa.delete(t),i.M_()&&Mw(e,t),e.Pa.size===0&&(i.M_()?i.N_():Ya(e)&&e.da.set("Unknown"))}function D0(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bl(n).H_(t)}function Mw(n,t){n.Aa.Ke(t),bl(n).J_(t)}function O0(n){n.Aa=new xP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),bl(n).start(),n.da._a()}function V0(n){return Ya(n)&&!bl(n).F_()&&n.Pa.size>0}function Ya(n){return Mt(n).Ta.size===0}function Dw(n){n.Aa=void 0}async function MI(n){n.da.set("Online")}async function DI(n){n.Pa.forEach((t,e)=>{D0(n,t)})}async function OI(n,t){Dw(n),V0(n)?(n.da.ca(t),O0(n)):n.da.set("Unknown")}async function VI(n,t,e){if(n.da.set("Online"),t instanceof mw&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Pa.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Pa.delete(c),s.Aa.removeTarget(c))}(n,t)}catch(i){dt(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Td(n,i)}else if(t instanceof Qf?n.Aa.Xe(t):t instanceof dw?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(Ct.min()))try{const i=await Aw(n.localStore);e.compareTo(i)>=0&&await function(a,l){const c=a.Aa.It(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Pa.get(d);p&&a.Pa.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=a.Pa.get(h);if(!p)return;a.Pa.set(h,p.withResumeToken(on.EMPTY_BYTE_STRING,p.snapshotVersion)),Mw(a,h);const y=new pr(p.target,h,d,p.sequenceNumber);D0(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(n,e)}catch(i){dt(ja,"Failed to raise snapshot:",i),await Td(n,i)}}async function Td(n,t,e){if(!vl(t))throw t;n.Ta.add(1),await Fc(n),n.da.set("Offline"),e||(e=()=>Aw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(ja,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await Qd(n)})}function Ow(n,t){return t().catch(e=>Td(n,e,t))}async function Wd(n){const t=Mt(n),e=Or(t);let i=t.ha.length>0?t.ha[t.ha.length-1].batchId:p0;for(;PI(t);)try{const s=await mI(t.localStore,i);if(s===null){t.ha.length===0&&e.N_();break}i=s.batchId,II(t,s)}catch(s){await Td(t,s)}Vw(t)&&Pw(t)}function PI(n){return Ya(n)&&n.ha.length<10}function II(n,t){n.ha.push(t);const e=Or(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function Vw(n){return Ya(n)&&!Or(n).F_()&&n.ha.length>0}function Pw(n){Or(n).start()}async function kI(n){Or(n).ta()}async function NI(n){const t=Or(n);for(const e of n.ha)t.Z_(e.mutations)}async function LI(n,t,e){const i=n.ha.shift(),s=x0.from(i,t,e);await Ow(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Wd(n)}async function BI(n,t){t&&Or(n).Y_&&await async function(i,s){if(function(l){return bP(l)&&l!==lt.ABORTED}(s.code)){const a=i.ha.shift();Or(i).O_(),await Ow(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Wd(i)}}(n,t),Vw(n)&&Pw(n)}async function sx(n,t){const e=Mt(n);e.asyncQueue.verifyOperationInProgress(),dt(ja,"RemoteStore received new credentials");const i=Ya(e);e.Ta.add(3),await Fc(e),i&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await Qd(e)}async function zI(n,t){const e=Mt(n);t?(e.Ta.delete(2),await Qd(e)):t||(e.Ta.add(2),await Fc(e),e.da.set("Unknown"))}function bl(n){return n.Ra||(n.Ra=function(e,i,s){const a=Mt(e);return a.ra(),new EI(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:MI.bind(null,n),n_:DI.bind(null,n),i_:OI.bind(null,n),j_:VI.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),V0(n)?O0(n):n.da.set("Unknown")):(await n.Ra.stop(),Dw(n))})),n.Ra}function Or(n){return n.Va||(n.Va=function(e,i,s){const a=Mt(e);return a.ra(),new SI(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:kI.bind(null,n),i_:BI.bind(null,n),X_:NI.bind(null,n),ea:LI.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await Wd(n)):(await n.Va.stop(),n.ha.length>0&&(dt(ja,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,e,i,s,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,a){const l=Date.now()+i,c=new P0(t,e,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(n,t){if(Vs("AsyncQueue",`${t}: ${n}`),vl(n))return new _t(lt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(t){return new tl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=ju(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof tl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new tl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.ma=new _e(Tt.comparator)}track(t){const e=t.doc.key,i=this.ma.get(e);i?t.type!==0&&i.type===3?this.ma=this.ma.insert(e,t):t.type===3&&i.type!==1?this.ma=this.ma.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ma=this.ma.remove(e):t.type===1&&i.type===2?this.ma=this.ma.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):At(63341,{Vt:t,fa:i}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,i)=>{t.push(i)}),t}}class ll{constructor(t,e,i,s,a,l,c,h,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,a){const l=[];return e.forEach(c=>{l.push({type:0,doc:c})}),new ll(t,e,tl.emptySet(e),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class FI{constructor(){this.queries=ax(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,i){const s=Mt(e),a=s.queries;s.queries=ax(),a.forEach((l,c)=>{for(const h of c.ya)h.onError(i)})})(this,new _t(lt.ABORTED,"Firestore shutting down"))}}function ax(){return new Ga(n=>JA(n),Hd)}async function Iw(n,t){const e=Mt(n);let i=3;const s=t.query;let a=e.queries.get(s);a?!a.wa()&&t.Sa()&&(i=2):(a=new UI,i=t.Sa()?0:1);try{switch(i){case 0:a.pa=await e.onListen(s,!0);break;case 1:a.pa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const c=I0(l,`Initialization of query '${Go(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,a),a.ya.push(t),t.Da(e.onlineState),a.pa&&t.va(a.pa)&&k0(e)}async function kw(n,t){const e=Mt(n),i=t.query;let s=3;const a=e.queries.get(i);if(a){const l=a.ya.indexOf(t);l>=0&&(a.ya.splice(l,1),a.ya.length===0?s=t.Sa()?0:1:!a.wa()&&t.Sa()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function jI(n,t){const e=Mt(n);let i=!1;for(const s of t){const a=s.query,l=e.queries.get(a);if(l){for(const c of l.ya)c.va(s)&&(i=!0);l.pa=s}}i&&k0(e)}function HI(n,t,e){const i=Mt(n),s=i.queries.get(t);if(s)for(const a of s.ya)a.onError(e);i.queries.delete(t)}function k0(n){n.ba.forEach(t=>{t.next()})}var by,ox;(ox=by||(by={})).Ca="default",ox.Cache="cache";class Nw{constructor(t,e,i){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ll(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const i=e!=="Offline";return(!this.options.La||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==by.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.key=t}}class Bw{constructor(t){this.key=t}}class qI{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=zt(),this.mutatedKeys=zt(),this.Ha=tw(t),this.Ja=new tl(this.Ha)}get Ya(){return this.Ga}Za(t,e){const i=e?e.Xa:new rx,s=e?e.Ja:this.Ja;let a=e?e.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const v=s.get(p),T=qd(this.query,y)?y:null,S=!!v&&this.mutatedKeys.has(v.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;v&&T?v.data.isEqual(T.data)?S!==w&&(i.track({type:3,doc:T}),A=!0):this.eu(v,T)||(i.track({type:2,doc:T}),A=!0,(h&&this.Ha(T,h)>0||d&&this.Ha(T,d)<0)&&(c=!0)):!v&&T?(i.track({type:0,doc:T}),A=!0):v&&!T&&(i.track({type:1,doc:v}),A=!0,(h||d)&&(c=!0)),A&&(T?(l=l.add(T),a=w?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{Ja:l,Xa:i,Cs:c,mutatedKeys:a}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const a=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const l=t.Xa.ga();l.sort((p,y)=>function(T,S){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:A})}};return w(T)-w(S)}(p.type,y.type)||this.Ha(p.doc,y.doc)),this.tu(i),s=s!=null&&s;const c=e&&!s?this.nu():[],h=this.ja.size===0&&this.current&&!s?1:0,d=h!==this.za;return this.za=h,l.length!==0||d?{snapshot:new ll(this.query,t.Ja,a,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new rx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=zt(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const e=[];return t.forEach(i=>{this.ja.has(i)||e.push(new Bw(i))}),this.ja.forEach(i=>{t.has(i)||e.push(new Lw(i))}),e}su(t){this.Ga=t.$s,this.ja=zt();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return ll.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const N0="SyncEngine";class GI{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class YI{constructor(t){this.key=t,this._u=!1}}class KI{constructor(t,e,i,s,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new Ga(c=>JA(c),Hd),this.cu=new Map,this.lu=new Set,this.hu=new _e(Tt.comparator),this.Pu=new Map,this.Tu=new A0,this.Iu={},this.Eu=new Map,this.du=ol.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function XI(n,t,e=!0){const i=qw(n);let s;const a=i.uu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.ou()):s=await zw(i,t,e,!0),s}async function QI(n,t){const e=qw(n);await zw(e,t,!0,!1)}async function zw(n,t,e,i){const s=await pI(n.localStore,Ui(t)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let c;return i&&(c=await WI(n,t,a,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&Cw(n.remoteStore,s),c}async function WI(n,t,e,i,s){n.Ru=(y,v,T)=>async function(w,A,D,P){let B=A.view.Za(D);B.Cs&&(B=await J1(w.localStore,A.query,!1).then(({documents:V})=>A.view.Za(V,B)));const q=P&&P.targetChanges.get(A.targetId),F=P&&P.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(B,w.isPrimaryClient,q,F);return ux(w,A.targetId,$.ru),$.snapshot}(n,y,v,T);const a=await J1(n.localStore,t,!0),l=new qI(t,a.$s),c=l.Za(a.documents),h=Uc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=l.applyChanges(c,n.isPrimaryClient,h);ux(n,e,d.ru);const p=new GI(t,e,l);return n.uu.set(t,p),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),d.snapshot}async function $I(n,t,e){const i=Mt(n),s=i.uu.get(t),a=i.cu.get(s.targetId);if(a.length>1)return i.cu.set(s.targetId,a.filter(l=>!Hd(l,t))),void i.uu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await _y(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&M0(i.remoteStore,s.targetId),Ty(i,s.targetId)}).catch(_l)):(Ty(i,s.targetId),await _y(i.localStore,s.targetId,!0))}async function ZI(n,t){const e=Mt(n),i=e.uu.get(t),s=e.cu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),M0(e.remoteStore,i.targetId))}async function JI(n,t,e){const i=ak(n);try{const s=await function(l,c){const h=Mt(l),d=je.now(),p=c.reduce((T,S)=>T.add(S.key),zt());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Ps(),w=zt();return h.Bs.getEntries(T,p).next(A=>{S=A,S.forEach((D,P)=>{P.isValidDocument()||(w=w.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,S)).next(A=>{y=A;const D=[];for(const P of c){const B=pP(P,y.get(P.key).overlayedDocument);B!=null&&D.push(new Br(P.key,B,YA(B.value.mapValue),Fi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,d,D,c)}).next(A=>{v=A;const D=A.applyToLocalDocumentSet(y,w);return h.documentOverlayCache.saveOverlays(T,A.batchId,D)})}).then(()=>({batchId:v.batchId,changes:nw(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Iu[l.currentUser.toKey()];d||(d=new _e(Pt)),d=d.insert(c,h),l.Iu[l.currentUser.toKey()]=d}(i,s.batchId,e),await jc(i,s.changes),await Wd(i.remoteStore)}catch(s){const a=I0(s,"Failed to persist write");e.reject(a)}}async function Uw(n,t){const e=Mt(n);try{const i=await fI(e.localStore,t);t.targetChanges.forEach((s,a)=>{const l=e.Pu.get(a);l&&(Qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l._u=!0:s.modifiedDocuments.size>0?Qt(l._u,14607):s.removedDocuments.size>0&&(Qt(l._u,42227),l._u=!1))}),await jc(e,i,t)}catch(i){await _l(i)}}function lx(n,t,e){const i=Mt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.uu.forEach((a,l)=>{const c=l.view.Da(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Mt(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const v of y.ya)v.Da(c)&&(d=!0)}),d&&k0(h)}(i.eventManager,t),s.length&&i.au.j_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function tk(n,t,e){const i=Mt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Pu.get(t),a=s&&s.key;if(a){let l=new _e(Tt.comparator);l=l.insert(a,pn.newNoDocument(a,Ct.min()));const c=zt().add(a),h=new Kd(Ct.min(),new Map,new _e(Pt),l,c);await Uw(i,h),i.hu=i.hu.remove(a),i.Pu.delete(t),L0(i)}else await _y(i.localStore,t,!1).then(()=>Ty(i,t,e)).catch(_l)}async function ek(n,t){const e=Mt(n),i=t.batch.batchId;try{const s=await hI(e.localStore,t);jw(e,i,null),Fw(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await jc(e,s)}catch(s){await _l(s)}}async function nk(n,t,e){const i=Mt(n);try{const s=await function(l,c){const h=Mt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(Qt(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(i.localStore,t);jw(i,t,e),Fw(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await jc(i,s)}catch(s){await _l(s)}}function Fw(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function jw(n,t,e){const i=Mt(n);let s=i.Iu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(e?a.reject(e):a.resolve(),s=s.remove(t)),i.Iu[i.currentUser.toKey()]=s}}function Ty(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.cu.get(t))n.uu.delete(i),e&&n.au.Vu(i,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(i=>{n.Tu.containsKey(i)||Hw(n,i)})}function Hw(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(M0(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),L0(n))}function ux(n,t,e){for(const i of e)i instanceof Lw?(n.Tu.addReference(i.key,t),ik(n,i)):i instanceof Bw?(dt(N0,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,t),n.Tu.containsKey(i.key)||Hw(n,i.key)):At(19791,{mu:i})}function ik(n,t){const e=t.key,i=e.path.canonicalString();n.hu.get(e)||n.lu.has(i)||(dt(N0,"New document in limbo: "+e),n.lu.add(i),L0(n))}function L0(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new Tt(fe.fromString(t)),i=n.du.next();n.Pu.set(i,new YI(e)),n.hu=n.hu.insert(e,i),Cw(n.remoteStore,new pr(Ui(b0(e.path)),i,"TargetPurposeLimboResolution",zd.le))}}async function jc(n,t,e){const i=Mt(n),s=[],a=[],l=[];i.uu.isEmpty()||(i.uu.forEach((c,h)=>{l.push(i.Ru(h,t,e).then(d=>{var p;if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=R0.Rs(h.targetId,d);a.push(y)}}))}),await Promise.all(l),i.au.j_(s),await async function(h,d){const p=Mt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>rt.forEach(d,v=>rt.forEach(v.ds,T=>p.persistence.referenceDelegate.addReference(y,v.targetId,T)).next(()=>rt.forEach(v.As,T=>p.persistence.referenceDelegate.removeReference(y,v.targetId,T)))))}catch(y){if(!vl(y))throw y;dt(C0,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const T=p.xs.get(v),S=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(S);p.xs=p.xs.insert(v,w)}}}(i.localStore,a))}async function sk(n,t){const e=Mt(n);if(!e.currentUser.isEqual(t)){dt(N0,"User change. New user:",t.toKey());const i=await Sw(e.localStore,t);e.currentUser=t,function(a,l){a.Eu.forEach(c=>{c.forEach(h=>{h.reject(new _t(lt.CANCELLED,l))})}),a.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await jc(e,i.ks)}}function rk(n,t){const e=Mt(n),i=e.Pu.get(t);if(i&&i._u)return zt().add(i.key);{let s=zt();const a=e.cu.get(t);if(!a)return s;for(const l of a){const c=e.uu.get(l);s=s.unionWith(c.view.Ya)}return s}}function qw(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tk.bind(null,t),t.au.j_=jI.bind(null,t.eventManager),t.au.Vu=HI.bind(null,t.eventManager),t}function ak(n){const t=Mt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,t),t}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xd(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return cI(this.persistence,new oI,t.initialUser,this.serializer)}yu(t){return new Ew(w0.fi,this.serializer)}pu(t){return new yI}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class ok extends xd{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){Qt(this.persistence.referenceDelegate instanceof bd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new YP(i,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new Ew(i=>bd.fi(i,e),this.serializer)}}class xy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sk.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FI}()}createDatastore(t){const e=Xd(t.databaseInfo.databaseId),i=function(a){return new xI(a)}(t.databaseInfo);return function(a,l,c,h){return new wI(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,a,l,c){return new CI(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,e=>lx(this.syncEngine,e,0),function(){return nx.C()?new nx:new _I}())}createSyncEngine(t,e){return function(s,a,l,c,h,d,p){const y=new KI(s,a,l,c,h,d);return p&&(y.Au=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const a=Mt(s);dt(ja,"RemoteStore shutting down."),a.Ta.add(5),await Fc(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}xy.provider={build:()=>new xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class lk{constructor(t,e,i,s,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=NA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{dt(Vr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(dt(Vr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=I0(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Rg(n,t){n.asyncQueue.verifyOperationInProgress(),dt(Vr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Sw(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function cx(n,t){n.asyncQueue.verifyOperationInProgress();const e=await uk(n);dt(Vr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>sx(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>sx(t.remoteStore,s)),n._onlineComponents=t}async function uk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(Vr,"Using user provided OfflineComponentProvider");try{await Rg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===lt.FAILED_PRECONDITION||s.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;il("Error using user provided cache. Falling back to memory cache: "+e),await Rg(n,new xd)}}else dt(Vr,"Using default OfflineComponentProvider"),await Rg(n,new ok(void 0));return n._offlineComponents}async function Yw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(Vr,"Using user provided OnlineComponentProvider"),await cx(n,n._uninitializedComponentsProvider._online)):(dt(Vr,"Using default OnlineComponentProvider"),await cx(n,new xy))),n._onlineComponents}function ck(n){return Yw(n).then(t=>t.syncEngine)}async function Ey(n){const t=await Yw(n),e=t.eventManager;return e.onListen=XI.bind(null,t.syncEngine),e.onUnlisten=$I.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=QI.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=ZI.bind(null,t.syncEngine),e}function hk(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const p=new Gw({next:v=>{p.Cu(),l.enqueueAndForget(()=>kw(a,y)),v.fromCache&&h.source==="server"?d.reject(new _t(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new Nw(c,p,{includeMetadataChanges:!0,La:!0});return Iw(a,y)}(await Ey(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n,t,e){if(!e)throw new _t(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function fk(n,t,e,i){if(t===!0&&i===!0)throw new _t(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function fx(n){if(!Tt.isDocumentKey(n))throw new _t(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dx(n){if(Tt.isDocumentKey(n))throw new _t(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function B0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function Hi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new _t(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=B0(n);throw new _t(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firestore.googleapis.com",mx=!0;class px{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=mx}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:mx;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qP)throw new _t(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _t(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $d{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new px({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new px(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bV;switch(i.type){case"firstParty":return new SV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _t(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=hx.get(e);i&&(dt("ComponentProvider","Removing Datastore"),hx.delete(e),i.terminate())}(this),Promise.resolve()}}function dk(n,t,e,i={}){var s;n=Hi(n,$d);const a=f0(t),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;a&&(YD(`https://${h}`),WD("Firestore",!0)),l.host!==Qw&&l.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:i});if(!cd(d,c)&&(n._setSettings(d),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=mn.MOCK_USER;else{p=KD(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new _t(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(v)}n._authCredentials=new TV(new IA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Hc(this.firestore,t,this._query)}}class Vn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}}class Ar extends Hc{constructor(t,e,i){super(t,e,b0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new Tt(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function mk(n,t,...e){if(n=Ds(n),Xw("collection","path",t),n instanceof $d){const i=fe.fromString(t,...e);return dx(i),new Ar(n,null,i)}{if(!(n instanceof Vn||n instanceof Ar))throw new _t(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return dx(i),new Ar(n.firestore,null,i)}}function Iu(n,t,...e){if(n=Ds(n),arguments.length===1&&(t=NA.newId()),Xw("doc","path",t),n instanceof $d){const i=fe.fromString(t,...e);return fx(i),new Vn(n,null,new Tt(i))}{if(!(n instanceof Vn||n instanceof Ar))throw new _t(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return fx(i),new Vn(n.firestore,n instanceof Ar?n.converter:null,new Tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="AsyncQueue";class yx{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ww(this,"async_queue_retry"),this.ec=()=>{const i=wg();i&&dt(gx,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=t;const e=wg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=wg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new Sr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!vl(t))throw t;dt(gx,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(i=>{throw this.Ju=i,this.Yu=!1,Vs("INTERNAL UNHANDLED ERROR: ",_x(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=e,e}enqueueAfterDelay(t,e,i){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const s=P0.createAndSchedule(this,t,e,i,a=>this.oc(a));return this.Hu.push(s),s}nc(){this.Ju&&At(47125,{_c:_x(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function _x(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const s=e;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ul extends $d{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new yx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yx(t),this._firestoreClient=void 0,await t}}}function pk(n,t){const e=aV(),i=dd,s=eV(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=qD("firestore");a&&dk(s,...a)}return s}function z0(n){if(n._terminated)throw new _t(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gk(n),n._firestoreClient}function gk(n){var t,e,i;const s=n._freezeSettings(),a=function(c,h,d,p){return new zV(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Kw(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new lk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cl(on.fromBase64String(t))}catch(e){throw new _t(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new cl(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new _t(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new _t(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _t(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class _k{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,e,this.fieldTransforms):new zc(t,this.data,e,this.fieldTransforms)}}class Ww{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Br(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $w(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{hc:n})}}class H0{constructor(t,e,i,s,a,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new H0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Tc({path:i,Ec:!1});return s.dc(t),s}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Tc({path:i,Ec:!1});return s.Pc(),s}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return Ed(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if($w(this.hc)&&yk.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class vk{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Xd(t)}gc(t,e,i,s=!1){return new H0({hc:t,methodName:e,fc:i,path:an.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zw(n){const t=n._freezeSettings(),e=Xd(n._databaseId);return new vk(n._databaseId,!!t.ignoreUndefinedProperties,e)}function bk(n,t,e,i,s,a={}){const l=n.gc(a.merge||a.mergeFields?2:0,t,e,s);q0("Data must be an object, but it was:",l,i);const c=Jw(i,l);let h,d;if(a.merge)h=new Yn(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const v=Sy(t,y,e);if(!l.contains(v))throw new _t(lt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);eR(p,v)||p.push(v)}h=new Yn(p),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new _k(new Mn(c),h,d)}class Jd extends U0{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jd}}function Tk(n,t,e,i){const s=n.gc(1,t,e);q0("Data must be an object, but it was:",s,i);const a=[],l=Mn.empty();Lr(i,(h,d)=>{const p=G0(t,h,e);d=Ds(d);const y=s.Ac(p);if(d instanceof Jd)a.push(p);else{const v=tm(d,y);v!=null&&(a.push(p),l.set(p,v))}});const c=new Yn(a);return new Ww(l,c,s.fieldTransforms)}function xk(n,t,e,i,s,a){const l=n.gc(1,t,e),c=[Sy(t,i,e)],h=[s];if(a.length%2!=0)throw new _t(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(Sy(t,a[v])),h.push(a[v+1]);const d=[],p=Mn.empty();for(let v=c.length-1;v>=0;--v)if(!eR(d,c[v])){const T=c[v];let S=h[v];S=Ds(S);const w=l.Ac(T);if(S instanceof Jd)d.push(T);else{const A=tm(S,w);A!=null&&(d.push(T),p.set(T,A))}}const y=new Yn(d);return new Ww(p,y,l.fieldTransforms)}function tm(n,t){if(tR(n=Ds(n)))return q0("Unsupported field value:",t,n),Jw(n,t);if(n instanceof U0)return function(i,s){if(!$w(s.hc))throw s.Vc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=tm(c,s.Rc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(i,s){if((i=Ds(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=je.fromDate(i);return{timestampValue:vd(s.serializer,a)}}if(i instanceof je){const a=new je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vd(s.serializer,a)}}if(i instanceof F0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cl)return{bytesValue:pw(s.serializer,i._byteString)};if(i instanceof Vn){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:S0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof j0)return function(l,c){return{mapValue:{fields:{[qA]:{stringValue:GA},[md]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Vc("VectorValues must only contain numeric values.");return T0(c.serializer,d)})}}}}}}(i,s);throw s.Vc(`Unsupported field value: ${B0(i)}`)}(n,t)}function Jw(n,t){const e={};return BA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lr(n,(i,s)=>{const a=tm(s,t.Ic(i));a!=null&&(e[i]=a)}),{mapValue:{fields:e}}}function tR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof je||n instanceof F0||n instanceof cl||n instanceof Vn||n instanceof U0||n instanceof j0)}function q0(n,t,e){if(!tR(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=B0(e);throw i==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+i)}}function Sy(n,t,e){if((t=Ds(t))instanceof Zd)return t._internalPath;if(typeof t=="string")return G0(n,t);throw Ed("Field path arguments must be of type string or ",n,!1,void 0,e)}const Ek=new RegExp("[~\\*/\\[\\]]");function G0(n,t,e){if(t.search(Ek)>=0)throw Ed(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zd(...t.split("."))._internalPath}catch{throw Ed(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ed(n,t,e,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new _t(lt.INVALID_ARGUMENT,c+n+h)}function eR(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,e,i,s,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iR("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Sk extends nR{data(){return super.data()}}function iR(n,t){return typeof t=="string"?G0(n,t):t instanceof Zd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _t(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ak{convertValue(t,e="none"){switch(Dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Lr(t,(s,a)=>{i[s]=this.convertValue(a,e)}),i}convertVectorValue(t){var e,i,s;const a=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[md].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ce(l.doubleValue));return new j0(a)}convertGeoPoint(t){return new F0(Ce(t.latitude),Ce(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Fd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(vc(t));default:return null}}convertTimestamp(t){const e=Cr(t);return new je(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fe.fromString(t);Qt(Tw(i),9688,{name:t});const s=new bc(i.get(1),i.get(3)),a=new Tt(i.popFirst(5));return s.isEqual(e)||Vs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rR extends nR{constructor(t,e,i,s,a,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(iR("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Wf extends rR{data(t={}){return super.data(t)}}class aR{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Wf(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _t(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Wf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Wf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:Rk(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}class Y0 extends Ak{constructor(t){super(),this.firestore=t}convertBytes(t){return new cl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,e)}}function Ck(n){n=Hi(n,Hc);const t=Hi(n.firestore,ul),e=z0(t),i=new Y0(t);return sR(n._query),hk(e,n._query).then(s=>new aR(t,i,n,s))}function Mk(n,t,e){n=Hi(n,Vn);const i=Hi(n.firestore,ul),s=wk(n.converter,t);return oR(i,[bk(Zw(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Fi.none())])}function xs(n,t,e,...i){n=Hi(n,Vn);const s=Hi(n.firestore,ul),a=Zw(s);let l;return l=typeof(t=Ds(t))=="string"||t instanceof Zd?xk(a,"updateDoc",n._key,t,e,i):Tk(a,"updateDoc",n._key,t),oR(s,[l.toMutation(n._key,Fi.exists(!0))])}function bx(n,...t){var e,i,s;n=Ds(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof t[l]!="object"||vx(t[l])||(a=t[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(vx(t[l])){const y=t[l];t[l]=(e=y.next)===null||e===void 0?void 0:e.bind(y),t[l+1]=(i=y.error)===null||i===void 0?void 0:i.bind(y),t[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let h,d,p;if(n instanceof Vn)d=Hi(n.firestore,ul),p=b0(n._key.path),h={next:y=>{t[l]&&t[l](Dk(d,n,y))},error:t[l+1],complete:t[l+2]};else{const y=Hi(n,Hc);d=Hi(y.firestore,ul),p=y._query;const v=new Y0(d);h={next:T=>{t[l]&&t[l](new aR(d,v,y,T))},error:t[l+1],complete:t[l+2]},sR(n._query)}return function(v,T,S,w){const A=new Gw(w),D=new Nw(T,A,S);return v.asyncQueue.enqueueAndForget(async()=>Iw(await Ey(v),D)),()=>{A.Cu(),v.asyncQueue.enqueueAndForget(async()=>kw(await Ey(v),D))}}(z0(d),p,c,h)}function oR(n,t){return function(i,s){const a=new Sr;return i.asyncQueue.enqueueAndForget(async()=>JI(await ck(i),s,a)),a.promise}(z0(n),t)}function Dk(n,t,e){const i=e.docs.get(t._key),s=new Y0(n);return new rR(n,s,t._key,i,new qu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){yl=s})(rV),hd(new pc("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new ul(new xV(i.getProvider("auth-internal")),new AV(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(d.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Jo(E1,S1,t),Jo(E1,S1,"esm2017")})();const Ok={apiKey:"AIzaSyDSukJ3KCY2qJE7l0LDZULj4TEhaq9MHOM",authDomain:"my-awesome-simple-quiz.firebaseapp.com",projectId:"my-awesome-simple-quiz",storageBucket:"my-awesome-simple-quiz.firebasestorage.app",messagingSenderId:"391458123692",appId:"1:391458123692:web:161e7da206da89f3cdd409",measurementId:"G-F391GJ6C64"},Cg=oV();(Cg==null?void 0:Cg.length)===0&&SA(Ok);const Tx=pk();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qc(n){return n+.5|0}const gr=(n,t,e)=>Math.max(Math.min(n,e),t);function Gu(n){return gr(qc(n*2.55),0,255)}function wr(n){return gr(qc(n*255),0,255)}function ws(n){return gr(qc(n/2.55)/100,0,1)}function xx(n){return gr(qc(n*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ay=[..."0123456789ABCDEF"],Vk=n=>Ay[n&15],Pk=n=>Ay[(n&240)>>4]+Ay[n&15],wf=n=>(n&240)>>4===(n&15),Ik=n=>wf(n.r)&&wf(n.g)&&wf(n.b)&&wf(n.a);function kk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ai[n[1]]*17,g:255&ai[n[2]]*17,b:255&ai[n[3]]*17,a:t===5?ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:ai[n[1]]<<4|ai[n[2]],g:ai[n[3]]<<4|ai[n[4]],b:ai[n[5]]<<4|ai[n[6]],a:t===9?ai[n[7]]<<4|ai[n[8]]:255})),e}const Nk=(n,t)=>n<255?t(n):"";function Lk(n){var t=Ik(n)?Vk:Pk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Nk(n.a,t):void 0}const Bk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lR(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function zk(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Uk(n,t,e){const i=lR(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function Fk(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function K0(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),c=(a+l)/2;let h,d,p;return a!==l&&(p=a-l,d=c>.5?p/(2-a-l):p/(a+l),h=Fk(e,i,s,p,a),h=h*60+.5),[h|0,d||0,c]}function X0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(wr)}function Q0(n,t,e){return X0(lR,n,t,e)}function jk(n,t,e){return X0(Uk,n,t,e)}function Hk(n,t,e){return X0(zk,n,t,e)}function uR(n){return(n%360+360)%360}function qk(n){const t=Bk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Gu(+t[5]):wr(+t[5]));const s=uR(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=jk(s,a,l):t[1]==="hsv"?i=Hk(s,a,l):i=Q0(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function Gk(n,t){var e=K0(n);e[0]=uR(e[0]+t),e=Q0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Yk(n){if(!n)return;const t=K0(n),e=t[0],i=xx(t[1]),s=xx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${ws(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Ex={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Kk(){const n={},t=Object.keys(Sx),e=Object.keys(Ex);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<e.length;s++)a=e[s],c=c.replace(a,Ex[a]);a=parseInt(Sx[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let Rf;function Xk(n){Rf||(Rf=Kk(),Rf.transparent=[0,0,0,0]);const t=Rf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Qk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wk(n){const t=Qk.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Gu(l):gr(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Gu(i):gr(i,0,255)),s=255&(t[4]?Gu(s):gr(s,0,255)),a=255&(t[6]?Gu(a):gr(a,0,255)),{r:i,g:s,b:a,a:e}}}function $k(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ws(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Mg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Fo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Zk(n,t,e){const i=Fo(ws(n.r)),s=Fo(ws(n.g)),a=Fo(ws(n.b));return{r:wr(Mg(i+e*(Fo(ws(t.r))-i))),g:wr(Mg(s+e*(Fo(ws(t.g))-s))),b:wr(Mg(a+e*(Fo(ws(t.b))-a))),a:n.a+e*(t.a-n.a)}}function Cf(n,t,e){if(n){let i=K0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Q0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function cR(n,t){return n&&Object.assign(t||{},n)}function Ax(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=wr(n[3]))):(t=cR(n,{r:0,g:0,b:0,a:1}),t.a=wr(t.a)),t}function Jk(n){return n.charAt(0)==="r"?Wk(n):qk(n)}class Sc{constructor(t){if(t instanceof Sc)return t;const e=typeof t;let i;e==="object"?i=Ax(t):e==="string"&&(i=kk(t)||Xk(t)||Jk(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=cR(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=Ax(t)}rgbString(){return this._valid?$k(this._rgb):void 0}hexString(){return this._valid?Lk(this._rgb):void 0}hslString(){return this._valid?Yk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-d,i.r=255&d*i.r+a*s.r+.5,i.g=255&d*i.g+a*s.g+.5,i.b=255&d*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Zk(this._rgb,t._rgb,e)),this}clone(){return new Sc(this.rgb)}alpha(t){return this._rgb.a=wr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=qc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cf(this._rgb,2,t),this}darken(t){return Cf(this._rgb,2,-t),this}saturate(t){return Cf(this._rgb,1,t),this}desaturate(t){return Cf(this._rgb,1,-t),this}rotate(t){return Gk(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Es(){}const tN=(()=>{let n=0;return()=>n++})();function Lt(n){return n==null}function de(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ut(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ee(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function qn(n,t){return Ee(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const eN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,hR=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let s,a,l;if(de(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Ut(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Sd(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Ad(n){if(de(n))return n.map(Ad);if(Ut(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Ad(n[e[s]]);return t}return n}function fR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function nN(n,t,e,i){if(!fR(n))return;const s=t[n],a=e[n];Ut(s)&&Ut(a)?Ac(s,a,i):t[n]=Ad(a)}function Ac(n,t,e){const i=de(t)?t:[t],s=i.length;if(!Ut(n))return n;e=e||{};const a=e.merger||nN;let l;for(let c=0;c<s;++c){if(l=i[c],!Ut(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)a(h[d],n,l,e)}return n}function ic(n,t){return Ac(n,t,{merger:iN})}function iN(n,t,e){if(!fR(n))return;const i=t[n],s=e[n];Ut(i)&&Ut(s)?ic(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ad(s))}const wx={"":n=>n,x:n=>n.x,y:n=>n.y};function sN(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function rN(n){const t=sN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Pr(n,t){return(wx[t]||(wx[t]=rN(t)))(n)}function W0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wc=n=>typeof n<"u",Ir=n=>typeof n=="function",Rx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function aN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ue=Math.PI,le=2*ue,oN=le+ue,wd=Number.POSITIVE_INFINITY,lN=ue/180,Me=ue/2,Sa=ue/4,Cx=ue*2/3,yr=Math.log10,qi=Math.sign;function sc(n,t,e){return Math.abs(n-t)<e}function Mx(n){const t=Math.round(n);n=sc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function uN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function cN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function hl(n){return!cN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function hN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function dR(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function _i(n){return n*(ue/180)}function $0(n){return n*(180/ue)}function Dx(n){if(!Ee(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function mR(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*ue&&(a+=le),{angle:a,distance:s}}function wy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function fN(n,t){return(n-t+oN)%le-ue}function Gn(n){return(n%le+le)%le}function Rc(n,t,e,i){const s=Gn(n),a=Gn(t),l=Gn(e),c=Gn(a-s),h=Gn(l-s),d=Gn(s-a),p=Gn(s-l);return s===a||s===l||i&&a===l||c>h&&d<p}function $e(n,t,e){return Math.max(t,Math.min(e,n))}function dN(n){return $e(n,-32768,32767)}function Rs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Z0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Cs=(n,t,e,i)=>Z0(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),mN=(n,t,e)=>Z0(n,e,i=>n[i][t]>=e);function pN(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const pR=["push","pop","shift","splice","unshift"];function gN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pR.forEach(e=>{const i="_onData"+W0(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function Ox(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(pR.forEach(a=>{delete n[a]}),delete n._chartjs)}function gR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const yR=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function _R(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,yR.call(window,()=>{i=!1,n.apply(t,e)}))}}function yN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const J0=n=>n==="start"?"left":n==="end"?"right":"center",fn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,_N=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function vR(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:h}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:y,max:v,minDefined:T,maxDefined:S}=l.getUserBounds();if(T){if(s=Math.min(Cs(h,p,y).lo,e?i:Cs(t,p,l.getPixelForValue(y)).lo),d){const w=h.slice(0,s+1).reverse().findIndex(A=>!Lt(A[c.axis]));s-=Math.max(0,w)}s=$e(s,0,i-1)}if(S){let w=Math.max(Cs(h,l.axis,v,!0).hi+1,e?0:Cs(t,p,l.getPixelForValue(v),!0).hi+1);if(d){const A=h.slice(w-1).findIndex(D=>!Lt(D[c.axis]));w+=Math.max(0,A)}a=$e(w,s,i)-s}else a=i-s}return{start:s,count:a}}function bR(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const Mf=n=>n===0||n===1,Vx=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*le/e)),Px=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*le/e)+1,rc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Me)+1,easeOutSine:n=>Math.sin(n*Me),easeInOutSine:n=>-.5*(Math.cos(ue*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Mf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Mf(n)?n:Vx(n,.075,.3),easeOutElastic:n=>Mf(n)?n:Px(n,.075,.3),easeInOutElastic(n){return Mf(n)?n:n<.5?.5*Vx(n*2,.1125,.45):.5+.5*Px(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-rc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?rc.easeInBounce(n*2)*.5:rc.easeOutBounce(n*2-1)*.5+.5};function t_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ix(n){return t_(n)?n:new Sc(n)}function Dg(n){return t_(n)?n:new Sc(n).saturate(.5).darken(.1).hexString()}const vN=["x","y","borderWidth","radius","tension"],bN=["color","borderColor","backgroundColor"];function TN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:bN},numbers:{type:"number",properties:vN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function xN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kx=new Map;function EN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=kx.get(e);return i||(i=new Intl.NumberFormat(n,t),kx.set(e,i)),i}function Gc(n,t,e){return EN(t,e).format(n)}const TR={values(n){return de(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),a=SN(n,e)}const l=yr(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Gc(n,i,h)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(yr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?TR.numeric.call(this,n,t,e):""}};function SN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var em={formatters:TR};function AN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:em.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ha=Object.create(null),Ry=Object.create(null);function ac(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Og(n,t,e){return typeof t=="string"?Ac(ac(n,t),e):Ac(ac(n,""),t)}class wN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Dg(s.backgroundColor),this.hoverBorderColor=(i,s)=>Dg(s.borderColor),this.hoverColor=(i,s)=>Dg(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Og(this,t,e)}get(t){return ac(this,t)}describe(t,e){return Og(Ry,t,e)}override(t,e){return Og(Ha,t,e)}route(t,e,i,s){const a=ac(this,t),l=ac(this,i),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],d=l[s];return Ut(h)?Object.assign({},d,h):Dt(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(e=>e(this))}}var me=new wN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TN,xN,AN]);function RN(n){return!n||Lt(n.size)||Lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Rd(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function CN(n,t,e,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},a=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const c=e.length;let h,d,p,y,v;for(h=0;h<c;h++)if(y=e[h],y!=null&&!de(y))l=Rd(n,s,a,l,y);else if(de(y))for(d=0,p=y.length;d<p;d++)v=y[d],v!=null&&!de(v)&&(l=Rd(n,s,a,l,v));n.restore();const T=a.length/2;if(T>e.length){for(h=0;h<T;h++)delete s[a[h]];a.splice(0,T)}return l}function Aa(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Nx(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Cy(n,t,e,i){xR(n,t,e,i,null)}function xR(n,t,e,i,s){let a,l,c,h,d,p,y,v;const T=t.pointStyle,S=t.rotation,w=t.radius;let A=(S||0)*lN;if(T&&typeof T=="object"&&(a=T.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(A),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),T){default:s?n.ellipse(e,i,s/2,w,0,0,le):n.arc(e,i,w,0,le),n.closePath();break;case"triangle":p=s?s/2:w,n.moveTo(e+Math.sin(A)*p,i-Math.cos(A)*w),A+=Cx,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*w),A+=Cx,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*w),n.closePath();break;case"rectRounded":d=w*.516,h=w-d,l=Math.cos(A+Sa)*h,y=Math.cos(A+Sa)*(s?s/2-d:h),c=Math.sin(A+Sa)*h,v=Math.sin(A+Sa)*(s?s/2-d:h),n.arc(e-y,i-c,d,A-ue,A-Me),n.arc(e+v,i-l,d,A-Me,A),n.arc(e+y,i+c,d,A,A+Me),n.arc(e-v,i+l,d,A+Me,A+ue),n.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*w,p=s?s/2:h,n.rect(e-p,i-h,2*p,2*h);break}A+=Sa;case"rectRot":y=Math.cos(A)*(s?s/2:w),l=Math.cos(A)*w,c=Math.sin(A)*w,v=Math.sin(A)*(s?s/2:w),n.moveTo(e-y,i-c),n.lineTo(e+v,i-l),n.lineTo(e+y,i+c),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":A+=Sa;case"cross":y=Math.cos(A)*(s?s/2:w),l=Math.cos(A)*w,c=Math.sin(A)*w,v=Math.sin(A)*(s?s/2:w),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":y=Math.cos(A)*(s?s/2:w),l=Math.cos(A)*w,c=Math.sin(A)*w,v=Math.sin(A)*(s?s/2:w),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),A+=Sa,y=Math.cos(A)*(s?s/2:w),l=Math.cos(A)*w,c=Math.sin(A)*w,v=Math.sin(A)*(s?s/2:w),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=s?s/2:Math.cos(A)*w,c=Math.sin(A)*w,n.moveTo(e-l,i-c),n.lineTo(e+l,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*(s?s/2:w),i+Math.sin(A)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ms(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function nm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function im(n){n.restore()}function MN(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function DN(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function ON(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function VN(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,d=e+a.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function PN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function qa(n,t,e,i,s,a={}){const l=de(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(n.save(),n.font=s.string,ON(n,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&PN(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Lt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(d,e,i,a.maxWidth)),n.fillText(d,e,i,a.maxWidth),VN(n,e,i,d,a),i+=Number(s.lineHeight);n.restore()}function Cc(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ue,ue,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ue,Me,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Me,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Me,!0),n.lineTo(e+l.topLeft,i)}const IN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function NN(n,t){const e=(""+n).match(IN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const LN=n=>+n||0;function e_(n,t){const e={},i=Ut(t),s=i?Object.keys(t):t,a=Ut(n)?i?l=>Dt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=LN(a(l));return e}function ER(n){return e_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function La(n){return e_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function _n(n){const t=ER(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fe(n,t){n=n||{},t=t||me.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(kN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Dt(n.family,t.family),lineHeight:NN(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return s.string=RN(s),s}function Yu(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function BN(n,t,e){const{min:i,max:s}=n,a=hR(t,(s-i)/2),l=(c,h)=>e&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function zr(n,t){return Object.assign(Object.create(n),t)}function n_(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=RR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>n_([c,...n],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return AR(c,h,()=>YN(h,t,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return Bx(c).includes(h)},ownKeys(c){return Bx(c)},set(c,h,d){const p=c._storage||(c._storage=s());return c[h]=p[h]=d,delete c._keys,!0}})}function fl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:SR(n,i),setContext:a=>fl(n,a,e,i),override:a=>fl(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return AR(a,l,()=>UN(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function SR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Ir(e)?e:()=>e,isIndexable:Ir(i)?i:()=>i}}const zN=(n,t)=>n?n+W0(t):t,i_=(n,t)=>Ut(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function AR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function UN(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let c=i[t];return Ir(c)&&l.isScriptable(t)&&(c=FN(t,c,n,e)),de(c)&&c.length&&(c=jN(t,c,n,l.isIndexable)),i_(t,c)&&(c=fl(c,s,a&&a[t],l)),c}function FN(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=t(a,l||i);return c.delete(n),i_(n,h)&&(h=s_(s._scopes,s,n,h)),h}function jN(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Ut(t[0])){const h=t,d=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=s_(d,s,n,p);t.push(fl(y,a,l&&l[n],c))}}return t}function wR(n,t,e){return Ir(n)?n(t,e):n}const HN=(n,t)=>n===!0?t:typeof n=="string"?Pr(t,n):void 0;function qN(n,t,e,i,s){for(const a of t){const l=HN(e,a);if(l){n.add(l);const c=wR(l._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function s_(n,t,e,i){const s=t._rootScopes,a=wR(t._fallback,e,i),l=[...n,...s],c=new Set;c.add(i);let h=Lx(c,l,e,a||e,i);return h===null||typeof a<"u"&&a!==e&&(h=Lx(c,l,a,h,i),h===null)?!1:n_(Array.from(c),[""],s,a,()=>GN(t,e,i))}function Lx(n,t,e,i,s){for(;e;)e=qN(n,t,e,i,s);return e}function GN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return de(s)&&Ut(e)?e:s||{}}function YN(n,t,e,i){let s;for(const a of t)if(s=RR(zN(a,n),e),typeof s<"u")return i_(n,s)?s_(e,i,n,s):s}function RR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Bx(n){let t=n._keys;return t||(t=n._keys=KN(n._scopes)),t}function KN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function CR(n,t,e,i){const{iScale:s}=n,{key:a="r"}=this._parsing,l=new Array(i);let c,h,d,p;for(c=0,h=i;c<h;++c)d=c+e,p=t[d],l[c]={r:s.parse(Pr(p,a),d)};return l}const XN=Number.EPSILON||1e-14,dl=(n,t)=>t<n.length&&!n[t].skip&&n[t],MR=n=>n==="x"?"y":"x";function QN(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,c=wy(a,s),h=wy(l,a);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=i*d,v=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+v*(l.x-s.x),y:a.y+v*(l.y-s.y)}}}function WN(n,t,e){const i=n.length;let s,a,l,c,h,d=dl(n,0);for(let p=0;p<i-1;++p)if(h=d,d=dl(n,p+1),!(!h||!d)){if(sc(t[p],0,XN)){e[p]=e[p+1]=0;continue}s=e[p]/t[p],a=e[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),e[p]=s*l*t[p],e[p+1]=a*l*t[p])}}function $N(n,t,e="x"){const i=MR(e),s=n.length;let a,l,c,h=dl(n,0);for(let d=0;d<s;++d){if(l=c,c=h,h=dl(n,d+1),!c)continue;const p=c[e],y=c[i];l&&(a=(p-l[e])/3,c[`cp1${e}`]=p-a,c[`cp1${i}`]=y-a*t[d]),h&&(a=(h[e]-p)/3,c[`cp2${e}`]=p+a,c[`cp2${i}`]=y+a*t[d])}}function ZN(n,t="x"){const e=MR(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,c,h,d=dl(n,0);for(l=0;l<i;++l)if(c=h,h=d,d=dl(n,l+1),!!h){if(d){const p=d[t]-h[t];s[l]=p!==0?(d[e]-h[e])/p:0}a[l]=c?d?qi(s[l-1])!==qi(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}WN(n,s,a),$N(n,a,t)}function Df(n,t,e){return Math.max(Math.min(n,e),t)}function JN(n,t){let e,i,s,a,l,c=Ms(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=c,c=e<i-1&&Ms(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=Df(s.cp1x,t.left,t.right),s.cp1y=Df(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Df(s.cp2x,t.left,t.right),s.cp2y=Df(s.cp2y,t.top,t.bottom)))}function tL(n,t,e,i,s){let a,l,c,h;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")ZN(n,s);else{let d=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)c=n[a],h=QN(d,c,n[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&JN(n,e)}function r_(){return typeof window<"u"&&typeof document<"u"}function a_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Cd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const sm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function eL(n,t){return sm(n).getPropertyValue(t)}const nL=["top","right","bottom","left"];function Ba(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=nL[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const iL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function sL(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(iL(s,a,n.target))c=s,h=a;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function Da(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=sm(e),a=s.boxSizing==="border-box",l=Ba(s,"padding"),c=Ba(s,"border","width"),{x:h,y:d,box:p}=sL(n,e),y=l.left+(p&&c.left),v=l.top+(p&&c.top);let{width:T,height:S}=t;return a&&(T-=l.width+c.width,S-=l.height+c.height),{x:Math.round((h-y)/T*e.width/i),y:Math.round((d-v)/S*e.height/i)}}function rL(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&a_(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),c=sm(a),h=Ba(c,"border","width"),d=Ba(c,"padding");t=l.width-d.width-h.width,e=l.height-d.height-h.height,i=Cd(c.maxWidth,a,"clientWidth"),s=Cd(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||wd,maxHeight:s||wd}}const Of=n=>Math.round(n*10)/10;function aL(n,t,e,i){const s=sm(n),a=Ba(s,"margin"),l=Cd(s.maxWidth,n,"clientWidth")||wd,c=Cd(s.maxHeight,n,"clientHeight")||wd,h=rL(n,t,e);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const v=Ba(s,"border","width"),T=Ba(s,"padding");d-=T.width+v.width,p-=T.height+v.height}return d=Math.max(0,d-a.width),p=Math.max(0,i?d/i:p-a.height),d=Of(Math.min(d,l,h.maxWidth)),p=Of(Math.min(p,c,h.maxHeight)),d&&!p&&(p=Of(d/2)),(t!==void 0||e!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=Of(Math.floor(p*i))),{width:d,height:p}}function zx(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const oL=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};r_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Ux(n,t){const e=eL(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Oa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function lL(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function uL(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Oa(n,s,e),c=Oa(s,a,e),h=Oa(a,t,e),d=Oa(l,c,e),p=Oa(c,h,e);return Oa(d,p,e)}const cL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},hL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function el(n,t,e){return n?cL(t,e):hL()}function DR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function OR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function VR(n){return n==="angle"?{between:Rc,compare:fN,normalize:Gn}:{between:Rs,compare:(t,e)=>t-e,normalize:t=>t}}function Fx({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function fL(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:c}=VR(i),h=t.length;let{start:d,end:p,loop:y}=n,v,T;if(y){for(d+=h,p+=h,v=0,T=h;v<T&&l(c(t[d%h][i]),s,a);++v)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:n.style}}function PR(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:c,between:h,normalize:d}=VR(i),{start:p,end:y,loop:v,style:T}=fL(n,t,e),S=[];let w=!1,A=null,D,P,B;const q=()=>h(s,B,D)&&c(s,B)!==0,F=()=>c(a,D)===0||h(a,B,D),$=()=>w||q(),V=()=>!w||F();for(let R=p,O=p;R<=y;++R)P=t[R%l],!P.skip&&(D=d(P[i]),D!==B&&(w=h(D,s,a),A===null&&$()&&(A=c(D,s)===0?R:O),A!==null&&V()&&(S.push(Fx({start:A,end:R,loop:v,count:l,style:T})),A=null),O=R,B=D));return A!==null&&S.push(Fx({start:A,end:y,loop:v,count:l,style:T})),S}function IR(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=PR(i[s],n.points,t);a.length&&e.push(...a)}return e}function dL(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function mL(n,t,e,i){const s=n.length,a=[];let l=t,c=n[t],h;for(h=t+1;h<=e;++h){const d=n[h%s];d.skip||d.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function pL(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:c}=dL(e,s,a,i);if(i===!0)return jx(n,[{start:l,end:c,loop:a}],e,t);const h=c<l?c+s:c,d=!!n._fullLoop&&l===0&&c===s-1;return jx(n,mL(e,l,h,d),e,t)}function jx(n,t,e,i){return!i||!i.setContext||!e?t:gL(n,t,e,i)}function gL(n,t,e,i){const s=n._chart.getContext(),a=Hx(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,h=e.length,d=[];let p=a,y=t[0].start,v=y;function T(S,w,A,D){const P=c?-1:1;if(S!==w){for(S+=h;e[S%h].skip;)S-=P;for(;e[w%h].skip;)w+=P;S%h!==w%h&&(d.push({start:S%h,end:w%h,loop:A,style:D}),p=D,y=w%h)}}for(const S of t){y=c?y:S.start;let w=e[y%h],A;for(v=y+1;v<=S.end;v++){const D=e[v%h];A=Hx(i.setContext(zr(s,{type:"segment",p0:w,p1:D,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),yL(A,p)&&T(y,v-1,S.loop,p),w=D,p=A}y<v-1&&T(y,v-1,S.loop,p)}return d}function Hx(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function yL(n,t){if(!t)return!1;const e=[],i=function(s,a){return t_(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Vf(n,t,e){return n.options.clip?n[e]:t[e]}function _L(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Vf(e,t,"left"),right:Vf(e,t,"right"),top:Vf(i,t,"top"),bottom:Vf(i,t,"bottom")}:t}function kR(n,t){const e=t._clip;if(e.disabled)return!1;const i=_L(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=yR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ss=new vL;const qx="transparent",bL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Ix(n||qx),s=i.valid&&Ix(t||qx);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class TL{constructor(t,e,i,s){const a=e[i];s=Yu([t.to,s,a,t.from]);const l=Yu([t.from,a,s]);this._active=!0,this._fn=t.fn||bL[t.type||typeof l],this._easing=rc[t.easing]||rc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Yu([t.to,e,s,t.from]),this._from=Yu([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||e<i),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=a;return}h=e/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class NR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ut(t))return;const e=Object.keys(me.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Ut(a))return;const l={};for(const c of e)l[c]=a[c];(de(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,e){const i=e.options,s=EL(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&xL(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[d];let y=a[d];const v=i.get(d);if(y)if(v&&y.active()){y.update(v,p,c);continue}else y.cancel();if(!v||!v.duration){t[d]=p;continue}a[d]=y=new TL(v,t,d,p),s.push(y)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ss.add(this._chart,i),!0}}function xL(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function EL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Gx(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function SL(n,t,e){if(e===!1)return!1;const i=Gx(n,e),s=Gx(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function AL(n){let t,e,i,s;return Ut(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function LR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function Yx(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,c,h,d;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===e){if(p=!0,i.all)continue;break}d=n.values[h],Ee(d)&&(a||t===0||qi(t)===qi(d))&&(t+=d)}return!p&&!i.all?0:t}function wL(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],c[h]={[s]:p,[a]:n[p]};return c}function Vg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function RL(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function CL(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function ML(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Kx(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function Xx(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,d=l.axis,p=RL(a,l,i),y=t.length;let v;for(let T=0;T<y;++T){const S=t[T],{[h]:w,[d]:A}=S,D=S._stacks||(S._stacks={});v=D[d]=ML(s,p,w),v[c]=A,v._top=Kx(v,l,!0,i.type),v._bottom=Kx(v,l,!1,i.type);const P=v._visualValues||(v._visualValues={});P[c]=A}}function Pg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function DL(n,t){return zr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function OL(n,t,e){return zr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ku(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const Ig=n=>n==="reset"||n==="none",Qx=(n,t)=>t?n:Object.assign({},n),VL=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:LR(e,!0),values:null};class vi{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Vg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ku(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(y,v,T,S)=>y==="x"?v:y==="r"?S:T,a=e.xAxisID=Dt(i.xAxisID,Pg(t,"x")),l=e.yAxisID=Dt(i.yAxisID,Pg(t,"y")),c=e.rAxisID=Dt(i.rAxisID,Pg(t,"r")),h=e.indexAxis,d=e.iAxisID=s(h,a,l,c),p=e.vAxisID=s(h,l,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ox(this._data,this),t._stacked&&ku(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ut(e)){const s=this._cachedMeta;this._data=wL(e,s)}else if(i!==e){if(i){Ox(i,this);const s=this._cachedMeta;ku(s),s._parsed=[]}e&&Object.isExtensible(e)&&gN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Vg(e.vScale,e),e.stack!==i.stack&&(s=!0,ku(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(Xx(this,e._parsed),e._stacked=Vg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,v;if(this._parsing===!1)i._parsed=s,i._sorted=!0,v=s;else{de(s[t])?v=this.parseArrayData(i,s,t,e):Ut(s[t])?v=this.parseObjectData(i,s,t,e):v=this.parsePrimitiveData(i,s,t,e);const T=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<e;++p)i._parsed[p+t]=y=v[p],h&&(T()&&(h=!1),d=y);i._sorted=h}l&&Xx(this,v)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,d=a.getLabels(),p=a===l,y=new Array(s);let v,T,S;for(v=0,T=s;v<T;++v)S=v+i,y[v]={[c]:p||a.parse(d[S],S),[h]:l.parse(e[S],S)};return y}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,d,p,y;for(h=0,d=s;h<d;++h)p=h+i,y=e[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,y,v,T;for(p=0,y=s;p<y;++p)v=p+i,T=e[v],d[p]={x:a.parse(Pr(T,c),v),y:l.parse(Pr(T,h),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],c={keys:LR(s,!0),values:e._stacks[t.axis]._visualValues};return Yx(c,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const c=s&&i._stacks[e.axis];s&&c&&(s.values=c,l=Yx(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=VL(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=CL(c);let v,T;function S(){T=s[v];const w=T[c.axis];return!Ee(T[t.axis])||p>w||y<w}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(d,t,T,h),a));++v);if(a){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(d,t,T,h);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],Ee(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=AL(Dt(this.options.clip,SL(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=OL(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=DL(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,c=a[l],h=this.enableOptionSharing&&wc(i);if(c)return Qx(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),p),T=Object.keys(me.elements[t]),S=()=>this.getContext(i,s,e),w=d.resolveNamedOptions(v,T,S,y);return w.$shared&&(w.$shared=h,a[l]=Object.freeze(Qx(w,h))),w}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),v=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(v,this.getContext(t,i,e))}const d=new NR(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ig(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){Ig(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Ig(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let c;const h=d=>{for(d.length+=e,c=d.length-1;c>=l;c--)d[c]=d[c-e]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&ku(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(vi,"defaults",{}),ct(vi,"datasetElementType",null),ct(vi,"dataElementType",null);function PL(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=e.length;s<a;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=gR(i.sort((s,a)=>s-a))}return n._cache.$bar}function IL(n){const t=n.iScale,e=PL(t,n.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(wc(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=e.length;s<a;++s)l=t.getPixelForValue(e[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function kL(n,t,e,i){const s=e.barThickness;let a,l;return Lt(s)?(a=t.min*e.categoryPercentage,l=e.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[n]-a/2}}function NL(n,t,e,i){const s=t.pixels,a=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const h=e.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const d=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:e.barPercentage,start:d}}function LL(n,t,e,i){const s=e.parse(n[0],i),a=e.parse(n[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,d=c;Math.abs(l)>Math.abs(c)&&(h=c,d=l),t[e.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:a,min:l,max:c}}function BR(n,t,e,i){return de(n)?LL(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Wx(n,t,e,i){const s=n.iScale,a=n.vScale,l=s.getLabels(),c=s===a,h=[];let d,p,y,v;for(d=e,p=e+i;d<p;++d)v=t[d],y={},y[s.axis]=c||s.parse(l[d],d),h.push(BR(v,y,a,d));return h}function kg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function BL(n,t,e){return n!==0?qi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function zL(n){let t,e,i,s,a;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:e,end:i,reverse:t,top:s,bottom:a}}function UL(n,t,e,i){let s=t.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:d,bottom:p}=zL(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=d:(e._bottom||0)===i?s=p:(a[$x(p,l,c,h)]=!0,s=d)),a[$x(s,l,c,h)]=!0,n.borderSkipped=a}function $x(n,t,e,i){return i?(n=FL(n,t,e),n=Zx(n,e,t)):n=Zx(n,t,e),n}function FL(n,t,e){return n===t?e:n===e?t:n}function Zx(n,t,e){return n==="start"?t:n==="end"?e:n}function jL(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class oc extends vi{parsePrimitiveData(t,e,i,s){return Wx(t,e,i,s)}parseArrayData(t,e,i,s){return Wx(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let v,T,S,w;for(v=i,T=i+s;v<T;++v)w=e[v],S={},S[a.axis]=a.parse(Pr(w,d),v),y.push(BR(Pr(w,p),S,l,v));return y}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,a=this.getParsed(t),l=a._custom,c=kg(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,s);for(let T=e;T<e+i;T++){const S=this.getParsed(T),w=a||Lt(S[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),A=this._calculateBarIndexPixels(T,p),D=(S._stacks||{})[c.axis],P={horizontal:d,base:w.base,enableBorderRadius:!D||kg(S._custom)||l===D._top||l===D._bottom,x:d?w.head:A.center,y:d?A.center:w.head,height:d?A.size:Math.abs(w.size),width:d?Math.abs(w.size):A.size};v&&(P.options=y||this.resolveDataElementOptions(T,t[T].active?"active":s));const B=P.options||t[T].options;UL(P,B,D,l),jL(P,B,p.ratio),this.updateElement(t[T],T,P,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(e),h=c&&c[i.axis],d=p=>{const y=p._parsed.find(T=>T[i.axis]===h),v=y&&y[p.vScale.axis];if(Lt(v)||isNaN(v))return!0};for(const p of s)if(!(e!==void 0&&d(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),a=e!==void 0?s.indexOf(e):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let a,l;for(a=0,l=e.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||IL(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),d=h._custom,p=kg(d);let y=h[e.axis],v=0,T=i?this.applyStack(e,h,i):y,S,w;T!==y&&(v=T-y,T=y),p&&(y=d.barStart,T=d.barEnd-d.barStart,y!==0&&qi(y)!==qi(d.barEnd)&&(v=0),v+=y);const A=!Lt(a)&&!p?a:v;let D=e.getPixelForValue(A);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(v+T):S=D,w=S-D,Math.abs(w)<l){w=BL(w,e,c)*l,y===c&&(D-=w/2);const P=e.getPixelForDecimal(0),B=e.getPixelForDecimal(1),q=Math.min(P,B),F=Math.max(P,B);D=Math.max(Math.min(D,F),q),S=D+w,i&&!p&&(h._stacks[e.axis]._visualValues[s]=e.getValueForPixel(S)-e.getValueForPixel(D))}if(D===e.getPixelForValue(c)){const P=qi(w)*e.getLineWidthForValue(c)/2;D+=P,w-=P}return{size:w,base:D,head:S,center:S+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,a=s.skipNull,l=Dt(s.maxBarThickness,1/0);let c,h;if(e.grouped){const d=a?this._getStackCount(t):e.stackCount,p=s.barThickness==="flex"?NL(t,e,s,d):kL(t,e,s,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(l,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,e.min*e.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[e.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}ct(oc,"id","bar"),ct(oc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ct(oc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class $f extends vi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const a=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+i).radius;return a}parseArrayData(t,e,i,s){const a=super.parseArrayData(t,e,i,s);for(let l=0;l<a.length;l++){const c=e[i+l];a[l]._custom=Dt(c[2],this.resolveDataElementOptions(l+i).radius)}return a}parseObjectData(t,e,i,s){const a=super.parseObjectData(t,e,i,s);for(let l=0;l<a.length;l++){const c=e[i+l];a[l]._custom=Dt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,s),p=l.axis,y=c.axis;for(let v=e;v<e+i;v++){const T=t[v],S=!a&&this.getParsed(v),w={},A=w[p]=a?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),D=w[y]=a?c.getBasePixel():c.getPixelForValue(S[y]);w.skip=isNaN(A)||isNaN(D),d&&(w.options=h||this.resolveDataElementOptions(v,T.active?"active":s),a&&(w.options.radius=0)),this.updateElement(T,v,w,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return e!=="active"&&(s.radius=0),s.radius+=Dt(i&&i._custom,a),s}}ct($f,"id","bubble"),ct($f,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ct($f,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function HL(n,t,e){let i=1,s=1,a=0,l=0;if(t<le){const c=n,h=c+t,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),v=Math.sin(h),T=(B,q,F)=>Rc(B,c,h,!0)?1:Math.max(q,q*e,F,F*e),S=(B,q,F)=>Rc(B,c,h,!0)?-1:Math.min(q,q*e,F,F*e),w=T(0,d,y),A=T(Me,p,v),D=S(ue,d,y),P=S(ue+Me,p,v);i=(w-D)/2,s=(A-P)/2,a=-(w+D)/2,l=-(A+P)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class Ia extends vi{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(Ut(i[t])){const{key:h="value"}=this._parsing;a=d=>+Pr(i[d],h)}let l,c;for(l=t,c=t+e;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return _i(this.options.rotation-90)}_getCircumference(){return _i(this.options.circumference)}_getRotationExtents(){let t=le,e=-le;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),e=Math.max(e,a+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(eN(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:T,offsetX:S,offsetY:w}=HL(y,p,h),A=(i.width-l)/v,D=(i.height-l)/T,P=Math.max(Math.min(A,D)/2,0),B=hR(this.options.radius,P),q=Math.max(B*h,0),F=(B-q)/this._getVisibleDatasetWeightTotal();this.offsetX=S*B,this.offsetY=w*B,s.total=this.calculateTotal(),this.outerRadius=B-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/le)}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=a&&d.animateScale,T=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:w,includeOptions:A}=this._getSharedOptions(e,s);let D=this._getRotation(),P;for(P=0;P<e;++P)D+=this._circumference(P,a);for(P=e;P<e+i;++P){const B=this._circumference(P,a),q=t[P],F={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+B,circumference:B,outerRadius:S,innerRadius:T};A&&(F.options=w||this.resolveDataElementOptions(P,q.active?"active":s)),D+=B,this.updateElement(q,P,F,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?le*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Gc(e._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,a,l,c,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ct(Ia,"id","doughnut"),ct(Ia,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ct(Ia,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ct(Ia,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Zf extends vi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:c,count:h}=vR(e,s,l);this._drawStart=c,this._drawCount=h,bR(e)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,h,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,s),v=l.axis,T=c.axis,{spanGaps:S,segment:w}=this.options,A=hl(S)?S:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||a||s==="none",P=e+i,B=t.length;let q=e>0&&this.getParsed(e-1);for(let F=0;F<B;++F){const $=t[F],V=D?$:{};if(F<e||F>=P){V.skip=!0;continue}const R=this.getParsed(F),O=Lt(R[T]),k=V[v]=l.getPixelForValue(R[v],F),z=V[T]=a||O?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,R,h):R[T],F);V.skip=isNaN(k)||isNaN(z)||O,V.stop=F>0&&Math.abs(R[v]-q[v])>A,w&&(V.parsed=R,V.raw=d.data[F]),y&&(V.options=p||this.resolveDataElementOptions(F,$.active?"active":s)),D||this.updateElement($,F,V,s),q=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ct(Zf,"id","line"),ct(Zf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ct(Zf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class lc extends vi{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Gc(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,e,i,s){return CR.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-l)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,i,s){const a=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,v=d.getIndexAngle(0)-.5*ue;let T=v,S;const w=360/this.countVisibleElements();for(S=0;S<e;++S)T+=this._computeAngle(S,s,w);for(S=e;S<e+i;S++){const A=t[S];let D=T,P=T+this._computeAngle(S,s,w),B=l.getDataVisibility(S)?d.getDistanceFromCenterForValue(this.getParsed(S).r):0;T=P,a&&(h.animateScale&&(B=0),h.animateRotate&&(D=P=v));const q={x:p,y,innerRadius:0,outerRadius:B,startAngle:D,endAngle:P,options:this.resolveDataElementOptions(S,A.active?"active":s)};this.updateElement(A,S,q,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?_i(this.resolveDataElementOptions(t,e).angle||i):0}}ct(lc,"id","polarArea"),ct(lc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ct(lc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class My extends Ia{}ct(My,"id","pie"),ct(My,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jf extends vi{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return CR.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],a=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const a=this._cachedMeta.rScale,l=s==="reset";for(let c=e;c<e+i;c++){const h=t[c],d=this.resolveDataElementOptions(c,h.active?"active":s),p=a.getPointPositionForValue(c,this.getParsed(c).r),y=l?a.xCenter:p.x,v=l?a.yCenter:p.y,T={x:y,y:v,angle:p.angle,skip:isNaN(y)||isNaN(v),options:d};this.updateElement(h,c,T,s)}}}ct(Jf,"id","radar"),ct(Jf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ct(Jf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class td extends vi{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:a,count:l}=vR(e,i,s);if(this._drawStart=a,this._drawCount=l,bR(e)&&(a=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(e,s),y=this.getSharedOptions(p),v=this.includeOptions(s,y),T=l.axis,S=c.axis,{spanGaps:w,segment:A}=this.options,D=hl(w)?w:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||a||s==="none";let B=e>0&&this.getParsed(e-1);for(let q=e;q<e+i;++q){const F=t[q],$=this.getParsed(q),V=P?F:{},R=Lt($[S]),O=V[T]=l.getPixelForValue($[T],q),k=V[S]=a||R?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,$,h):$[S],q);V.skip=isNaN(O)||isNaN(k)||R,V.stop=q>0&&Math.abs($[T]-B[T])>D,A&&(V.parsed=$,V.raw=d.data[q]),v&&(V.options=y||this.resolveDataElementOptions(q,F.active?"active":s)),P||this.updateElement(F,q,V,s),B=$}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let h=e.length-1;h>=0;--h)c=Math.max(c,e[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const a=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,a,l)/2}}ct(td,"id","scatter"),ct(td,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ct(td,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var qL=Object.freeze({__proto__:null,BarController:oc,BubbleController:$f,DoughnutController:Ia,LineController:Zf,PieController:My,PolarAreaController:lc,RadarController:Jf,ScatterController:td});function wa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class o_{constructor(t){ct(this,"options");this.options=t||{}}static override(t){Object.assign(o_.prototype,t)}init(){}formats(){return wa()}parse(){return wa()}format(){return wa()}add(){return wa()}diff(){return wa()}startOf(){return wa()}endOf(){return wa()}}var GL={_date:o_};function YL(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,c=s._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const d=c._reversePixels?mN:Cs;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const v=d(a,t,e-y),T=d(a,t,e+y);return{lo:v.lo,hi:T.hi}}}}else{const p=d(a,t,e);if(h){const{vScale:y}=s._cachedMeta,{_parsed:v}=n,T=v.slice(0,p.lo+1).reverse().findIndex(w=>!Lt(w[y.axis]));p.lo-=Math.max(0,T);const S=v.slice(p.hi).findIndex(w=>!Lt(w[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:a.length-1}}function rm(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,h=a.length;c<h;++c){const{index:d,data:p}=a[c],{lo:y,hi:v}=YL(a[c],t,l,s);for(let T=y;T<=v;++T){const S=p[T];S.skip||i(S,d,T)}}}function KL(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Ng(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||rm(n,e,t,function(c,h,d){!s&&!Ms(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:d})},!0),a}function XL(n,t,e,i){let s=[];function a(l,c,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=mR(l,{x:t.x,y:t.y});Rc(y,d,p)&&s.push({element:l,datasetIndex:c,index:h})}return rm(n,e,t,a),s}function QL(n,t,e,i,s,a){let l=[];const c=KL(e);let h=Number.POSITIVE_INFINITY;function d(p,y,v){const T=p.inRange(t.x,t.y,s);if(i&&!T)return;const S=p.getCenterPoint(s);if(!(!!a||n.isPointInArea(S))&&!T)return;const A=c(t,S);A<h?(l=[{element:p,datasetIndex:y,index:v}],h=A):A===h&&l.push({element:p,datasetIndex:y,index:v})}return rm(n,e,t,d),l}function Lg(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?XL(n,t,e,s):QL(n,t,e,i,s,a)}function Jx(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return rm(n,e,t,(h,d,p)=>{h[l]&&h[l](t[e],s)&&(a.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var WL={modes:{index(n,t,e,i){const s=Da(t,n),a=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?Ng(n,s,a,i,l):Lg(n,s,a,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(n,t,e,i){const s=Da(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?Ng(n,s,a,i,l):Lg(n,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=n.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(n,t,e,i){const s=Da(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Ng(n,s,a,i,l)},nearest(n,t,e,i){const s=Da(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Lg(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=Da(t,n);return Jx(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Da(t,n);return Jx(n,s,"y",e.intersect,i)}}};const zR=["left","top","right","bottom"];function Nu(n,t){return n.filter(e=>e.pos===t)}function tE(n,t){return n.filter(e=>zR.indexOf(e.pos)===-1&&e.box.axis===t)}function Lu(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function $L(n){const t=[];let e,i,s,a,l,c;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function ZL(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!zR.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function JL(n,t){const e=ZL(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:h}=c.box,d=e[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return e}function t4(n){const t=$L(n),e=Lu(t.filter(d=>d.box.fullSize),!0),i=Lu(Nu(t,"left"),!0),s=Lu(Nu(t,"right")),a=Lu(Nu(t,"top"),!0),l=Lu(Nu(t,"bottom")),c=tE(t,"x"),h=tE(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Nu(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function eE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function UR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function e4(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Ut(s)){e.size&&(n[s]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?a.height:a.width),e.size=y.size/y.count,n[s]+=e.size}a.getPadding&&UR(l,a.getPadding());const c=Math.max(0,t.outerWidth-eE(l,n,"left","right")),h=Math.max(0,t.outerHeight-eE(l,n,"top","bottom")),d=c!==n.w,p=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:d,other:p}:{same:p,other:d}}function n4(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function i4(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Ku(n,t,e,i){const s=[];let a,l,c,h,d,p;for(a=0,l=n.length,d=0;a<l;++a){c=n[a],h=c.box,h.update(c.width||t.w,c.height||t.h,i4(c.horizontal,t));const{same:y,other:v}=e4(t,e,c,i);d|=y&&s.length,p=p||v,h.fullSize||s.push(c)}return d&&Ku(s,t,e,i)||p}function Pf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function nE(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const c of n){const h=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*p,v=d.size||h.height;wc(d.start)&&(l=d.start),h.fullSize?Pf(h,s.left,l,e.outerWidth-s.right-s.left,v):Pf(h,t.left+d.placed,l,y,v),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*p,v=d.size||h.width;wc(d.start)&&(a=d.start),h.fullSize?Pf(h,a,s.top,v,e.outerHeight-s.bottom-s.top):Pf(h,a,t.top+d.placed,v,y),d.start=a,d.placed+=y,a=h.right}}t.x=a,t.y=l}var gn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=_n(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),c=t4(n.boxes),h=c.vertical,d=c.horizontal;Jt(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=h.reduce((w,A)=>A.box.options&&A.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);UR(v,_n(i));const T=Object.assign({maxPadding:v,w:a,h:l,x:s.left,y:s.top},s),S=JL(h.concat(d),y);Ku(c.fullSize,T,y,S),Ku(h,T,y,S),Ku(d,T,y,S)&&Ku(h,T,y,S),n4(T),nE(c.leftAndTop,T,y,S),T.x+=T.w,T.y+=T.h,nE(c.rightAndBottom,T,y,S),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Jt(c.chartArea,w=>{const A=w.box;Object.assign(A,n.chartArea),A.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class FR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class s4 extends FR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ed="$chartjs",r4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iE=n=>n===null||n==="";function a4(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[ed]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",iE(s)){const a=Ux(n,"width");a!==void 0&&(n.width=a)}if(iE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=Ux(n,"height");a!==void 0&&(n.height=a)}return n}const jR=oL?{passive:!0}:!1;function o4(n,t,e){n&&n.addEventListener(t,e,jR)}function l4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,jR)}function u4(n,t){const e=r4[n.type]||n.type,{x:i,y:s}=Da(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Md(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function c4(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Md(c.addedNodes,i),l=l&&!Md(c.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function h4(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Md(c.removedNodes,i),l=l&&!Md(c.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Mc=new Map;let sE=0;function HR(){const n=window.devicePixelRatio;n!==sE&&(sE=n,Mc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function f4(n,t){Mc.size||window.addEventListener("resize",HR),Mc.set(n,t)}function d4(n){Mc.delete(n),Mc.size||window.removeEventListener("resize",HR)}function m4(n,t,e){const i=n.canvas,s=i&&a_(i);if(!s)return;const a=_R((c,h)=>{const d=s.clientWidth;e(c,h),d<s.clientWidth&&e()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||a(d,p)});return l.observe(s),f4(n,a),l}function Bg(n,t,e){e&&e.disconnect(),t==="resize"&&d4(n)}function p4(n,t,e){const i=n.canvas,s=_R(a=>{n.ctx!==null&&e(u4(a,n))},n);return o4(i,t,s),s}class g4 extends FR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(a4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[ed])return!1;const i=e[ed].initial;["height","width"].forEach(a=>{const l=i[a];Lt(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[ed],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:c4,detach:h4,resize:m4}[e]||p4;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Bg,detach:Bg,resize:Bg}[e]||l4)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return aL(t,e,i,s)}isAttached(t){const e=t&&a_(t);return!!(e&&e.isConnected)}}function y4(n){return!r_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?s4:g4}var qf;let Ns=(qf=class{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return hl(this.x)&&hl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}},ct(qf,"defaults",{}),ct(qf,"defaultRoutes"),qf);function _4(n,t){const e=n.options.ticks,i=v4(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?T4(t):[],l=a.length,c=a[0],h=a[l-1],d=[];if(l>s)return x4(t,d,a,l/s),d;const p=b4(a,t,s);if(l>0){let y,v;const T=l>1?Math.round((h-c)/(l-1)):null;for(If(t,d,p,Lt(T)?0:c-T,c),y=0,v=l-1;y<v;y++)If(t,d,p,a[y],a[y+1]);return If(t,d,p,h,Lt(T)?t.length:h+T),d}return If(t,d,p),d}function v4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function b4(n,t,e){const i=E4(n),s=t.length/e;if(!i)return Math.max(s,1);const a=uN(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function T4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function x4(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function If(n,t,e,i,s){const a=Dt(i,0),l=Math.min(Dt(s,n.length),n.length);let c=0,h,d,p;for(e=Math.ceil(e),s&&(h=s-i,e=h/Math.floor(h/e)),p=a;p<0;)c++,p=Math.round(a+c*e);for(d=Math.max(a,0);d<l;d++)d===p&&(t.push(n[d]),c++,p=Math.round(a+c*e))}function E4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const S4=n=>n==="left"?"right":n==="right"?"left":n,rE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,aE=(n,t)=>Math.min(t||n,n);function oE(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function A4(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(h-a,l-h):t===0?d=(n.getPixelForTick(1)-h)/2:d=(h-n.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<a-c||h>l+c)))return h}function w4(n,t){Jt(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Bu(n){return n.drawTicks?n.tickLength:0}function lE(n,t){if(!n.display)return 0;const e=Fe(n.font,t),i=_n(n.padding);return(de(n.text)?n.text.length:1)*e.lineHeight+i.height}function R4(n,t){return zr(n,{scale:t,type:"scale"})}function C4(n,t,e){return zr(n,{tick:e,index:t,type:"tick"})}function M4(n,t,e){let i=J0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=S4(i)),i}function D4(n,t,e,i){const{top:s,left:a,bottom:l,right:c,chart:h}=n,{chartArea:d,scales:p}=h;let y=0,v,T,S;const w=l-s,A=c-a;if(n.isHorizontal()){if(T=fn(i,a,c),Ut(e)){const D=Object.keys(e)[0],P=e[D];S=p[D].getPixelForValue(P)+w-t}else e==="center"?S=(d.bottom+d.top)/2+w-t:S=rE(n,e,t);v=c-a}else{if(Ut(e)){const D=Object.keys(e)[0],P=e[D];T=p[D].getPixelForValue(P)-A+t}else e==="center"?T=(d.left+d.right)/2-A+t:T=rE(n,e,t);S=fn(i,l,s),y=e==="left"?-Me:Me}return{titleX:T,titleY:S,maxWidth:v,rotation:y}}class Ka extends Ns{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=qn(t,Number.POSITIVE_INFINITY),e=qn(e,Number.NEGATIVE_INFINITY),i=qn(i,Number.POSITIVE_INFINITY),s=qn(s,Number.NEGATIVE_INFINITY),{min:qn(t,i),max:qn(e,s),minDefined:Ee(t),maxDefined:Ee(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:qn(e,qn(i,e)),max:qn(i,qn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BN(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?oE(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=_4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=oe(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=aE(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,T=$e(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:T/(i-1),y+6>c&&(c=T/(i-(t.offset?.5:1)),h=this.maxHeight-Bu(t.grid)-e.padding-lE(t.title,this.chart.options.font),d=Math.sqrt(y*y+v*v),l=$0(Math.min(Math.asin($e((p.highest.height+6)/c,-1,1)),Math.asin($e(h/d,-1,1))-Math.asin($e(v/d,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=lE(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=Bu(a)+h):(t.height=this.maxHeight,t.width=Bu(a)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:v}=this._getLabelSizes(),T=i.padding*2,S=_i(this.labelRotation),w=Math.cos(S),A=Math.sin(S);if(c){const D=i.mirror?0:A*y.width+w*v.height;t.height=Math.min(this.maxHeight,t.height+D+T)}else{const D=i.mirror?0:w*y.width+A*v.height;t.width=Math.min(this.maxWidth,t.width+D+T)}this._calculatePadding(d,p,A,w)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;h?d?(v=s*t.width,T=i*e.height):(v=i*t.height,T=s*e.width):a==="start"?T=e.width:a==="end"?v=t.width:a!=="inner"&&(v=t.width/2,T=e.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((T-y+l)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=e.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Lt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=oE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(e/aE(e,i));let d=0,p=0,y,v,T,S,w,A,D,P,B,q,F;for(y=0;y<e;y+=h){if(S=t[y].label,w=this._resolveTickFontOptions(y),s.font=A=w.string,D=a[A]=a[A]||{data:{},gc:[]},P=w.lineHeight,B=q=0,!Lt(S)&&!de(S))B=Rd(s,D.data,D.gc,B,S),q=P;else if(de(S))for(v=0,T=S.length;v<T;++v)F=S[v],!Lt(F)&&!de(F)&&(B=Rd(s,D.data,D.gc,B,F),q+=P);l.push(B),c.push(q),d=Math.max(B,d),p=Math.max(q,p)}w4(a,e);const $=l.indexOf(d),V=c.indexOf(p),R=O=>({width:l[O]||0,height:c[O]||0});return{first:R(0),last:R(e-1),widest:R($),highest:R(V),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return dN(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=C4(this.getContext(),t,i))}return this.$context||(this.$context=R4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=_i(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=Bu(a),T=[],S=c.setContext(this.getContext()),w=S.display?S.width:0,A=w/2,D=function(Q){return Aa(i,Q,w)};let P,B,q,F,$,V,R,O,k,z,U,N;if(l==="top")P=D(this.bottom),V=this.bottom-v,O=P-A,z=D(t.top)+A,N=t.bottom;else if(l==="bottom")P=D(this.top),z=t.top,N=D(t.bottom)-A,V=P+A,O=this.top+v;else if(l==="left")P=D(this.right),$=this.right-v,R=P-A,k=D(t.left)+A,U=t.right;else if(l==="right")P=D(this.left),k=t.left,U=D(t.right)-A,$=P+A,R=this.left+v;else if(e==="x"){if(l==="center")P=D((t.top+t.bottom)/2+.5);else if(Ut(l)){const Q=Object.keys(l)[0],nt=l[Q];P=D(this.chart.scales[Q].getPixelForValue(nt))}z=t.top,N=t.bottom,V=P+A,O=V+v}else if(e==="y"){if(l==="center")P=D((t.left+t.right)/2);else if(Ut(l)){const Q=Object.keys(l)[0],nt=l[Q];P=D(this.chart.scales[Q].getPixelForValue(nt))}$=P-A,R=$-v,k=t.left,U=t.right}const Bt=Dt(s.ticks.maxTicksLimit,y),vt=Math.max(1,Math.ceil(y/Bt));for(B=0;B<y;B+=vt){const Q=this.getContext(B),nt=a.setContext(Q),ht=c.setContext(Q),yt=nt.lineWidth,I=nt.color,J=ht.dash||[],ot=ht.dashOffset,at=nt.tickWidth,ft=nt.tickColor,bt=nt.tickBorderDash||[],pt=nt.tickBorderDashOffset;q=A4(this,B,h),q!==void 0&&(F=Aa(i,q,yt),d?$=R=k=U=F:V=O=z=N=F,T.push({tx1:$,ty1:V,tx2:R,ty2:O,x1:k,y1:z,x2:U,y2:N,width:yt,color:I,borderDash:J,borderDashOffset:ot,tickWidth:at,tickColor:ft,tickBorderDash:bt,tickBorderDashOffset:pt}))}return this._ticksLength=y,this._borderValue=P,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=a,v=Bu(i.grid),T=v+p,S=y?-p:T,w=-_i(this.labelRotation),A=[];let D,P,B,q,F,$,V,R,O,k,z,U,N="middle";if(s==="top")$=this.bottom-S,V=this._getXAxisLabelAlignment();else if(s==="bottom")$=this.top+S,V=this._getXAxisLabelAlignment();else if(s==="left"){const vt=this._getYAxisLabelAlignment(v);V=vt.textAlign,F=vt.x}else if(s==="right"){const vt=this._getYAxisLabelAlignment(v);V=vt.textAlign,F=vt.x}else if(e==="x"){if(s==="center")$=(t.top+t.bottom)/2+T;else if(Ut(s)){const vt=Object.keys(s)[0],Q=s[vt];$=this.chart.scales[vt].getPixelForValue(Q)+T}V=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")F=(t.left+t.right)/2-T;else if(Ut(s)){const vt=Object.keys(s)[0],Q=s[vt];F=this.chart.scales[vt].getPixelForValue(Q)}V=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const Bt=this._getLabelSizes();for(D=0,P=c.length;D<P;++D){B=c[D],q=B.label;const vt=a.setContext(this.getContext(D));R=this.getPixelForTick(D)+a.labelOffset,O=this._resolveTickFontOptions(D),k=O.lineHeight,z=de(q)?q.length:1;const Q=z/2,nt=vt.color,ht=vt.textStrokeColor,yt=vt.textStrokeWidth;let I=V;l?(F=R,V==="inner"&&(D===P-1?I=this.options.reverse?"left":"right":D===0?I=this.options.reverse?"right":"left":I="center"),s==="top"?d==="near"||w!==0?U=-z*k+k/2:d==="center"?U=-Bt.highest.height/2-Q*k+k:U=-Bt.highest.height+k/2:d==="near"||w!==0?U=k/2:d==="center"?U=Bt.highest.height/2-Q*k:U=Bt.highest.height-z*k,y&&(U*=-1),w!==0&&!vt.showLabelBackdrop&&(F+=k/2*Math.sin(w))):($=R,U=(1-z)*k/2);let J;if(vt.showLabelBackdrop){const ot=_n(vt.backdropPadding),at=Bt.heights[D],ft=Bt.widths[D];let bt=U-ot.top,pt=0-ot.left;switch(N){case"middle":bt-=at/2;break;case"bottom":bt-=at;break}switch(V){case"center":pt-=ft/2;break;case"right":pt-=ft;break;case"inner":D===P-1?pt-=ft:D>0&&(pt-=ft/2);break}J={left:pt,top:bt,width:ft+ot.width,height:at+ot.height,color:vt.backdropColor}}A.push({label:q,font:O,textOffset:U,options:{rotation:w,color:nt,strokeColor:ht,strokeWidth:yt,textAlign:I,textBaseline:N,translation:[F,$],backdrop:J}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-_i(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let d,p;return e==="left"?s?(p=this.right+a,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):e==="right"?s?(p=this.left+a,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const h=s[a];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,v;this.isHorizontal()?(d=Aa(t,this.left,l)-l/2,p=Aa(t,this.right,c)+c/2,y=v=h):(y=Aa(t,this.top,l)-l/2,v=Aa(t,this.bottom,c)+c/2,d=p=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(d,y),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&nm(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,d=l.label,p=l.textOffset;qa(i,d,0,p,h,c)}s&&im(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Fe(i.font),l=_n(i.padding),c=i.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||Ut(e)?(h+=l.bottom,de(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:v}=D4(this,h,e,c);qa(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:v,textAlign:M4(c,e,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),s=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ka.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const c=e[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Fe(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;P4(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,O4(t,l,i),this.override&&me.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in me[s]&&(delete me[s][i],this.override&&delete Ha[i])}}function O4(n,t,e){const i=Ac(Object.create(null),[e?me.get(e):{},me.get(t),n.defaults]);me.set(t,i),n.defaultRoutes&&V4(t,n.defaultRoutes),n.descriptors&&me.describe(t,n.descriptors)}function V4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),c=l.pop(),h=l.join(".");me.route(a,s,h,c)})}function P4(n){return"id"in n&&"defaults"in n}class I4{constructor(){this.controllers=new kf(vi,"datasets",!0),this.elements=new kf(Ns,"elements"),this.plugins=new kf(Object,"plugins"),this.scales=new kf(Ka,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Jt(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,i){const s=W0(t);oe(i["before"+s],[],i),e[t](i),oe(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Bi=new I4;class k4{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[e,s,a.options];if(oe(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Dt(i.options&&i.options.plugins,{}),a=N4(i);return s===!1&&!e?[]:B4(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function N4(n){const t={},e=[],i=Object.keys(Bi.plugins.items);for(let a=0;a<i.length;a++)e.push(Bi.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function L4(n,t){return!t&&n===!1?null:n===!0?{}:n}function B4(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const c of t){const h=c.id,d=L4(i[h],s);d!==null&&a.push({plugin:c,options:z4(n.config,{plugin:c,local:e[h]},d,l)})}return a}function z4(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dy(n,t){const e=me.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function U4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function F4(n,t){return n===t?"_index_":"_value_"}function uE(n){if(n==="x"||n==="y"||n==="r")return n}function j4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Oy(n,...t){if(uE(n))return n;for(const e of t){const i=e.axis||j4(e.position)||n.length>1&&uE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function cE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function H4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return cE(n,"x",e[0])||cE(n,"y",e[0])}return{}}function q4(n,t){const e=Ha[n.type]||{scales:{}},i=t.scales||{},s=Dy(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Ut(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Oy(l,c,H4(l,n),me.scales[c.type]),d=F4(h,s),p=e.scales||{};a[l]=ic(Object.create(null),[{axis:h},c,p[h],p[d]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||Dy(c,t),p=(Ha[c]||{}).scales||{};Object.keys(p).forEach(y=>{const v=U4(y,h),T=l[v+"AxisID"]||v;a[T]=a[T]||Object.create(null),ic(a[T],[{axis:v},i[T],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];ic(c,[me.scales[c.type],me.scale])}),a}function qR(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=q4(n,t)}function GR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function G4(n){return n=n||{},n.data=GR(n.data),qR(n),n}const hE=new Map,YR=new Set;function Nf(n,t){let e=hE.get(n);return e||(e=t(),hE.set(n,e),YR.add(e)),e}const zu=(n,t,e)=>{const i=Pr(t,e);i!==void 0&&n.add(i)};class Y4{constructor(t){this._config=G4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=GR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),qR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Nf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Nf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Nf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(e);if(c)return c;const h=new Set;e.forEach(p=>{t&&(h.add(t),p.forEach(y=>zu(h,t,y))),p.forEach(y=>zu(h,s,y)),p.forEach(y=>zu(h,Ha[a]||{},y)),p.forEach(y=>zu(h,me,y)),p.forEach(y=>zu(h,Ry,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),YR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ha[e]||{},me.datasets[e]||{},{type:e},me,Ry]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=fE(this._resolverCache,t,s);let h=l;if(X4(l,e)){a.$shared=!1,i=Ir(i)?i():i;const d=this.createResolver(t,i,c);h=fl(l,i,d)}for(const d of e)a[d]=h[d];return a}createResolver(t,e,i=[""],s){const{resolver:a}=fE(this._resolverCache,t,i);return Ut(e)?fl(a,e,void 0,s):a}}function fE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:n_(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const K4=n=>Ut(n)&&Object.getOwnPropertyNames(n).some(t=>Ir(n[t]));function X4(n,t){const{isScriptable:e,isIndexable:i}=SR(n);for(const s of t){const a=e(s),l=i(s),c=(l||a)&&n[s];if(a&&(Ir(c)||K4(c))||l&&de(c))return!0}return!1}var Q4="4.4.9";const W4=["top","bottom","left","right","chartArea"];function dE(n,t){return n==="top"||n==="bottom"||W4.indexOf(n)===-1&&t==="x"}function mE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function pE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function $4(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function KR(n){return r_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const nd={},gE=n=>{const t=KR(n);return Object.values(nd).filter(e=>e.canvas===t).pop()};function Z4(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function J4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var fr;let am=(fr=class{static register(...t){Bi.add(...t),yE()}static unregister(...t){Bi.remove(...t),yE()}constructor(t,e){const i=this.config=new Y4(e),s=KR(t),a=gE(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||y4(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=tN(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new k4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yN(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],nd[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ss.listen(this,"complete",pE),Ss.listen(this,"progress",$4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return Lt(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nx(this.canvas,this.ctx),this}stop(){return Ss.stop(this),this}resize(t,e){Ss.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,zx(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),oe(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const c=e[l],h=Oy(l,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Jt(a,l=>{const c=l.options,h=c.id,d=Oy(h,c),p=Dt(c.type,l.dtype);(c.position===void 0||dE(c.position,d)!==dE(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const v=Bi.getScale(p);y=new v({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),Jt(s,(l,c)=>{l||delete i[c]}),Jt(i,l=>{gn.configure(this,l,l.options),gn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(mE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||Dy(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Bi.getController(c),{datasetElementType:d,dataElementType:p}=me.datasets[c];Object.assign(h,{dataElementType:Bi.getElement(p),datasetElementType:d&&Bi.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),v=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Jt(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mE("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Jt(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Rx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;Z4(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!Rx(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ir(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ss.has(this)?this.attached&&!Ss.running(this)&&Ss.start(this):(this.draw(),pE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=kR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&nm(e,s),t.controller.draw(),s&&im(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ms(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=WL.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=zr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);wc(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ss.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Nx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete nd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Jt(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,d)=>{e.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(e.removeEventListener(this,h,d),delete t[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,c,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!Sd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(e,t),c=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,c=this._getActiveElements(t,s,i,l),h=aN(t),d=J4(t,this._lastEvent,i,h);i&&(this._lastEvent=null,oe(a.onHover,[t,c,this],this),h&&oe(a.onClick,[t,c,this],this));const p=!Sd(c,s);return(p||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=d,p}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}},ct(fr,"defaults",me),ct(fr,"instances",nd),ct(fr,"overrides",Ha),ct(fr,"registry",Bi),ct(fr,"version",Q4),ct(fr,"getChart",gE),fr);function yE(){return Jt(am.instances,n=>n._plugins.invalidate())}function t3(n,t,e){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;n.beginPath(),n.arc(a,l,c,i-d,e+d),h>s?(d=s/h,n.arc(a,l,h,e+d,i-d,!0)):n.arc(a,l,s,e+Me,i-Me),n.closePath(),n.clip()}function e3(n){return e_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function n3(n,t,e,i){const s=e3(n.options.borderRadius),a=(e-t)/2,l=Math.min(a,i*t/2),c=h=>{const d=(e-Math.min(a,h))*i/2;return $e(h,0,Math.min(a,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:$e(s.innerStart,0,l),innerEnd:$e(s.innerEnd,0,l)}}function jo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Dd(n,t,e,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+e-d,0),v=p>0?p+i+e+d:0;let T=0;const S=s-h;if(i){const vt=p>0?p-i:0,Q=y>0?y-i:0,nt=(vt+Q)/2,ht=nt!==0?S*nt/(nt+i):S;T=(S-ht)/2}const w=Math.max(.001,S*y-e/ue)/y,A=(S-w)/2,D=h+A+T,P=s-A-T,{outerStart:B,outerEnd:q,innerStart:F,innerEnd:$}=n3(t,v,y,P-D),V=y-B,R=y-q,O=D+B/V,k=P-q/R,z=v+F,U=v+$,N=D+F/z,Bt=P-$/U;if(n.beginPath(),a){const vt=(O+k)/2;if(n.arc(l,c,y,O,vt),n.arc(l,c,y,vt,k),q>0){const yt=jo(R,k,l,c);n.arc(yt.x,yt.y,q,k,P+Me)}const Q=jo(U,P,l,c);if(n.lineTo(Q.x,Q.y),$>0){const yt=jo(U,Bt,l,c);n.arc(yt.x,yt.y,$,P+Me,Bt+Math.PI)}const nt=(P-$/v+(D+F/v))/2;if(n.arc(l,c,v,P-$/v,nt,!0),n.arc(l,c,v,nt,D+F/v,!0),F>0){const yt=jo(z,N,l,c);n.arc(yt.x,yt.y,F,N+Math.PI,D-Me)}const ht=jo(V,D,l,c);if(n.lineTo(ht.x,ht.y),B>0){const yt=jo(V,O,l,c);n.arc(yt.x,yt.y,B,D-Me,O)}}else{n.moveTo(l,c);const vt=Math.cos(O)*y+l,Q=Math.sin(O)*y+c;n.lineTo(vt,Q);const nt=Math.cos(k)*y+l,ht=Math.sin(k)*y+c;n.lineTo(nt,ht)}n.closePath()}function i3(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:c}=t;let h=t.endAngle;if(a){Dd(n,t,e,i,h,s);for(let d=0;d<a;++d)n.fill();isNaN(c)||(h=l+(c%le||le))}return Dd(n,t,e,i,h,s),n.fill(),h}function s3(n,t,e,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:v}=h,T=h.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=v,T?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let S=t.endAngle;if(a){Dd(n,t,e,i,S,s);for(let w=0;w<a;++w)n.stroke();isNaN(c)||(S=l+(c%le||le))}T&&t3(n,t,S),a||(Dd(n,t,e,i,S,s),n.stroke())}class Xu extends Ns{constructor(e){super();ct(this,"circumference");ct(this,"endAngle");ct(this,"fullCircles");ct(this,"innerRadius");ct(this,"outerRadius");ct(this,"pixelMargin");ct(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:c}=mR(a,{x:e,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),T=(this.options.spacing+this.options.borderWidth)/2,S=Dt(v,d-h),w=Rc(l,h,d)&&h!==d,A=S>=le||w,D=Rs(c,p+T,y+T);return A&&D}getCenterPoint(e){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:p}=this.options,y=(a+l)/2,v=(c+h+p+d)/2;return{x:i+Math.cos(y)*v,y:s+Math.sin(y)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>le?Math.floor(s/le):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*a,Math.sin(h)*a);const d=1-Math.sin(Math.min(ue,s||0)),p=a*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,i3(e,this,p,l,c),s3(e,this,p,l,c),e.restore()}}ct(Xu,"id","arc"),ct(Xu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ct(Xu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ct(Xu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function XR(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function r3(n,t,e){n.lineTo(e.x,e.y)}function a3(n){return n.stepped?MN:n.tension||n.cubicInterpolationMode==="monotone"?DN:r3}function QR(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:c}=t,h=Math.max(s,l),d=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:d<h&&!p?i+d-h:d-h}}function o3(n,t,e,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:d}=QR(s,e,i),p=a3(a);let{move:y=!0,reverse:v}=i||{},T,S,w;for(T=0;T<=d;++T)S=s[(c+(v?d-T:T))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):p(n,w,S,v,a.stepped),w=S);return h&&(S=s[(c+(v?d:0))%l],p(n,w,S,v,a.stepped)),!!h}function l3(n,t,e,i){const s=t.points,{count:a,start:l,ilen:c}=QR(s,e,i),{move:h=!0,reverse:d}=i||{};let p=0,y=0,v,T,S,w,A,D;const P=q=>(l+(d?c-q:q))%a,B=()=>{w!==A&&(n.lineTo(p,A),n.lineTo(p,w),n.lineTo(p,D))};for(h&&(T=s[P(0)],n.moveTo(T.x,T.y)),v=0;v<=c;++v){if(T=s[P(v)],T.skip)continue;const q=T.x,F=T.y,$=q|0;$===S?(F<w?w=F:F>A&&(A=F),p=(y*p+q)/++y):(B(),n.lineTo(q,F),S=$,y=0,w=A=F),D=F}B()}function Vy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?l3:o3}function u3(n){return n.stepped?lL:n.tension||n.cubicInterpolationMode==="monotone"?uL:Oa}function c3(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),XR(n,t.options),n.stroke(s)}function h3(n,t,e,i){const{segments:s,options:a}=t,l=Vy(t);for(const c of s)XR(n,a,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const f3=typeof Path2D=="function";function d3(n,t,e,i){f3&&!t.options.segment?c3(n,t,e,i):h3(n,t,e,i)}class _r extends Ns{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;tL(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=IR(this,{property:e,start:s,end:s});if(!l.length)return;const c=[],h=u3(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:y,end:v}=l[d],T=a[y],S=a[v];if(T===S){c.push(T);continue}const w=Math.abs((s-T[e])/(S[e]-T[e])),A=h(T,S,w,i.stepped);A[e]=t[e],c.push(A)}return c.length===1?c[0]:c}pathSegment(t,e,i){return Vy(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=Vy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const c of s)l&=a(t,this,c,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),d3(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ct(_r,"id","line"),ct(_r,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ct(_r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ct(_r,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function _E(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class id extends Ns{constructor(e){super();ct(this,"parsed");ct(this,"skip");ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return _E(this,e,"x",i)}inYRange(e,i){return _E(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Ms(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Cy(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ct(id,"id","point"),ct(id,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ct(id,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function WR(n,t){const{x:e,y:i,base:s,width:a,height:l}=n.getProps(["x","y","base","width","height"],t);let c,h,d,p,y;return n.horizontal?(y=l/2,c=Math.min(e,s),h=Math.max(e,s),d=i-y,p=i+y):(y=a/2,c=e-y,h=e+y,d=Math.min(i,s),p=Math.max(i,s)),{left:c,top:d,right:h,bottom:p}}function vr(n,t,e,i){return n?0:$e(t,e,i)}function m3(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,a=ER(i);return{t:vr(s.top,a.top,0,e),r:vr(s.right,a.right,0,t),b:vr(s.bottom,a.bottom,0,e),l:vr(s.left,a.left,0,t)}}function p3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=La(s),l=Math.min(t,e),c=n.borderSkipped,h=i||Ut(s);return{topLeft:vr(!h||c.top||c.left,a.topLeft,0,l),topRight:vr(!h||c.top||c.right,a.topRight,0,l),bottomLeft:vr(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:vr(!h||c.bottom||c.right,a.bottomRight,0,l)}}function g3(n){const t=WR(n),e=t.right-t.left,i=t.bottom-t.top,s=m3(n,e/2,i/2),a=p3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function zg(n,t,e,i){const s=t===null,a=e===null,c=n&&!(s&&a)&&WR(n,i);return c&&(s||Rs(t,c.left,c.right))&&(a||Rs(e,c.top,c.bottom))}function y3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function _3(n,t){n.rect(t.x,t.y,t.w,t.h)}function Ug(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,a=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+l,radius:n.radius}}class sd extends Ns{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=g3(this),c=y3(l.radius)?Cc:_3;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Ug(l,e,a)),t.clip(),c(t,Ug(a,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Ug(a,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return zg(this,t,e,i)}inXRange(t,e){return zg(this,t,null,e)}inYRange(t,e){return zg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+s)/2:e,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ct(sd,"id","bar"),ct(sd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ct(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var v3=Object.freeze({__proto__:null,ArcElement:Xu,BarElement:sd,LineElement:_r,PointElement:id});const Py=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],vE=Py.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function $R(n){return Py[n%Py.length]}function ZR(n){return vE[n%vE.length]}function b3(n,t){return n.borderColor=$R(t),n.backgroundColor=ZR(t),++t}function T3(n,t){return n.backgroundColor=n.data.map(()=>$R(t++)),t}function x3(n,t){return n.backgroundColor=n.data.map(()=>ZR(t++)),t}function E3(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Ia?t=T3(e,t):s instanceof lc?t=x3(e,t):s&&(t=b3(e,t))}}function bE(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function S3(n){return n&&(n.borderColor||n.backgroundColor)}function A3(){return me.borderColor!=="rgba(0,0,0,0.1)"||me.backgroundColor!=="rgba(0,0,0,0.1)"}var w3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:a}=s,l=bE(i)||S3(s)||a&&bE(a)||A3();if(!e.forceOverride&&l)return;const c=E3(n);i.forEach(c)}};function R3(n,t,e,i,s){const a=s.samples||i;if(a>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(a-2);let h=0;const d=t+e-1;let p=t,y,v,T,S,w;for(l[h++]=n[p],y=0;y<a-2;y++){let A=0,D=0,P;const B=Math.floor((y+1)*c)+1+t,q=Math.min(Math.floor((y+2)*c)+1,e)+t,F=q-B;for(P=B;P<q;P++)A+=n[P].x,D+=n[P].y;A/=F,D/=F;const $=Math.floor(y*c)+1+t,V=Math.min(Math.floor((y+1)*c)+1,e)+t,{x:R,y:O}=n[p];for(T=S=-1,P=$;P<V;P++)S=.5*Math.abs((R-A)*(n[P].y-O)-(R-n[P].x)*(D-O)),S>T&&(T=S,v=n[P],w=P);l[h++]=v,p=w}return l[h++]=n[d],l}function C3(n,t,e,i){let s=0,a=0,l,c,h,d,p,y,v,T,S,w;const A=[],D=t+e-1,P=n[t].x,q=n[D].x-P;for(l=t;l<t+e;++l){c=n[l],h=(c.x-P)/q*i,d=c.y;const F=h|0;if(F===p)d<S?(S=d,y=l):d>w&&(w=d,v=l),s=(a*s+c.x)/++a;else{const $=l-1;if(!Lt(y)&&!Lt(v)){const V=Math.min(y,v),R=Math.max(y,v);V!==T&&V!==$&&A.push({...n[V],x:s}),R!==T&&R!==$&&A.push({...n[R],x:s})}l>0&&$!==T&&A.push(n[$]),A.push(c),p=F,a=0,S=w=d,y=v=T=l}}return A}function JR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function TE(n){n.data.datasets.forEach(t=>{JR(t)})}function M3(n,t){const e=t.length;let i=0,s;const{iScale:a}=n,{min:l,max:c,minDefined:h,maxDefined:d}=a.getUserBounds();return h&&(i=$e(Cs(t,a.axis,l).lo,0,e-1)),d?s=$e(Cs(t,a.axis,c).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var D3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){TE(n);return}const i=n.width;n.data.datasets.forEach((s,a)=>{const{_data:l,indexAxis:c}=s,h=n.getDatasetMeta(a),d=l||s.data;if(Yu([c,n.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=n.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:y,count:v}=M3(h,d);const T=e.threshold||4*i;if(v<=T){JR(s);return}Lt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let S;switch(e.algorithm){case"lttb":S=R3(d,y,v,i,e);break;case"min-max":S=C3(d,y,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=S})},destroy(n){TE(n)}};function O3(n,t,e){const i=n.segments,s=n.points,a=t.points,l=[];for(const c of i){let{start:h,end:d}=c;d=l_(h,d,s);const p=Iy(e,s[h],s[d],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[d]});continue}const y=IR(t,p);for(const v of y){const T=Iy(e,a[v.start],a[v.end],v.loop),S=PR(c,s,T);for(const w of S)l.push({source:w,target:v,start:{[e]:xE(p,T,"start",Math.max)},end:{[e]:xE(p,T,"end",Math.min)}})}}return l}function Iy(n,t,e,i){if(i)return;let s=t[n],a=e[n];return n==="angle"&&(s=Gn(s),a=Gn(a)),{property:n,start:s,end:a}}function V3(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=l_(l,c,s);const h=s[l],d=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:d.x,y:i})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:d.y}))}),a}function l_(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function xE(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function t2(n,t){let e=[],i=!1;return de(n)?(i=!0,e=n):e=V3(n,t),e.length?new _r({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function EE(n){return n&&n.fill!==!1}function P3(n,t,e){let s=n[t].fill;const a=[t];let l;if(!e)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Ee(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function I3(n,t,e){const i=B3(n);if(Ut(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ee(s)&&Math.floor(s)===s?k3(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function k3(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function N3(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ut(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function L3(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ut(n)?i=n.value:i=t.getBaseValue(),i}function B3(n){const t=n.options,e=t.fill;let i=Dt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function z3(n){const{scale:t,index:e,line:i}=n,s=[],a=i.segments,l=i.points,c=U3(t,e);c.push(t2({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const d=a[h];for(let p=d.start;p<=d.end;p++)F3(s,l[p],c)}return new _r({points:s,options:{}})}function U3(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function F3(n,t,e){const i=[];for(let s=0;s<e.length;s++){const a=e[s],{first:l,last:c,point:h}=j3(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(n.push(h),!c)break}}n.push(...i)}function j3(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],a=n.segments,l=n.points;let c=!1,h=!1;for(let d=0;d<a.length;d++){const p=a[d],y=l[p.start][e],v=l[p.end][e];if(Rs(s,y,v)){c=s===y,h=s===v;break}}return{first:c,last:h,point:i}}class e2{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:a,radius:l}=this;return e=e||{start:0,end:le},t.arc(s,a,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,a=t.angle;return{x:e+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function H3(n){const{chart:t,fill:e,line:i}=n;if(Ee(e))return q3(t,e);if(e==="stack")return z3(n);if(e==="shape")return!0;const s=G3(n);return s instanceof e2?s:t2(s,i)}function q3(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function G3(n){return(n.scale||{}).getPointPositionForValue?K3(n):Y3(n)}function Y3(n){const{scale:t={},fill:e}=n,i=N3(e,t);if(Ee(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function K3(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=L3(e,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new e2({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Fg(n,t,e){const i=H3(t),{chart:s,index:a,line:l,scale:c,axis:h}=t,d=l.options,p=d.fill,y=d.backgroundColor,{above:v=y,below:T=y}=p||{},S=s.getDatasetMeta(a),w=kR(s,S);i&&l.points.length&&(nm(n,e),X3(n,{line:l,target:i,above:v,below:T,area:e,scale:c,axis:h,clip:w}),im(n))}function X3(n,t){const{line:e,target:i,above:s,below:a,area:l,scale:c,clip:h}=t,d=e._loop?"angle":t.axis;n.save(),d==="x"&&a!==s&&(SE(n,i,l.top),AE(n,{line:e,target:i,color:s,scale:c,property:d,clip:h}),n.restore(),n.save(),SE(n,i,l.bottom)),AE(n,{line:e,target:i,color:a,scale:c,property:d,clip:h}),n.restore()}function SE(n,t,e){const{segments:i,points:s}=t;let a=!0,l=!1;n.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[l_(h,d,s)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function AE(n,t){const{line:e,target:i,property:s,color:a,scale:l,clip:c}=t,h=O3(e,i,s);for(const{source:d,target:p,start:y,end:v}of h){const{style:{backgroundColor:T=a}={}}=d,S=i!==!0;n.save(),n.fillStyle=T,Q3(n,l,c,S&&Iy(s,y,v)),n.beginPath();const w=!!e.pathSegment(n,d);let A;if(S){w?n.closePath():wE(n,i,v,s);const D=!!i.pathSegment(n,p,{move:w,reverse:!0});A=w&&D,A||wE(n,i,y,s)}n.closePath(),n.fill(A?"evenodd":"nonzero"),n.restore()}}function Q3(n,t,e,i){const s=t.chart.chartArea,{property:a,start:l,end:c}=i||{};if(a==="x"||a==="y"){let h,d,p,y;a==="x"?(h=l,d=s.top,p=c,y=s.bottom):(h=s.left,d=l,p=s.right,y=c),n.beginPath(),e&&(h=Math.max(h,e.left),p=Math.min(p,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(h,d,p-h,y-d),n.clip()}}function wE(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var W3={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof _r&&(h={visible:n.isDatasetVisible(l),index:l,fill:I3(c,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=P3(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Fg(n.ctx,c,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;EE(a)&&Fg(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!EE(i)||e.drawTime!=="beforeDatasetDraw"||Fg(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const RE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},$3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class CE extends Ns{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Fe(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=RE(i,a);let d,p;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let v=-1,T=-p;return this.legendItems.forEach((S,w)=>{const A=i+e/2+a.measureText(S.text).width;(w===0||d[d.length-1]+A+2*c>l)&&(y+=p,d[d.length-(w>0?0:1)]=0,T+=p,v++),h[w]={left:0,top:T,row:v,width:A,height:s},d[d.length-1]+=A+c}),y}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=c,v=0,T=0,S=0,w=0;return this.legendItems.forEach((A,D)=>{const{itemWidth:P,itemHeight:B}=Z3(i,e,a,A,s);D>0&&T+B+2*c>p&&(y+=v+c,d.push({width:v,height:T}),S+=v+c,w++,v=T=0),h[D]={left:S,top:T,col:w,width:P,height:B},v=Math.max(v,P),T+=B+c}),y+=v,d.push({width:v,height:T}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=el(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=fn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of e)c!==d.row&&(c=d.row,h=fn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=fn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of e)d.col!==c&&(c=d.col,h=fn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;nm(t,this),this._draw(),im(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=me.color,h=el(t.rtl,this.left,this.width),d=Fe(l.font),{padding:p}=l,y=d.size,v=y/2;let T;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:S,boxHeight:w,itemHeight:A}=RE(l,y),D=function($,V,R){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;s.save();const O=Dt(R.lineWidth,1);if(s.fillStyle=Dt(R.fillStyle,c),s.lineCap=Dt(R.lineCap,"butt"),s.lineDashOffset=Dt(R.lineDashOffset,0),s.lineJoin=Dt(R.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=Dt(R.strokeStyle,c),s.setLineDash(Dt(R.lineDash,[])),l.usePointStyle){const k={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:O},z=h.xPlus($,S/2),U=V+v;xR(s,k,z,U,l.pointStyleWidth&&S)}else{const k=V+Math.max((y-w)/2,0),z=h.leftForLtr($,S),U=La(R.borderRadius);s.beginPath(),Object.values(U).some(N=>N!==0)?Cc(s,{x:z,y:k,w:S,h:w,radius:U}):s.rect(z,k,S,w),s.fill(),O!==0&&s.stroke()}s.restore()},P=function($,V,R){qa(s,R.text,$,V+A/2,d,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},B=this.isHorizontal(),q=this._computeTitleHeight();B?T={x:fn(a,this.left+p,this.right-i[0]),y:this.top+p+q,line:0}:T={x:this.left+p,y:fn(a,this.top+q+p,this.bottom-e[0].height),line:0},DR(this.ctx,t.textDirection);const F=A+p;this.legendItems.forEach(($,V)=>{s.strokeStyle=$.fontColor,s.fillStyle=$.fontColor;const R=s.measureText($.text).width,O=h.textAlign($.textAlign||($.textAlign=l.textAlign)),k=S+v+R;let z=T.x,U=T.y;h.setWidth(this.width),B?V>0&&z+k+p>this.right&&(U=T.y+=F,T.line++,z=T.x=fn(a,this.left+p,this.right-i[T.line])):V>0&&U+F>this.bottom&&(z=T.x=z+e[T.line].width+p,T.line++,U=T.y=fn(a,this.top+q+p,this.bottom-e[T.line].height));const N=h.x(z);if(D(N,U,$),z=_N(O,z+S+v,B?z+k:this.right,t.rtl),P(h.x(z),U,$),B)T.x+=k+p;else if(typeof $.text!="string"){const Bt=d.lineHeight;T.y+=n2($,Bt)+p}else T.y+=F}),OR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Fe(e.font),s=_n(e.padding);if(!e.display)return;const a=el(t.rtl,this.left,this.width),l=this.ctx,c=e.position,h=i.size/2,d=s.top+h;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,y=fn(t.align,y,this.right-v);else{const S=this.columnSizes.reduce((w,A)=>Math.max(w,A.height),0);p=d+fn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const T=fn(c,y,y+v);l.textAlign=a.textAlign(J0(c)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,qa(l,e.text,T,p,i)}_computeTitleHeight(){const t=this.options.title,e=Fe(t.font),i=_n(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(Rs(t,this.left,this.right)&&Rs(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Rs(t,s.left,s.left+s.width)&&Rs(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!e6(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=$3(s,i);s&&!a&&oe(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function Z3(n,t,e,i,s){const a=J3(i,n,t,e),l=t6(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function J3(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function t6(n,t,e){let i=n;return typeof t.text!="string"&&(i=n2(t,e)),i}function n2(n,t){const e=n.text?n.text.length:0;return t*e}function e6(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var n6={id:"legend",_element:CE,start(n,t,e){const i=n.legend=new CE({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;gn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(e?0:void 0),p=_n(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class u_ extends Ns{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=de(i.text)?i.text.length:1;this._padding=_n(i.padding);const a=s*Fe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,d,p,y;return this.isHorizontal()?(p=fn(c,i,a),y=e+t,d=a-i):(l.position==="left"?(p=i+t,y=fn(c,s,e),h=ue*-.5):(p=a-t,y=fn(c,e,s),h=ue*.5),d=s-e),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Fe(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(a);qa(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:d,textAlign:J0(e.align),textBaseline:"middle",translation:[l,c]})}}function i6(n,t){const e=new u_({ctx:n.ctx,options:t,chart:n});gn.configure(n,e,t),gn.addBox(n,e),n.titleBlock=e}var s6={id:"title",_element:u_,start(n,t,e){i6(n,e)},stop(n){const t=n.titleBlock;gn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Lf=new WeakMap;var r6={id:"subtitle",start(n,t,e){const i=new u_({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i),Lf.set(n,i)},stop(n){gn.removeBox(n,Lf.get(n)),Lf.delete(n)},beforeUpdate(n,t,e){const i=Lf.get(n);gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=wy(t,d);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Li(n,t){return t&&(de(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function As(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function a6(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function ME(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:c}=t,h=Fe(t.bodyFont),d=Fe(t.titleFont),p=Fe(t.footerFont),y=a.length,v=s.length,T=i.length,S=_n(t.padding);let w=S.height,A=0,D=i.reduce((q,F)=>q+F.before.length+F.lines.length+F.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const q=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;w+=T*q+(D-T)*h.lineHeight+(D-1)*t.bodySpacing}v&&(w+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let P=0;const B=function(q){A=Math.max(A,e.measureText(q).width+P)};return e.save(),e.font=d.string,Jt(n.title,B),e.font=h.string,Jt(n.beforeBody.concat(n.afterBody),B),P=t.displayColors?l+2+t.boxPadding:0,Jt(i,q=>{Jt(q.before,B),Jt(q.lines,B),Jt(q.after,B)}),P=0,e.font=p.string,Jt(n.footer,B),e.restore(),A+=S.width,{width:A,height:w}}function o6(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function l6(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function u6(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:c,right:h}}=n;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=a/2?d="left":s>=l-a/2&&(d="right"),l6(d,n,t,e)&&(d="center"),d}function DE(n,t,e){const i=e.yAlign||t.yAlign||o6(n,e);return{xAlign:e.xAlign||t.xAlign||u6(n,t,e,i),yAlign:i}}function c6(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function h6(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function OE(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:h}=e,d=s+a,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:T}=La(l);let S=c6(t,c);const w=h6(t,h,d);return h==="center"?c==="left"?S+=d:c==="right"&&(S-=d):c==="left"?S-=Math.max(p,v)+s:c==="right"&&(S+=Math.max(y,T)+s),{x:$e(S,0,i.width-t.width),y:$e(w,0,i.height-t.height)}}function Bf(n,t,e){const i=_n(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function VE(n){return Li([],As(n))}function f6(n,t,e){return zr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function PE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const i2={beforeTitle:Es,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Es,beforeBody:Es,beforeLabel:Es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Lt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Es,afterBody:Es,beforeFooter:Es,footer:Es,afterFooter:Es};function Rn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?i2[t].call(e,i):s}class ky extends Ns{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new NR(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=f6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Rn(i,"beforeTitle",this,t),a=Rn(i,"title",this,t),l=Rn(i,"afterTitle",this,t);let c=[];return c=Li(c,As(s)),c=Li(c,As(a)),c=Li(c,As(l)),c}getBeforeBody(t,e){return VE(Rn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Jt(t,a=>{const l={before:[],lines:[],after:[]},c=PE(i,a);Li(l.before,As(Rn(c,"beforeLabel",this,a))),Li(l.lines,Rn(c,"label",this,a)),Li(l.after,As(Rn(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return VE(Rn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Rn(i,"beforeFooter",this,t),a=Rn(i,"footer",this,t),l=Rn(i,"afterFooter",this,t);let c=[];return c=Li(c,As(s)),c=Li(c,As(a)),c=Li(c,As(l)),c}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,d;for(h=0,d=e.length;h<d;++h)c.push(a6(this.chart,e[h]));return t.filter&&(c=c.filter((p,y,v)=>t.filter(p,y,v,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),Jt(c,p=>{const y=PE(t.callbacks,p);s.push(Rn(y,"labelColor",this,p)),a.push(Rn(y,"labelPointStyle",this,p)),l.push(Rn(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Qu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=ME(this,i),d=Object.assign({},c,h),p=DE(this.chart,i,d),y=OE(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=La(c),{x:v,y:T}=t,{width:S,height:w}=e;let A,D,P,B,q,F;return a==="center"?(q=T+w/2,s==="left"?(A=v,D=A-l,B=q+l,F=q-l):(A=v+S,D=A+l,B=q-l,F=q+l),P=A):(s==="left"?D=v+Math.max(h,p)+l:s==="right"?D=v+S-Math.max(d,y)-l:D=this.caretX,a==="top"?(B=T,q=B-l,A=D-l,P=D+l):(B=T+w,q=B+l,A=D+l,P=D-l),F=B),{x1:A,x2:D,x3:P,y1:B,y2:q,y3:F}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,c,h;if(a){const d=el(i.rtl,this.x,this.width);for(t.x=Bf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=Fe(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=a,p=Fe(a.bodyFont),y=Bf(this,"left",a),v=s.x(y),T=h<p.lineHeight?(p.lineHeight-h)/2:0,S=e.y+T;if(a.usePointStyle){const w={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(v,d)+d/2,D=S+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Cy(t,w,A,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Cy(t,w,A,D)}else{t.lineWidth=Ut(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const w=s.leftForLtr(v,d),A=s.leftForLtr(s.xPlus(v,1),d-2),D=La(l.borderRadius);Object.values(D).some(P=>P!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Cc(t,{x:w,y:S,w:d,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Cc(t,{x:A,y:S+1,w:d-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(w,S,d,h),t.strokeRect(w,S,d,h),t.fillStyle=l.backgroundColor,t.fillRect(A,S+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=i,y=Fe(i.bodyFont);let v=y.lineHeight,T=0;const S=el(i.rtl,this.x,this.width),w=function(R){e.fillText(R,S.x(t.x+T),t.y+v/2),t.y+=v+a},A=S.textAlign(l);let D,P,B,q,F,$,V;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Bf(this,A,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,w),T=c&&A!=="right"?l==="center"?d/2+p:d+2+p:0,q=0,$=s.length;q<$;++q){for(D=s[q],P=this.labelTextColors[q],e.fillStyle=P,Jt(D.before,w),B=D.lines,c&&B.length&&(this._drawColorBox(e,t,q,S,i),v=Math.max(y.lineHeight,h)),F=0,V=B.length;F<V;++F)w(B[F]),v=y.lineHeight;Jt(D.after,w)}T=0,v=y.lineHeight,Jt(this.afterBody,w),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,c;if(a){const h=el(i.rtl,this.x,this.width);for(t.x=Bf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",l=Fe(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,c=0;c<a;++c)e.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:p}=i,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:S}=La(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+y,h),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(c+d-v,h),e.quadraticCurveTo(c+d,h,c+d,h+v),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(c+d,h+p-S),e.quadraticCurveTo(c+d,h+p,c+d-S,h+p),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(c+T,h+p),e.quadraticCurveTo(c,h+p,c,h+p-T),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(c,h+y),e.quadraticCurveTo(c,h,c+y,h),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Qu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=ME(this,t),h=Object.assign({},l,this._size),d=DE(e,t,h),p=OE(t,h,d,e);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=_n(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),DR(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),OR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),a=!Sd(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),c=this._positionChanged(l,t),h=e||!Sd(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Qu[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}ct(ky,"positioners",Qu);var d6={id:"tooltip",_element:ky,positioners:Qu,afterInit(n,t,e){e&&(n.tooltip=new ky({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:i2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},m6=Object.freeze({__proto__:null,Colors:w3,Decimation:D3,Filler:W3,Legend:n6,SubTitle:r6,Title:s6,Tooltip:d6});const p6=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function g6(n,t,e,i){const s=n.indexOf(t);if(s===-1)return p6(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const y6=(n,t)=>n===null?null:$e(Math.round(n),0,t);function IE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Ny extends Ka{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Lt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:g6(i,t,Dt(e,t),this._addedLabels),y6(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return IE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ct(Ny,"id","category"),ct(Ny,"defaults",{ticks:{callback:IE}});function _6(n,t){const e=[],{bounds:s,step:a,min:l,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:v}=n,T=a||1,S=p-1,{min:w,max:A}=t,D=!Lt(l),P=!Lt(c),B=!Lt(d),q=(A-w)/(y+1);let F=Mx((A-w)/S/T)*T,$,V,R,O;if(F<1e-14&&!D&&!P)return[{value:w},{value:A}];O=Math.ceil(A/F)-Math.floor(w/F),O>S&&(F=Mx(O*F/S/T)*T),Lt(h)||($=Math.pow(10,h),F=Math.ceil(F*$)/$),s==="ticks"?(V=Math.floor(w/F)*F,R=Math.ceil(A/F)*F):(V=w,R=A),D&&P&&a&&hN((c-l)/a,F/1e3)?(O=Math.round(Math.min((c-l)/F,p)),F=(c-l)/O,V=l,R=c):B?(V=D?l:V,R=P?c:R,O=d-1,F=(R-V)/O):(O=(R-V)/F,sc(O,Math.round(O),F/1e3)?O=Math.round(O):O=Math.ceil(O));const k=Math.max(Dx(F),Dx(V));$=Math.pow(10,Lt(h)?k:h),V=Math.round(V*$)/$,R=Math.round(R*$)/$;let z=0;for(D&&(v&&V!==l?(e.push({value:l}),V<l&&z++,sc(Math.round((V+z*F)*$)/$,l,kE(l,q,n))&&z++):V<l&&z++);z<O;++z){const U=Math.round((V+z*F)*$)/$;if(P&&U>c)break;e.push({value:U})}return P&&v&&R!==c?e.length&&sc(e[e.length-1].value,c,kE(c,q,n))?e[e.length-1].value=c:e.push({value:c}):(!P||R===c)&&e.push({value:R}),e}function kE(n,t,{horizontal:e,minRotation:i}){const s=_i(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class Od extends Ka{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=e?s:h,c=h=>a=i?a:h;if(t){const h=qi(s),d=qi(a);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=_6(s,a);return t.bounds==="ticks"&&dR(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Gc(t,this.chart.options.locale,this.options.ticks.format)}}class Ly extends Od{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?t:0,this.max=Ee(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=_i(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ct(Ly,"id","linear"),ct(Ly,"defaults",{ticks:{callback:em.formatters.numeric}});const Dc=n=>Math.floor(yr(n)),Ra=(n,t)=>Math.pow(10,Dc(n)+t);function NE(n){return n/Math.pow(10,Dc(n))===1}function LE(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function v6(n,t){const e=t-n;let i=Dc(e);for(;LE(n,t,i)>10;)i++;for(;LE(n,t,i)<10;)i--;return Math.min(i,Dc(n))}function b6(n,{min:t,max:e}){t=qn(n.min,t);const i=[],s=Dc(t);let a=v6(t,e),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),h=s>a?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,a)),v=qn(n.min,Math.round((h+p+y*Math.pow(10,a))*l)/l);for(;v<e;)i.push({value:v,major:NE(v),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(a++,y=2,l=a>=0?1:l),v=Math.round((h+p+y*Math.pow(10,a))*l)/l;const T=qn(n.max,v);return i.push({value:T,major:NE(T),significand:y}),i}class By extends Ka{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Od.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ee(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?Math.max(0,t):null,this.max=Ee(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ee(this._userMin)&&(this.min=t===Ra(this.min,0)?Ra(this.min,-1):Ra(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const a=c=>i=t?i:c,l=c=>s=e?s:c;i===s&&(i<=0?(a(1),l(10)):(a(Ra(i,-1)),l(Ra(s,1)))),i<=0&&a(Ra(s,-1)),s<=0&&l(Ra(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=b6(e,this);return t.bounds==="ticks"&&dR(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Gc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yr(t),this._valueRange=yr(this.max)-yr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ct(By,"id","logarithmic"),ct(By,"defaults",{ticks:{callback:em.formatters.logarithmic,major:{enabled:!0}}});function zy(n){const t=n.ticks;if(t.display&&n.display){const e=_n(t.backdropPadding);return Dt(t.font&&t.font.size,me.font.size)+e.height}return 0}function T6(n,t,e){return e=de(e)?e:[e],{w:CN(n,t.string,e),h:e.length*t.lineHeight}}function BE(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function x6(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],a=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?ue/a:0;for(let h=0;h<a;h++){const d=l.setContext(n.getPointLabelContext(h));s[h]=d.padding;const p=n.getPointPosition(h,n.drawingArea+s[h],c),y=Fe(d.font),v=T6(n.ctx,y,n._pointLabels[h]);i[h]=v;const T=Gn(n.getIndexAngle(h)+c),S=Math.round($0(T)),w=BE(S,p.x,v.w,0,180),A=BE(S,p.y,v.h,90,270);E6(e,t,T,w,A)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=w6(n,i,s)}function E6(n,t,e,i,s){const a=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/a,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/a,n.r=Math.max(n.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+h))}function S6(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:a,padding:l,size:c}=e,h=n.getPointPosition(t,i+s+l,a),d=Math.round($0(Gn(h.angle+Me))),p=M6(h.y,c.h,d),y=R6(d),v=C6(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:v,top:p,right:v+c.w,bottom:p+c.h}}function A6(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:a}=n;return!(Ms({x:e,y:i},t)||Ms({x:e,y:a},t)||Ms({x:s,y:i},t)||Ms({x:s,y:a},t))}function w6(n,t,e){const i=[],s=n._pointLabels.length,a=n.options,{centerPointLabels:l,display:c}=a.pointLabels,h={extra:zy(a)/2,additionalAngle:l?ue/s:0};let d;for(let p=0;p<s;p++){h.padding=e[p],h.size=t[p];const y=S6(n,p,h);i.push(y),c==="auto"&&(y.visible=A6(y,d),y.visible&&(d=y))}return i}function R6(n){return n===0||n===180?"center":n<180?"left":"right"}function C6(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function M6(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function D6(n,t,e){const{left:i,top:s,right:a,bottom:l}=e,{backdropColor:c}=t;if(!Lt(c)){const h=La(t.borderRadius),d=_n(t.backdropPadding);n.fillStyle=c;const p=i-d.left,y=s-d.top,v=a-i+d.width,T=l-s+d.height;Object.values(h).some(S=>S!==0)?(n.beginPath(),Cc(n,{x:p,y,w:v,h:T,radius:h}),n.fill()):n.fillRect(p,y,v,T)}}function O6(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const a=n._pointLabelItems[s];if(!a.visible)continue;const l=i.setContext(n.getPointLabelContext(s));D6(e,l,a);const c=Fe(l.font),{x:h,y:d,textAlign:p}=a;qa(e,n._pointLabels[s],h,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function s2(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,le);else{let a=n.getPointPosition(0,t);s.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=n.getPointPosition(l,t),s.lineTo(a.x,a.y)}}function V6(n,t,e,i,s){const a=n.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||e<0||(a.save(),a.strokeStyle=c,a.lineWidth=h,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),s2(n,e,l,i),a.closePath(),a.stroke(),a.restore())}function P6(n,t,e){return zr(n,{label:e,index:t,type:"pointLabel"})}class Wu extends Od{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=_n(zy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ee(t)&&!isNaN(t)?t:0,this.max=Ee(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zy(this.options))}generateTickLabels(t){Od.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=oe(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?x6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=le/(this._pointLabels.length||1),i=this.options.startAngle||0;return Gn(t*e+_i(i))}getDistanceFromCenterForValue(t){if(Lt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Lt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return P6(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Me+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),s2(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:a}=e,l=this._pointLabels.length;let c,h,d;if(e.pointLabels.display&&O6(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(y),T=s.setContext(v),S=a.setContext(v);V6(this,T,h,l,S)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:v}=p;!v||!y||(t.lineWidth=v,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(h)),p=Fe(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const y=_n(d.backdropPadding);t.fillRect(-l/2-y.left,-a-p.size/2-y.top,l+y.width,p.size+y.height)}qa(t,c.label,0,-a,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}ct(Wu,"id","radialLinear"),ct(Wu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:em.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ct(Wu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ct(Wu,"descriptors",{angleLines:{_fallback:"grid"}});const om={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(om);function zE(n,t){return n-t}function UE(n,t){if(Lt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ee(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(hl(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function FE(n,t,e,i){const s=Dn.length;for(let a=Dn.indexOf(n);a<s-1;++a){const l=om[Dn[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=i)return Dn[a]}return Dn[s-1]}function I6(n,t,e,i,s){for(let a=Dn.length-1;a>=Dn.indexOf(e);a--){const l=Dn[a];if(om[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Dn[e?Dn.indexOf(e):0]}function k6(n){for(let t=Dn.indexOf(n)+1,e=Dn.length;t<e;++t)if(om[Dn[t]].common)return Dn[t]}function jE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Z0(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function N6(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=e[c],h>=0&&(t[h].major=!0);return t}function HE(n,t,e){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!e?i:N6(n,i,s,e)}class Oc extends Ka{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new GL._date(t.adapters.date);s.init(e),ic(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:UE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ee(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=Ee(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=pN(s,a,l);return this._unit=e.unit||(i.autoSkip?FE(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):I6(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:k6(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),HE(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=$e(e,0,l),i=$e(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||FE(a.minUnit,e,i,this._getLabelCapacity(e)),c=Dt(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=hl(h)||h===!0,p={};let y=e,v,T;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,e,l)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(v=y,T=0;v<i;v=+t.add(v,c,l),T++)jE(p,v,S);return(v===i||s.bounds==="ticks"||T===1)&&jE(p,v,S),Object.keys(p).sort(zE).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return oe(l,[t,e,i],this);const c=a.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],v=i[e],T=d&&y&&v&&v.major;return this._adapter.format(t,s||(T?y:p))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=_i(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,HE(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(UE(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return gR(t.sort(zE))}}ct(Oc,"id","time"),ct(Oc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zf(n,t,e){let i=0,s=n.length-1,a,l,c,h;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Cs(n,"pos",t)),{pos:a,time:c}=n[i],{pos:l,time:h}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Cs(n,"time",t)),{time:a,pos:c}=n[i],{time:l,pos:h}=n[s]);const d=l-a;return d?c+(h-c)*(t-a)/d:c}class Uy extends Oc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=zf(e,this.min),this._tableRange=zf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,c,h,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(zf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return zf(this._table,i*this._tableRange+this._minPos,!0)}}ct(Uy,"id","timeseries"),ct(Uy,"defaults",Oc.defaults);var L6=Object.freeze({__proto__:null,CategoryScale:Ny,LinearScale:Ly,LogarithmicScale:By,RadialLinearScale:Wu,TimeScale:Oc,TimeSeriesScale:Uy});const B6=[qL,v3,m6,L6],r2="label";function qE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function z6(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function a2(n,t){n.labels=t}function o2(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r2;const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function U6(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r2;const e={labels:[],datasets:[]};return a2(e,n.labels),o2(e,n.datasets,t),e}function F6(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:d=[],fallbackContent:p,updateMode:y,...v}=n,T=et.useRef(null),S=et.useRef(null),w=()=>{T.current&&(S.current=new am(T.current,{type:l,data:U6(c,a),options:h&&{...h},plugins:d}),qE(t,S.current))},A=()=>{qE(t,null),S.current&&(S.current.destroy(),S.current=null)};return et.useEffect(()=>{!s&&S.current&&h&&z6(S.current,h)},[s,h]),et.useEffect(()=>{!s&&S.current&&a2(S.current.config.data,c.labels)},[s,c.labels]),et.useEffect(()=>{!s&&S.current&&c.datasets&&o2(S.current.config.data,c.datasets,a)},[s,c.datasets]),et.useEffect(()=>{S.current&&(s?(A(),setTimeout(w)):S.current.update(y))},[s,h,c.labels,c.datasets,y]),et.useEffect(()=>{S.current&&(A(),setTimeout(w))},[l]),et.useEffect(()=>(w(),()=>A()),[]),ui.createElement("canvas",{ref:T,role:"img",height:e,width:i,...v},p)}const j6=et.forwardRef(F6);function H6(n,t){return am.register(t),et.forwardRef((e,i)=>ui.createElement(j6,{...e,ref:i,type:n}))}const q6=H6("bar",oc);am.register(...B6);var jg,GE;function G6(){if(GE)return jg;GE=1;var n={linear:function(t,e,i,s){var a=i-e;return a*t/s+e},easeInQuad:function(t,e,i,s){var a=i-e;return a*(t/=s)*t+e},easeOutQuad:function(t,e,i,s){var a=i-e;return-a*(t/=s)*(t-2)+e},easeInOutQuad:function(t,e,i,s){var a=i-e;return(t/=s/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,s){var a=i-e;return a*(t/=s)*t*t+e},easeOutCubic:function(t,e,i,s){var a=i-e;return a*((t=t/s-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,s){var a=i-e;return(t/=s/2)<1?a/2*t*t*t+e:a/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,s){var a=i-e;return a*(t/=s)*t*t*t+e},easeOutQuart:function(t,e,i,s){var a=i-e;return-a*((t=t/s-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,s){var a=i-e;return(t/=s/2)<1?a/2*t*t*t*t+e:-a/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,s){var a=i-e;return a*(t/=s)*t*t*t*t+e},easeOutQuint:function(t,e,i,s){var a=i-e;return a*((t=t/s-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,s){var a=i-e;return(t/=s/2)<1?a/2*t*t*t*t*t+e:a/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,s){var a=i-e;return-a*Math.cos(t/s*(Math.PI/2))+a+e},easeOutSine:function(t,e,i,s){var a=i-e;return a*Math.sin(t/s*(Math.PI/2))+e},easeInOutSine:function(t,e,i,s){var a=i-e;return-a/2*(Math.cos(Math.PI*t/s)-1)+e},easeInExpo:function(t,e,i,s){var a=i-e;return t==0?e:a*Math.pow(2,10*(t/s-1))+e},easeOutExpo:function(t,e,i,s){var a=i-e;return t==s?e+a:a*(-Math.pow(2,-10*t/s)+1)+e},easeInOutExpo:function(t,e,i,s){var a=i-e;return t===0?e:t===s?e+a:(t/=s/2)<1?a/2*Math.pow(2,10*(t-1))+e:a/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,i,s){var a=i-e;return-a*(Math.sqrt(1-(t/=s)*t)-1)+e},easeOutCirc:function(t,e,i,s){var a=i-e;return a*Math.sqrt(1-(t=t/s-1)*t)+e},easeInOutCirc:function(t,e,i,s){var a=i-e;return(t/=s/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+e:a/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,s){var a=i-e,l,c,h;return h=1.70158,c=0,l=a,t===0?e:(t/=s)===1?e+a:(c||(c=s*.3),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),-(l*Math.pow(2,10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/c))+e)},easeOutElastic:function(t,e,i,s){var a=i-e,l,c,h;return h=1.70158,c=0,l=a,t===0?e:(t/=s)===1?e+a:(c||(c=s*.3),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),l*Math.pow(2,-10*t)*Math.sin((t*s-h)*(2*Math.PI)/c)+a+e)},easeInOutElastic:function(t,e,i,s){var a=i-e,l,c,h;return h=1.70158,c=0,l=a,t===0?e:(t/=s/2)===2?e+a:(c||(c=s*(.3*1.5)),l<Math.abs(a)?(l=a,h=c/4):h=c/(2*Math.PI)*Math.asin(a/l),t<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/c))+e:l*Math.pow(2,-10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/c)*.5+a+e)},easeInBack:function(t,e,i,s,a){var l=i-e;return a===void 0&&(a=1.70158),l*(t/=s)*t*((a+1)*t-a)+e},easeOutBack:function(t,e,i,s,a){var l=i-e;return a===void 0&&(a=1.70158),l*((t=t/s-1)*t*((a+1)*t+a)+1)+e},easeInOutBack:function(t,e,i,s,a){var l=i-e;return a===void 0&&(a=1.70158),(t/=s/2)<1?l/2*(t*t*(((a*=1.525)+1)*t-a))+e:l/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+e},easeInBounce:function(t,e,i,s){var a=i-e,l;return l=n.easeOutBounce(s-t,0,a,s),a-l+e},easeOutBounce:function(t,e,i,s){var a=i-e;return(t/=s)<1/2.75?a*(7.5625*t*t)+e:t<2/2.75?a*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?a*(7.5625*(t-=2.25/2.75)*t+.9375)+e:a*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,i,s){var a=i-e,l;return t<s/2?(l=n.easeInBounce(t*2,0,a,s),l*.5+e):(l=n.easeOutBounce(t*2-s,0,a,s),l*.5+a*.5+e)}};return jg=n,jg}var Y6=G6();function K6(n){return n*Math.PI/180}function Hn(n,t){return n+Math.random()*(t-n)}function X6(n,t){return Math.floor(n+Math.random()*(t-n+1))}var uc;(function(n){n[n.Circle=0]="Circle",n[n.Square=1]="Square",n[n.Strip=2]="Strip"})(uc||(uc={}));var mr;(function(n){n[n.Positive=1]="Positive",n[n.Negative=-1]="Negative"})(mr||(mr={}));const Q6=1e3/60;class W6{constructor(t,e,i,s){this.getOptions=e;const{colors:a,initialVelocityX:l,initialVelocityY:c}=this.getOptions();this.context=t,this.x=i,this.y=s,this.w=Hn(5,20),this.h=Hn(5,20),this.radius=Hn(5,10),this.vx=typeof l=="number"?Hn(-l,l):Hn(l.min,l.max),this.vy=typeof c=="number"?Hn(-c,0):Hn(c.min,c.max),this.shape=X6(0,2),this.angle=K6(Hn(0,360)),this.angularSpin=Hn(-.2,.2),this.color=a[Math.floor(Math.random()*a.length)],this.rotateY=Hn(0,1),this.rotationDirection=Hn(0,1)?mr.Positive:mr.Negative}update(t){const{gravity:e,wind:i,friction:s,opacity:a,drawShape:l}=this.getOptions(),c=t/Q6;this.x+=this.vx*c,this.y+=this.vy*c,this.vy+=e*c,this.vx+=i*c,this.vx*=s**c,this.vy*=s**c,this.rotateY>=1&&this.rotationDirection===mr.Positive?this.rotationDirection=mr.Negative:this.rotateY<=-1&&this.rotationDirection===mr.Negative&&(this.rotationDirection=mr.Positive);const h=.1*this.rotationDirection*c;if(this.rotateY+=h,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,l&&typeof l=="function")l.call(this,this.context);else switch(this.shape){case uc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case uc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case uc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class $6{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=s=>{this.particles.splice(s,1)},this.getParticle=()=>{const s=Hn(this.x,this.w+this.x),a=Hn(this.y,this.h+this.y);return new W6(this.context,this.getOptions,s,a)},this.animate=s=>{const{canvas:a,context:l,particlesGenerated:c,lastNumberOfPieces:h}=this,{run:d,recycle:p,numberOfPieces:y,debug:v,tweenFunction:T,tweenDuration:S}=this.getOptions();if(!d)return!1;const w=this.particles.length,A=p?w:c;if(A<y){h!==y&&(this.tweenProgress=0,this.tweenFrom=A,this.lastNumberOfPieces=y),this.tweenProgress=Math.min(S,Math.max(0,this.tweenProgress+s));const D=T(this.tweenProgress,this.tweenFrom,y,S),P=Math.round(D-A);for(let B=0;B<P;B++)this.particles.push(this.getParticle());this.particlesGenerated+=P}v&&(l.font="12px sans-serif",l.fillStyle="#333",l.textAlign="right",l.fillText(`Particles: ${w}`,a.width-10,a.height-20));for(let D=this.particles.length-1;D>=0;D--){const P=this.particles[D];P.update(s),(P.y>a.height||P.y<-100||P.x>a.width+100||P.x<-100)&&(p&&A<=y?this.particles[D]=this.getParticle():this.removeParticleAt(D))}return w>0||A<y},this.canvas=t;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=e}}const c_={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Y6.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Z6{constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=s=>{const a={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...a,...c_,...s},Object.assign(this,s.confettiSource)},this.update=(s=0)=>{const{options:{run:a,onConfettiComplete:l,frameRate:c},canvas:h,context:d}=this,p=Math.min(s-this.lastFrameTime,50);if(c&&p<1e3/c){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=s-(c?p%c:0),a&&(d.fillStyle="white",d.clearRect(0,0,h.width,h.height)),this.generator.animate(p)?this.rafId=requestAnimationFrame(this.update):(l&&typeof l=="function"&&this.generator.particlesGenerated>0&&l.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new $6(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){var s,a;const e=(s=this._options)==null?void 0:s.run,i=(a=this._options)==null?void 0:a.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}}const J6=ui.createRef();class h_ extends ui.Component{constructor(t){super(t),this.canvas=ui.createRef(),this.canvas=t.canvasRef||J6}componentDidMount(){if(this.canvas.current){const t=Hg(this.props)[0];this.confetti=new Z6(this.canvas.current,t)}}componentDidUpdate(){const t=Hg(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=Hg(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return St.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:i})}}h_.defaultProps={...c_};h_.displayName="ReactConfetti";function Hg(n){const t={},e={},i={},s=[...Object.keys(c_),"confettiSource","drawShape","onConfettiComplete","frameRate"],a=["canvasRef"];for(const l in n){const c=n[l];s.includes(l)?t[l]=c:a.includes(l)?a[l]=c:i[l]=c}return[t,i,e]}const t5=ui.forwardRef((n,t)=>St.jsx(h_,{canvasRef:t,...n}));gA();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vd.apply(this,arguments)}var br;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(br||(br={}));const YE="popstate";function e5(n){n===void 0&&(n={});function t(i,s){let{pathname:a,search:l,hash:c}=i.location;return Fy("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:u2(s)}return i5(t,e,null,n)}function Pn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function l2(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n5(){return Math.random().toString(36).substr(2,8)}function KE(n,t){return{usr:n.state,key:n.key,idx:t}}function Fy(n,t,e,i){return e===void 0&&(e=null),Vd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?lm(t):t,{state:e,key:t&&t.key||i||n5()})}function u2(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function lm(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function i5(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c=br.Pop,h=null,d=p();d==null&&(d=0,l.replaceState(Vd({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function y(){c=br.Pop;let A=p(),D=A==null?null:A-d;d=A,h&&h({action:c,location:w.location,delta:D})}function v(A,D){c=br.Push;let P=Fy(w.location,A,D);d=p()+1;let B=KE(P,d),q=w.createHref(P);try{l.pushState(B,"",q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(q)}a&&h&&h({action:c,location:w.location,delta:1})}function T(A,D){c=br.Replace;let P=Fy(w.location,A,D);d=p();let B=KE(P,d),q=w.createHref(P);l.replaceState(B,"",q),a&&h&&h({action:c,location:w.location,delta:0})}function S(A){let D=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof A=="string"?A:u2(A);return P=P.replace(/ $/,"%20"),Pn(D,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,D)}let w={get action(){return c},get location(){return n(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(YE,y),h=A,()=>{s.removeEventListener(YE,y),h=null}},createHref(A){return t(s,A)},createURL:S,encodeLocation(A){let D=S(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:T,go(A){return l.go(A)}};return w}var XE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(XE||(XE={}));function s5(n,t,e){return e===void 0&&(e="/"),r5(n,t,e)}function r5(n,t,e,i){let s=typeof t=="string"?lm(t):t,a=f2(s.pathname||"/",e);if(a==null)return null;let l=c2(n);a5(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=_5(a);c=p5(l[h],d)}return c}function c2(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Pn(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let d=nl([i,h.relativePath]),p=e.concat(h);a.children&&a.children.length>0&&(Pn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),c2(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:d5(d,a.index),routesMeta:p})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of h2(a.path))s(a,l,h)}),t}function h2(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=h2(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function a5(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:m5(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const o5=/^:[\w-]+$/,l5=3,u5=2,c5=1,h5=10,f5=-2,QE=n=>n==="*";function d5(n,t){let e=n.split("/"),i=e.length;return e.some(QE)&&(i+=f5),t&&(i+=u5),e.filter(s=>!QE(s)).reduce((s,a)=>s+(o5.test(a)?l5:a===""?c5:h5),i)}function m5(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function p5(n,t,e){let{routesMeta:i}=n,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=g5({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),v=h.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:nl([a,y.pathname]),pathnameBase:v5(nl([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=nl([a,y.pathnameBase]))}return l}function g5(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=y5(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,p,y)=>{let{paramName:v,isOptional:T}=p;if(v==="*"){let w=c[y]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const S=c[y];return T&&!S?d[v]=void 0:d[v]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:n}}function y5(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),l2(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function _5(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return l2(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function f2(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}const nl=n=>n.join("/").replace(/\/\/+/g,"/"),v5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function b5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const d2=["post","put","patch","delete"];new Set(d2);const T5=["get",...d2];new Set(T5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Pd.apply(this,arguments)}const x5=et.createContext(null),E5=et.createContext(null),m2=et.createContext(null),um=et.createContext(null),cm=et.createContext({outlet:null,matches:[],isDataRoute:!1}),p2=et.createContext(null);function f_(){return et.useContext(um)!=null}function S5(){return f_()||Pn(!1),et.useContext(um).location}function A5(n,t){return w5(n,t)}function w5(n,t,e,i){f_()||Pn(!1);let{navigator:s}=et.useContext(m2),{matches:a}=et.useContext(cm),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let d=S5(),p;if(t){var y;let A=typeof t=="string"?lm(t):t;h==="/"||(y=A.pathname)!=null&&y.startsWith(h)||Pn(!1),p=A}else p=d;let v=p.pathname||"/",T=v;if(h!=="/"){let A=h.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=s5(n,{pathname:T}),w=O5(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:nl([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:nl([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,e,i);return t&&w?et.createElement(um.Provider,{value:{location:Pd({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:br.Pop}},w):w}function R5(){let n=k5(),t=b5(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return et.createElement(et.Fragment,null,et.createElement("h2",null,"Unexpected Application Error!"),et.createElement("h3",{style:{fontStyle:"italic"}},t),e?et.createElement("pre",{style:s},e):null,null)}const C5=et.createElement(R5,null);class M5 extends et.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?et.createElement(cm.Provider,{value:this.props.routeContext},et.createElement(p2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D5(n){let{routeContext:t,match:e,children:i}=n,s=et.useContext(x5);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),et.createElement(cm.Provider,{value:t},i)}function O5(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var a;if(!e)return null;if(e.errors)n=e.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=(s=e)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);p>=0||Pn(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,d=-1;if(e&&i&&i.v7_partialHydration)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:v,errors:T}=e,S=y.route.loader&&v[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let T,S=!1,w=null,A=null;e&&(T=c&&y.route.id?c[y.route.id]:void 0,w=y.route.errorElement||C5,h&&(d<0&&v===0?(N5("route-fallback"),S=!0,A=null):d===v&&(S=!0,A=y.route.hydrateFallbackElement||null)));let D=t.concat(l.slice(0,v+1)),P=()=>{let B;return T?B=w:S?B=A:y.route.Component?B=et.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,et.createElement(D5,{match:y,routeContext:{outlet:p,matches:D,isDataRoute:e!=null},children:B})};return e&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?et.createElement(M5,{location:e.location,revalidation:e.revalidation,component:w,error:T,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}var g2=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(g2||{});function V5(n){let t=et.useContext(E5);return t||Pn(!1),t}function P5(n){let t=et.useContext(cm);return t||Pn(!1),t}function I5(n){let t=P5(),e=t.matches[t.matches.length-1];return e.route.id||Pn(!1),e.route.id}function k5(){var n;let t=et.useContext(p2),e=V5(g2.UseRouteError),i=I5();return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}const WE={};function N5(n,t,e){WE[n]||(WE[n]=!0)}function L5(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function jy(n){Pn(!1)}function B5(n){let{basename:t="/",children:e=null,location:i,navigationType:s=br.Pop,navigator:a,static:l=!1,future:c}=n;f_()&&Pn(!1);let h=t.replace(/^\/*/,"/"),d=et.useMemo(()=>({basename:h,navigator:a,static:l,future:Pd({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof i=="string"&&(i=lm(i));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:S="default"}=i,w=et.useMemo(()=>{let A=f2(p,h);return A==null?null:{location:{pathname:A,search:y,hash:v,state:T,key:S},navigationType:s}},[h,p,y,v,T,S,s]);return w==null?null:et.createElement(m2.Provider,{value:d},et.createElement(um.Provider,{children:e,value:w}))}function z5(n){let{children:t,location:e}=n;return A5(Hy(t),e)}new Promise(()=>{});function Hy(n,t){t===void 0&&(t=[]);let e=[];return et.Children.forEach(n,(i,s)=>{if(!et.isValidElement(i))return;let a=[...t,s];if(i.type===et.Fragment){e.push.apply(e,Hy(i.props.children,a));return}i.type!==jy&&Pn(!1),!i.props.index||!i.props.children||Pn(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Hy(i.props.children,a)),e.push(l)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const U5="6";try{window.__reactRouterVersion=U5}catch{}const F5="startTransition",$E=RD[F5];function j5(n){let{basename:t,children:e,future:i,window:s}=n,a=et.useRef();a.current==null&&(a.current=e5({window:s,v5Compat:!0}));let l=a.current,[c,h]=et.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},p=et.useCallback(y=>{d&&$E?$E(()=>h(y)):h(y)},[h,d]);return et.useLayoutEffect(()=>l.listen(p),[l,p]),et.useEffect(()=>L5(i),[i]),et.createElement(B5,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,future:i})}var ZE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ZE||(ZE={}));var JE;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(JE||(JE={}));const y2=et.createContext({});function H5(n){const t=et.useRef(null);return t.current===null&&(t.current=n()),t.current}const d_=typeof window<"u",q5=d_?et.useLayoutEffect:et.useEffect,m_=et.createContext(null);function p_(n,t){n.indexOf(t)===-1&&n.push(t)}function g_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Is=(n,t,e)=>e>t?t:e<n?n:e;let y_=()=>{};const ks={},_2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function v2(n){return typeof n=="object"&&n!==null}const b2=n=>/^0[^.\s]+$/u.test(n);function __(n){let t;return()=>(t===void 0&&(t=n()),t)}const ci=n=>n,G5=(n,t)=>e=>t(n(e)),Yc=(...n)=>n.reduce(G5),Vc=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class v_{constructor(){this.subscriptions=[]}add(t){return p_(this.subscriptions,t),()=>g_(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gi=n=>n*1e3,Yi=n=>n/1e3;function T2(n,t){return t?n*(1e3/t):0}const x2=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Y5=1e-7,K5=12;function X5(n,t,e,i,s){let a,l,c=0;do l=t+(e-t)/2,a=x2(l,i,s)-n,a>0?e=l:t=l;while(Math.abs(a)>Y5&&++c<K5);return l}function Kc(n,t,e,i){if(n===t&&e===i)return ci;const s=a=>X5(a,0,1,n,e);return a=>a===0||a===1?a:x2(s(a),t,i)}const E2=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,S2=n=>t=>1-n(1-t),A2=Kc(.33,1.53,.69,.99),b_=S2(A2),w2=E2(b_),R2=n=>(n*=2)<1?.5*b_(n):.5*(2-Math.pow(2,-10*(n-1))),T_=n=>1-Math.sin(Math.acos(n)),C2=S2(T_),M2=E2(T_),Q5=Kc(.42,0,1,1),W5=Kc(0,0,.58,1),D2=Kc(.42,0,.58,1),$5=n=>Array.isArray(n)&&typeof n[0]!="number",O2=n=>Array.isArray(n)&&typeof n[0]=="number",Z5={linear:ci,easeIn:Q5,easeInOut:D2,easeOut:W5,circIn:T_,circInOut:M2,circOut:C2,backIn:b_,backInOut:w2,backOut:A2,anticipate:R2},J5=n=>typeof n=="string",tS=n=>{if(O2(n)){y_(n.length===4);const[t,e,i,s]=n;return Kc(t,e,i,s)}else if(J5(n))return Z5[n];return n},Uf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],eS={value:null};function t9(n,t){let e=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function d(y){l.has(y)&&(p.schedule(y),n()),h++,y(c)}const p={schedule:(y,v=!1,T=!1)=>{const w=T&&s?e:i;return v&&l.add(y),w.has(y)||w.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(d),t&&eS.value&&eS.value.frameloop[t].push(h),h=0,e.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const e9=40;function V2(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,l=Uf.reduce((B,q)=>(B[q]=t9(a,t?q:void 0),B),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:p,update:y,preRender:v,render:T,postRender:S}=l,w=()=>{const B=ks.useManualTiming?s.timestamp:performance.now();e=!1,ks.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(B-s.timestamp,e9),1)),s.timestamp=B,s.isProcessing=!0,c.process(s),h.process(s),d.process(s),p.process(s),y.process(s),v.process(s),T.process(s),S.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(w))},A=()=>{e=!0,i=!0,s.isProcessing||n(w)};return{schedule:Uf.reduce((B,q)=>{const F=l[q];return B[q]=($,V=!1,R=!1)=>(e||A(),F.schedule($,V,R)),B},{}),cancel:B=>{for(let q=0;q<Uf.length;q++)l[Uf[q]].cancel(B)},state:s,steps:l}}const{schedule:ye,cancel:kr,state:sn,steps:qg}=V2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let rd;function n9(){rd=void 0}const On={now:()=>(rd===void 0&&On.set(sn.isProcessing||ks.useManualTiming?sn.timestamp:performance.now()),rd),set:n=>{rd=n,queueMicrotask(n9)}},P2=n=>t=>typeof t=="string"&&t.startsWith(n),x_=P2("--"),i9=P2("var(--"),E_=n=>i9(n)?s9.test(n.split("/*")[0].trim()):!1,s9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Pc={...Tl,transform:n=>Is(0,1,n)},Ff={...Tl,default:1},cc=n=>Math.round(n*1e5)/1e5,S_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r9(n){return n==null}const a9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A_=(n,t)=>e=>!!(typeof e=="string"&&a9.test(e)&&e.startsWith(n)||t&&!r9(e)&&Object.prototype.hasOwnProperty.call(e,t)),I2=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(S_);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},o9=n=>Is(0,255,n),Gg={...Tl,transform:n=>Math.round(o9(n))},ka={test:A_("rgb","red"),parse:I2("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Gg.transform(n)+", "+Gg.transform(t)+", "+Gg.transform(e)+", "+cc(Pc.transform(i))+")"};function l9(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const qy={test:A_("#"),parse:l9,transform:ka.transform},Xc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),dr=Xc("deg"),Ki=Xc("%"),Rt=Xc("px"),u9=Xc("vh"),c9=Xc("vw"),nS={...Ki,parse:n=>Ki.parse(n)/100,transform:n=>Ki.transform(n*100)},Xo={test:A_("hsl","hue"),parse:I2("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ki.transform(cc(t))+", "+Ki.transform(cc(e))+", "+cc(Pc.transform(i))+")"},dn={test:n=>ka.test(n)||qy.test(n)||Xo.test(n),parse:n=>ka.test(n)?ka.parse(n):Xo.test(n)?Xo.parse(n):qy.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ka.transform(n):Xo.transform(n)},h9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f9(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(S_))==null?void 0:t.length)||0)+(((e=n.match(h9))==null?void 0:e.length)||0)>0}const k2="number",N2="color",d9="var",m9="var(",iS="${}",p9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ic(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(p9,h=>(dn.test(h)?(i.color.push(a),s.push(N2),e.push(dn.parse(h))):h.startsWith(m9)?(i.var.push(a),s.push(d9),e.push(h)):(i.number.push(a),s.push(k2),e.push(parseFloat(h))),++a,iS)).split(iS);return{values:e,split:c,indexes:i,types:s}}function L2(n){return Ic(n).values}function B2(n){const{split:t,types:e}=Ic(n),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=e[l];c===k2?a+=cc(s[l]):c===N2?a+=dn.transform(s[l]):a+=s[l]}return a}}const g9=n=>typeof n=="number"?0:n;function y9(n){const t=L2(n);return B2(n)(t.map(g9))}const Nr={test:f9,parse:L2,createTransformer:B2,getAnimatableNone:y9};function Yg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function _9({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,l=0;if(!t)s=a=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;s=Yg(h,c,n+1/3),a=Yg(h,c,n),l=Yg(h,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function Id(n,t){return e=>e>0?t:n}const ge=(n,t,e)=>n+(t-n)*e,Kg=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},v9=[qy,ka,Xo],b9=n=>v9.find(t=>t.test(n));function sS(n){const t=b9(n);if(!t)return!1;let e=t.parse(n);return t===Xo&&(e=_9(e)),e}const rS=(n,t)=>{const e=sS(n),i=sS(t);if(!e||!i)return Id(n,t);const s={...e};return a=>(s.red=Kg(e.red,i.red,a),s.green=Kg(e.green,i.green,a),s.blue=Kg(e.blue,i.blue,a),s.alpha=ge(e.alpha,i.alpha,a),ka.transform(s))},Gy=new Set(["none","hidden"]);function T9(n,t){return Gy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function x9(n,t){return e=>ge(n,t,e)}function w_(n){return typeof n=="number"?x9:typeof n=="string"?E_(n)?Id:dn.test(n)?rS:A9:Array.isArray(n)?z2:typeof n=="object"?dn.test(n)?rS:E9:Id}function z2(n,t){const e=[...n],i=e.length,s=n.map((a,l)=>w_(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)e[l]=s[l](a);return e}}function E9(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=w_(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function S9(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=n.indexes[a][i[a]],c=n.values[l]??0;e[s]=c,i[a]++}return e}const A9=(n,t)=>{const e=Nr.createTransformer(t),i=Ic(n),s=Ic(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Gy.has(n)&&!s.values.length||Gy.has(t)&&!i.values.length?T9(n,t):Yc(z2(S9(i,s),s.values),e):Id(n,t)};function U2(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ge(n,t,e):w_(n)(n,t)}const w9=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ye.update(t,e),stop:()=>kr(t),now:()=>sn.isProcessing?sn.timestamp:On.now()}},F2=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=n(a/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},kd=2e4;function R_(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<kd;)t+=e,i=n.next(t);return t>=kd?1/0:t}function R9(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(R_(i),kd);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Yi(s)}}const C9=5;function j2(n,t,e){const i=Math.max(t-C9,0);return T2(e-n(i),t-i)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},aS=.001;function M9({duration:n=xe.duration,bounce:t=xe.bounce,velocity:e=xe.velocity,mass:i=xe.mass}){let s,a,l=1-t;l=Is(xe.minDamping,xe.maxDamping,l),n=Is(xe.minDuration,xe.maxDuration,Yi(n)),l<1?(s=d=>{const p=d*l,y=p*n,v=p-e,T=Yy(d,l),S=Math.exp(-y);return aS-v/T*S},a=d=>{const y=d*l*n,v=y*e+e,T=Math.pow(l,2)*Math.pow(d,2)*n,S=Math.exp(-y),w=Yy(Math.pow(d,2),l);return(-s(d)+aS>0?-1:1)*((v-T)*S)/w}):(s=d=>{const p=Math.exp(-d*n),y=(d-e)*n+1;return-.001+p*y},a=d=>{const p=Math.exp(-d*n),y=(e-d)*(n*n);return p*y});const c=5/n,h=O9(s,a,c);if(n=Gi(n),isNaN(h))return{stiffness:xe.stiffness,damping:xe.damping,duration:n};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:n}}}const D9=12;function O9(n,t,e){let i=e;for(let s=1;s<D9;s++)i=i-n(i)/t(i);return i}function Yy(n,t){return n*Math.sqrt(1-t*t)}const V9=["duration","bounce"],P9=["stiffness","damping","mass"];function oS(n,t){return t.some(e=>n[e]!==void 0)}function I9(n){let t={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...n};if(!oS(n,P9)&&oS(n,V9))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Is(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:xe.mass,stiffness:s,damping:a}}else{const e=M9(n);t={...t,...e,mass:xe.mass},t.isResolvedFromDuration=!0}return t}function Nd(n=xe.visualDuration,t=xe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:d,mass:p,duration:y,velocity:v,isResolvedFromDuration:T}=I9({...e,velocity:-Yi(e.velocity||0)}),S=v||0,w=d/(2*Math.sqrt(h*p)),A=l-a,D=Yi(Math.sqrt(h/p)),P=Math.abs(A)<5;i||(i=P?xe.restSpeed.granular:xe.restSpeed.default),s||(s=P?xe.restDelta.granular:xe.restDelta.default);let B;if(w<1){const F=Yy(D,w);B=$=>{const V=Math.exp(-w*D*$);return l-V*((S+w*D*A)/F*Math.sin(F*$)+A*Math.cos(F*$))}}else if(w===1)B=F=>l-Math.exp(-D*F)*(A+(S+D*A)*F);else{const F=D*Math.sqrt(w*w-1);B=$=>{const V=Math.exp(-w*D*$),R=Math.min(F*$,300);return l-V*((S+w*D*A)*Math.sinh(R)+F*A*Math.cosh(R))/F}}const q={calculatedDuration:T&&y||null,next:F=>{const $=B(F);if(T)c.done=F>=y;else{let V=F===0?S:0;w<1&&(V=F===0?Gi(S):j2(B,F,$));const R=Math.abs(V)<=i,O=Math.abs(l-$)<=s;c.done=R&&O}return c.value=c.done?l:$,c},toString:()=>{const F=Math.min(R_(q),kd),$=F2(V=>q.next(F*V).value,F,30);return F+"ms "+$},toTransition:()=>{}};return q}Nd.applyToOptions=n=>{const t=R9(n,100,Nd);return n.ease=t.ease,n.duration=Gi(t.duration),n.type="keyframes",n};function Ky({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:p}){const y=n[0],v={done:!1,value:y},T=R=>c!==void 0&&R<c||h!==void 0&&R>h,S=R=>c===void 0?h:h===void 0||Math.abs(c-R)<Math.abs(h-R)?c:h;let w=e*t;const A=y+w,D=l===void 0?A:l(A);D!==A&&(w=D-y);const P=R=>-w*Math.exp(-R/i),B=R=>D+P(R),q=R=>{const O=P(R),k=B(R);v.done=Math.abs(O)<=d,v.value=v.done?D:k};let F,$;const V=R=>{T(v.value)&&(F=R,$=Nd({keyframes:[v.value,S(v.value)],velocity:j2(B,R,v.value),damping:s,stiffness:a,restDelta:d,restSpeed:p}))};return V(0),{calculatedDuration:null,next:R=>{let O=!1;return!$&&F===void 0&&(O=!0,q(R),V(R)),F!==void 0&&R>=F?$.next(R-F):(!O&&q(R),v)}}}function k9(n,t,e){const i=[],s=e||ks.mix||U2,a=n.length-1;for(let l=0;l<a;l++){let c=s(n[l],n[l+1]);if(t){const h=Array.isArray(t)?t[l]||ci:t;c=Yc(h,c)}i.push(c)}return i}function N9(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(y_(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=k9(t,i,s),h=c.length,d=p=>{if(l&&p<n[0])return t[0];let y=0;if(h>1)for(;y<n.length-2&&!(p<n[y+1]);y++);const v=Vc(n[y],n[y+1],p);return c[y](v)};return e?p=>d(Is(n[0],n[a-1],p)):d}function L9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Vc(0,t,i);n.push(ge(e,1,s))}}function B9(n){const t=[0];return L9(t,n.length-1),t}function z9(n,t){return n.map(e=>e*t)}function U9(n,t){return n.map(()=>t||D2).splice(0,n.length-1)}function hc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=$5(i)?i.map(tS):tS(i),a={done:!1,value:t[0]},l=z9(e&&e.length===t.length?e:B9(t),n),c=N9(l,t,{ease:Array.isArray(s)?s:U9(t,s)});return{calculatedDuration:n,next:h=>(a.value=c(h),a.done=h>=n,a)}}const F9=n=>n!==null;function C_(n,{repeat:t,repeatType:e="loop"},i,s=1){const a=n.filter(F9),c=s<0||t&&e!=="loop"&&t%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const j9={decay:Ky,inertia:Ky,tween:hc,keyframes:hc,spring:Nd};function H2(n){typeof n.type=="string"&&(n.type=j9[n.type])}class M_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const H9=n=>n/100;class D_ extends M_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:e}=this.options;e&&e.updatedAt!==On.now()&&this.tick(On.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;H2(t);const{type:e=hc,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:c}=t;const h=e||hc;h!==hc&&typeof c[0]!="number"&&(this.mixKeyframes=Yc(H9,U2(c[0],c[1])),c=[0,100]);const d=h({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=R_(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:p,repeat:y,repeatType:v,repeatDelay:T,type:S,onUpdate:w,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,q=i;if(y){const R=Math.min(this.currentTime,s)/c;let O=Math.floor(R),k=R%1;!k&&R>=1&&(k=1),k===1&&O--,O=Math.min(O,y+1),!!(O%2)&&(v==="reverse"?(k=1-k,T&&(k-=T/c)):v==="mirror"&&(q=l)),B=Is(0,1,k)*c}const F=P?{done:!1,value:p[0]}:q.next(B);a&&(F.value=a(F.value));let{done:$}=F;!P&&h!==null&&($=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return V&&S!==Ky&&(F.value=C_(p,this.options,A,this.speed)),w&&w(F.value),V&&this.finish(),F}then(t,e){return this.finished.then(t,e)}get duration(){return Yi(this.calculatedDuration)}get time(){return Yi(this.currentTime)}set time(t){var e;t=Gi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(On.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Yi(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=w9,startTime:e}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(On.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function q9(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Na=n=>n*180/Math.PI,Xy=n=>{const t=Na(Math.atan2(n[1],n[0]));return Qy(t)},G9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Xy,rotateZ:Xy,skewX:n=>Na(Math.atan(n[1])),skewY:n=>Na(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Qy=n=>(n=n%360,n<0&&(n+=360),n),lS=Xy,uS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Y9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:cS,scale:n=>(uS(n)+cS(n))/2,rotateX:n=>Qy(Na(Math.atan2(n[6],n[5]))),rotateY:n=>Qy(Na(Math.atan2(-n[2],n[0]))),rotateZ:lS,rotate:lS,skewX:n=>Na(Math.atan(n[4])),skewY:n=>Na(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Wy(n){return n.includes("scale")?1:0}function $y(n,t){if(!n||n==="none")return Wy(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=Y9,s=e;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=G9,s=c}if(!s)return Wy(t);const a=i[t],l=s[1].split(",").map(X9);return typeof a=="function"?a(l):l[a]}const K9=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return $y(e,t)};function X9(n){return parseFloat(n.trim())}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],El=new Set(xl),hS=n=>n===Tl||n===Rt,Q9=new Set(["x","y","z"]),W9=xl.filter(n=>!Q9.has(n));function $9(n){const t=[];return W9.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const za={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>$y(t,"x"),y:(n,{transform:t})=>$y(t,"y")};za.translateX=za.x;za.translateY=za.y;const Ua=new Set;let Zy=!1,Jy=!1,t0=!1;function q2(){if(Jy){const n=Array.from(Ua).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=$9(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Jy=!1,Zy=!1,Ua.forEach(n=>n.complete(t0)),Ua.clear()}function G2(){Ua.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Jy=!0)})}function Z9(){t0=!0,G2(),q2(),t0=!1}class O_{constructor(t,e,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ua.add(this),Zy||(Zy=!0,ye.read(G2),ye.resolveKeyframes(q2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&e){const c=i.readValue(e,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}q9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ua.delete(this)}cancel(){this.state==="scheduled"&&(Ua.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J9=n=>n.startsWith("--");function tB(n,t,e){J9(t)?n.style.setProperty(t,e):n.style[t]=e}const eB=__(()=>window.ScrollTimeline!==void 0),nB={};function iB(n,t){const e=__(n);return()=>nB[t]??e()}const Y2=iB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,fS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function K2(n,t){if(n)return typeof n=="function"?Y2()?F2(n,t):"ease-out":O2(n)?$u(n):Array.isArray(n)?n.map(e=>K2(e,t)||fS.easeOut):fS[n]}function sB(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:h}={},d=void 0){const p={[t]:e};h&&(p.offset=h);const y=K2(c,s);Array.isArray(y)&&(p.easing=y);const v={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),n.animate(p,v)}function X2(n){return typeof n=="function"&&"applyToOptions"in n}function rB({type:n,...t}){return X2(n)&&Y2()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aB extends M_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,y_(typeof t.type!="string");const d=rB(t);this.animation=sB(e,i,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=C_(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):tB(e,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,e;this.isPseudoElement||(e=(t=this.animation).commitStyles)==null||e.call(t)}get duration(){var e,i;const t=((i=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:i.call(e).duration)||0;return Yi(Number(t))}get time(){return Yi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Gi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&eB()?(this.animation.timeline=t,ci):e(this)}}const Q2={anticipate:R2,backInOut:w2,circInOut:M2};function oB(n){return n in Q2}function lB(n){typeof n.ease=="string"&&oB(n.ease)&&(n.ease=Q2[n.ease])}const dS=10;class uB extends aB{constructor(t){lB(t),H2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new D_({...l,autoplay:!1}),h=Gi(this.finishedTime??this.time);e.setWithVelocity(c.sample(h-dS).value,c.sample(h).value,dS),c.stop()}}const mS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Nr.test(n)||n==="0")&&!n.startsWith("url("));function cB(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function hB(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],l=mS(s,t),c=mS(a,t);return!l||!c?!1:cB(n)||(e==="spring"||X2(e))&&i}function W2(n){return v2(n)&&"offsetHeight"in n}const fB=new Set(["opacity","clipPath","filter","transform"]),dB=__(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mB(n){var d;const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:a,type:l}=n;if(!W2((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:c,transformTemplate:h}=t.owner.getProps();return dB()&&e&&fB.has(e)&&(e!=="transform"||!h)&&!c&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const pB=40;class gB extends M_{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:p,...y}){var S;super(),this.stop=()=>{var w,A;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=On.now();const v={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:p,...y},T=(p==null?void 0:p.KeyframeResolver)||O_;this.keyframeResolver=new T(c,(w,A,D)=>this.onKeyframesResolved(w,A,v,!D),h,d,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:h,isHandoff:d,onUpdate:p}=i;this.resolvedAt=On.now(),hB(t,a,l,c)||((ks.instantAnimations||!h)&&(p==null||p(C_(t,i,e))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>pB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},T=!d&&mB(v)?new uB({...v,element:v.motionValue.owner.current}):new D_(v);T.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Z9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _B(n){const t=yB.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function $2(n,t,e=1){const[i,s]=_B(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return _2(l)?parseFloat(l):l}return E_(s)?$2(s,t,e+1):s}function V_(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const Z2=new Set(["width","height","top","left","right","bottom",...xl]),vB={test:n=>n==="auto",parse:n=>n},J2=n=>t=>t.test(n),tC=[Tl,Rt,Ki,dr,c9,u9,vB],pS=n=>tC.find(J2(n));function bB(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||b2(n):!0}const TB=new Set(["brightness","contrast","saturate","opacity"]);function xB(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(S_)||[];if(!i)return n;const s=e.replace(i,"");let a=TB.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const EB=/\b([a-z-]*)\(.*?\)/gu,e0={...Nr,getAnimatableNone:n=>{const t=n.match(EB);return t?t.map(xB).join(" "):n}},gS={...Tl,transform:Math.round},SB={rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:Ff,scaleX:Ff,scaleY:Ff,scaleZ:Ff,skew:dr,skewX:dr,skewY:dr,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Pc,originX:nS,originY:nS,originZ:Rt},P_={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...SB,zIndex:gS,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:gS},AB={...P_,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:e0,WebkitFilter:e0},eC=n=>AB[n];function nC(n,t){let e=eC(n);return e!==e0&&(e=Nr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const wB=new Set(["auto","none","0"]);function RB(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!wB.has(a)&&Ic(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=nC(e,s)}class CB extends O_{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),E_(d))){const p=$2(d,e.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Z2.has(i)||t.length!==2)return;const[s,a]=t,l=pS(s),c=pS(a);if(l!==c)if(hS(l)&&hS(c))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else za[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||bB(t[s]))&&i.push(s);i.length&&RB(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=za[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=za[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function MB(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(e==null?void 0:e[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const iC=(n,t)=>t&&typeof n=="number"?t.transform(n):n,yS=30,DB=n=>!isNaN(parseFloat(n));class OB{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var l,c;const a=On.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=On.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DB(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new v_);const i=this.events[t].add(e);return t==="change"?()=>{i(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=On.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,yS);return T2(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(n,t){return new OB(n,t)}const{schedule:I_}=V2(queueMicrotask,!1),yi={x:!1,y:!1};function sC(){return yi.x||yi.y}function VB(n){return n==="x"||n==="y"?yi[n]?null:(yi[n]=!0,()=>{yi[n]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function rC(n,t){const e=MB(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function _S(n){return!(n.pointerType==="touch"||sC())}function PB(n,t,e={}){const[i,s,a]=rC(n,e),l=c=>{if(!_S(c))return;const{target:h}=c,d=t(h,c);if(typeof d!="function"||!h)return;const p=y=>{_S(y)&&(d(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const aC=(n,t)=>t?n===t?!0:aC(n,t.parentElement):!1,k_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,IB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kB(n){return IB.has(n.tagName)||n.tabIndex!==-1}const ad=new WeakSet;function vS(n){return t=>{t.key==="Enter"&&n(t)}}function Xg(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NB=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=vS(()=>{if(ad.has(e))return;Xg(e,"down");const s=vS(()=>{Xg(e,"up")}),a=()=>Xg(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function bS(n){return k_(n)&&!sC()}function LB(n,t,e={}){const[i,s,a]=rC(n,e),l=c=>{const h=c.currentTarget;if(!bS(c))return;ad.add(h);const d=t(h,c),p=(T,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),ad.has(h)&&ad.delete(h),bS(T)&&typeof d=="function"&&d(T,{success:S})},y=T=>{p(T,h===window||h===document||e.useGlobalTarget||aC(h,T.target))},v=T=>{p(T,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return i.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),W2(c)&&(c.addEventListener("focus",d=>NB(d,s)),!kB(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function oC(n){return v2(n)&&"ownerSVGElement"in n}function BB(n){return oC(n)&&n.tagName==="svg"}const yn=n=>!!(n&&n.getVelocity),zB=[...tC,dn,Nr],UB=n=>zB.find(J2(n)),lC=et.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function FB(n=!0){const t=et.useContext(m_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=et.useId();et.useEffect(()=>{if(n)return s(a)},[n]);const l=et.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,l]:[!0]}const uC=et.createContext({strict:!1}),TS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const n in TS)pl[n]={isEnabled:t=>TS[n].some(e=>!!t[e])};function jB(n){for(const t in n)pl[t]={...pl[t],...n[t]}}const HB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||HB.has(n)}let cC=n=>!Ld(n);function qB(n){n&&(cC=t=>t.startsWith("on")?!Ld(t):n(t))}try{qB(require("@emotion/is-prop-valid").default)}catch{}function GB(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(cC(s)||e===!0&&Ld(s)||!t&&!Ld(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function YB(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const hm=et.createContext({});function fm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function kc(n){return typeof n=="string"||Array.isArray(n)}const N_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],L_=["initial",...N_];function dm(n){return fm(n.animate)||L_.some(t=>kc(n[t]))}function hC(n){return!!(dm(n)||n.variants)}function KB(n,t){if(dm(n)){const{initial:e,animate:i}=n;return{initial:e===!1||kc(e)?e:void 0,animate:kc(i)?i:void 0}}return n.inherit!==!1?t:{}}function XB(n){const{initial:t,animate:e}=KB(n,et.useContext(hm));return et.useMemo(()=>({initial:t,animate:e}),[xS(t),xS(e)])}function xS(n){return Array.isArray(n)?n.join(" "):n}const QB=Symbol.for("motionComponentSymbol");function Qo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function WB(n,t,e){return et.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Qo(e)&&(e.current=i))},[t])}const B_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$B="framerAppearId",fC="data-"+B_($B),dC=et.createContext({});function ZB(n,t,e,i,s){var w,A;const{visualElement:a}=et.useContext(hm),l=et.useContext(uC),c=et.useContext(m_),h=et.useContext(lC).reducedMotion,d=et.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:a,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,y=et.useContext(dC);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&JB(d.current,e,s,y);const v=et.useRef(!1);et.useInsertionEffect(()=>{p&&v.current&&p.update(e,c)});const T=e[fC],S=et.useRef(!!T&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,T))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,T)));return q5(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),I_.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),et.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,T)}),S.current=!1))}),p}function JB(n,t,e,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d,layoutCrossfade:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:mC(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Qo(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:d})}function mC(n){if(n)return n.options.allowProjection!==!1?n.projection:mC(n.parent)}function tz({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){n&&jB(n);function a(c,h){let d;const p={...et.useContext(lC),...c,layoutId:ez(c)},{isStatic:y}=p,v=XB(c),T=i(c,y);if(!y&&d_){nz();const S=iz(p);d=S.MeasureLayout,v.visualElement=ZB(s,T,p,t,S.ProjectionNode)}return St.jsxs(hm.Provider,{value:v,children:[d&&v.visualElement?St.jsx(d,{visualElement:v.visualElement,...p}):null,e(s,c,WB(T,v.visualElement,h),T,y,v.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=et.forwardRef(a);return l[QB]=s,l}function ez({layoutId:n}){const t=et.useContext(y2).id;return t&&n!==void 0?t+"-"+n:n}function nz(n,t){et.useContext(uC).strict}function iz(n){const{drag:t,layout:e}=pl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Nc={};function sz(n){for(const t in n)Nc[t]=n[t],x_(t)&&(Nc[t].isCSSVariable=!0)}function pC(n,{layout:t,layoutId:e}){return El.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Nc[n]||n==="opacity")}const rz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},az=xl.length;function oz(n,t,e){let i="",s=!0;for(let a=0;a<az;a++){const l=xl[a],c=n[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||e){const d=iC(c,P_[l]);if(!h){s=!1;const p=rz[l]||l;i+=`${p}(${d}) `}e&&(t[l]=d)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function z_(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let l=!1,c=!1;for(const h in t){const d=t[h];if(El.has(h)){l=!0;continue}else if(x_(h)){s[h]=d;continue}else{const p=iC(d,P_[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||e?i.transform=oz(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${d} ${p}`}}const U_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gC(n,t,e){for(const i in t)!yn(t[i])&&!pC(i,e)&&(n[i]=t[i])}function lz({transformTemplate:n},t){return et.useMemo(()=>{const e=U_();return z_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function uz(n,t){const e=n.style||{},i={};return gC(i,e,n),Object.assign(i,lz(n,t)),i}function cz(n,t){const e={},i=uz(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const hz={offset:"stroke-dashoffset",array:"stroke-dasharray"},fz={offset:"strokeDashoffset",array:"strokeDasharray"};function dz(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?hz:fz;n[a.offset]=Rt.transform(-i);const l=Rt.transform(t),c=Rt.transform(e);n[a.array]=`${l} ${c}`}function yC(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(z_(n,c,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:v}=n;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),i!==void 0&&(y.scale=i),s!==void 0&&dz(y,s,a,l,!1)}const _C=()=>({...U_(),attrs:{}}),vC=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mz(n,t,e,i){const s=et.useMemo(()=>{const a=_C();return yC(a,t,vC(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};gC(a,n.style,n),s.style={...a,...s.style}}return s}const pz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F_(n){return typeof n!="string"||n.includes("-")?!1:!!(pz.indexOf(n)>-1||/[A-Z]/u.test(n))}function gz(n=!1){return(e,i,s,{latestValues:a},l)=>{const h=(F_(e)?mz:cz)(i,a,l,e),d=GB(i,typeof e=="string",n),p=e!==et.Fragment?{...d,...h,ref:s}:{},{children:y}=i,v=et.useMemo(()=>yn(y)?y.get():y,[y]);return et.createElement(e,{...p,children:v})}}function ES(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function j_(n,t,e,i){if(typeof t=="function"){const[s,a]=ES(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=ES(i);t=t(e!==void 0?e:n.custom,s,a)}return t}function od(n){return yn(n)?n.get():n}function yz({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:_z(e,i,s,n),renderState:t()}}const bC=n=>(t,e)=>{const i=et.useContext(hm),s=et.useContext(m_),a=()=>yz(n,t,i,s);return e?a():H5(a)};function _z(n,t,e,i){const s={},a=i(n,{});for(const v in a)s[v]=od(a[v]);let{initial:l,animate:c}=n;const h=dm(n),d=hC(n);t&&d&&!h&&n.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!fm(y)){const v=Array.isArray(y)?y:[y];for(let T=0;T<v.length;T++){const S=j_(n,v[T]);if(S){const{transitionEnd:w,transition:A,...D}=S;for(const P in D){let B=D[P];if(Array.isArray(B)){const q=p?B.length-1:0;B=B[q]}B!==null&&(s[P]=B)}for(const P in w)s[P]=w[P]}}}return s}function H_(n,t,e){var a;const{style:i}=n,s={};for(const l in i)(yn(i[l])||t.style&&yn(t.style[l])||pC(l,n)||((a=e==null?void 0:e.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const vz={useVisualState:bC({scrapeMotionValuesFromProps:H_,createRenderState:U_})};function TC(n,t,e){const i=H_(n,t,e);for(const s in n)if(yn(n[s])||yn(t[s])){const a=xl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const bz={useVisualState:bC({scrapeMotionValuesFromProps:TC,createRenderState:_C})};function Tz(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...F_(i)?bz:vz,preloadedFeatures:n,useRender:gz(s),createVisualElement:t,Component:i};return tz(l)}}function Lc(n,t,e){const i=n.getProps();return j_(i,t,e!==void 0?e:i.custom,n)}const n0=n=>Array.isArray(n);function xz(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,ml(e))}function Ez(n){return n0(n)?n[n.length-1]||0:n}function Sz(n,t){const e=Lc(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const l in a){const c=Ez(a[l]);xz(n,l,c)}}function Az(n){return!!(yn(n)&&n.add)}function i0(n,t){const e=n.getValue("willChange");if(Az(e))return e.add(t);if(!e&&ks.WillChange){const i=new ks.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function xC(n){return n.props[fC]}const wz=n=>n!==null;function Rz(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(wz),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[a]}const Cz={type:"spring",stiffness:500,damping:25,restSpeed:10},Mz=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Dz={type:"keyframes",duration:.8},Oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vz=(n,{keyframes:t})=>t.length>2?Dz:El.has(n)?n.startsWith("scale")?Mz(t[1]):Cz:Oz;function Pz({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:d,...p}){return!!Object.keys(p).length}const q_=(n,t,e,i={},s,a)=>l=>{const c=V_(i,n)||{},h=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Gi(h);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:a?void 0:s};Pz(c)||Object.assign(p,Vz(n,p)),p.duration&&(p.duration=Gi(p.duration)),p.repeatDelay&&(p.repeatDelay=Gi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(ks.instantAnimations||ks.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const v=Rz(p.keyframes,c);if(v!==void 0){ye.update(()=>{p.onUpdate(v),p.onComplete()});return}}return c.isSync?new D_(p):new gB(p)};function Iz({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function EC(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const p in c){const y=n.getValue(p,n.latestValues[p]??null),v=c[p];if(v===void 0||d&&Iz(d,p))continue;const T={delay:e,...V_(a||{},p)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===S&&!T.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const D=xC(n);if(D){const P=window.MotionHandoffAnimation(D,p,ye);P!==null&&(T.startTime=P,w=!0)}}i0(n,p),y.start(q_(p,y,v,n.shouldReduceMotion&&Z2.has(p)?{type:!1}:T,n,w));const A=y.animation;A&&h.push(A)}return l&&Promise.all(h).then(()=>{ye.update(()=>{l&&Sz(n,l)})}),h}function s0(n,t,e={}){var h;const i=Lc(n,t,e.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const a=i?()=>Promise.all(EC(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=s;return kz(n,t,p+d,y,v,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,p]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(e.delay)])}function kz(n,t,e=0,i=0,s=1,a){const l=[],c=(n.variantChildren.size-1)*i,h=s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(n.variantChildren).sort(Nz).forEach((d,p)=>{d.notify("AnimationStart",t),l.push(s0(d,t,{...a,delay:e+h(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function Nz(n,t){return n.sortNodePosition(t)}function Lz(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>s0(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=s0(n,t,e);else{const s=typeof t=="function"?Lc(n,t,e.custom):t;i=Promise.all(EC(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function SC(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const Bz=L_.length;function AC(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?AC(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<Bz;e++){const i=L_[e],s=n.props[i];(kc(s)||s===!1)&&(t[i]=s)}return t}const zz=[...N_].reverse(),Uz=N_.length;function Fz(n){return t=>Promise.all(t.map(({animation:e,options:i})=>Lz(n,e,i)))}function jz(n){let t=Fz(n),e=SS(),i=!0;const s=h=>(d,p)=>{var v;const y=Lc(n,p,h==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:T,transitionEnd:S,...w}=y;d={...d,...w,...S}}return d};function a(h){t=h(n)}function l(h){const{props:d}=n,p=AC(n.parent)||{},y=[],v=new Set;let T={},S=1/0;for(let A=0;A<Uz;A++){const D=zz[A],P=e[D],B=d[D]!==void 0?d[D]:p[D],q=kc(B),F=D===h?P.isActive:null;F===!1&&(S=A);let $=B===p[D]&&B!==d[D]&&q;if($&&i&&n.manuallyAnimateOnMount&&($=!1),P.protectedKeys={...T},!P.isActive&&F===null||!B&&!P.prevProp||fm(B)||typeof B=="boolean")continue;const V=Hz(P.prevProp,B);let R=V||D===h&&P.isActive&&!$&&q||A>S&&q,O=!1;const k=Array.isArray(B)?B:[B];let z=k.reduce(s(D),{});F===!1&&(z={});const{prevResolvedValues:U={}}=P,N={...U,...z},Bt=nt=>{R=!0,v.has(nt)&&(O=!0,v.delete(nt)),P.needsAnimating[nt]=!0;const ht=n.getValue(nt);ht&&(ht.liveStyle=!1)};for(const nt in N){const ht=z[nt],yt=U[nt];if(T.hasOwnProperty(nt))continue;let I=!1;n0(ht)&&n0(yt)?I=!SC(ht,yt):I=ht!==yt,I?ht!=null?Bt(nt):v.add(nt):ht!==void 0&&v.has(nt)?Bt(nt):P.protectedKeys[nt]=!0}P.prevProp=B,P.prevResolvedValues=z,P.isActive&&(T={...T,...z}),i&&n.blockInitialAnimation&&(R=!1),R&&(!($&&V)||O)&&y.push(...k.map(nt=>({animation:nt,options:{type:D}})))}if(v.size){const A={};if(typeof d.initial!="boolean"){const D=Lc(n,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(A.transition=D.transition)}v.forEach(D=>{const P=n.getBaseTarget(D),B=n.getValue(D);B&&(B.liveStyle=!0),A[D]=P??null}),y.push({animation:A})}let w=!!y.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(y):Promise.resolve()}function c(h,d){var y;if(e[h].isActive===d)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(v=>{var T;return(T=v.animationState)==null?void 0:T.setActive(h,d)}),e[h].isActive=d;const p=l(h);for(const v in e)e[v].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=SS(),i=!0}}}function Hz(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!SC(t,n):!1}function Ca(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SS(){return{animate:Ca(!0),whileInView:Ca(),whileHover:Ca(),whileTap:Ca(),whileDrag:Ca(),whileFocus:Ca(),exit:Ca()}}class Ur{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qz extends Ur{constructor(t){super(t),t.animationState||(t.animationState=jz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gz=0;class Yz extends Ur{constructor(){super(...arguments),this.id=Gz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Kz={animation:{Feature:qz},exit:{Feature:Yz}};function Bc(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Qc(n){return{point:{x:n.pageX,y:n.pageY}}}const Xz=n=>t=>k_(t)&&n(t,Qc(t));function fc(n,t,e,i){return Bc(n,t,Xz(e),i)}function wC({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function Qz({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function Wz(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const RC=1e-4,$z=1-RC,Zz=1+RC,CC=.01,Jz=0-CC,tU=0+CC;function En(n){return n.max-n.min}function eU(n,t,e){return Math.abs(n-t)<=e}function AS(n,t,e,i=.5){n.origin=i,n.originPoint=ge(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=ge(e.min,e.max,n.origin)-n.originPoint,(n.scale>=$z&&n.scale<=Zz||isNaN(n.scale))&&(n.scale=1),(n.translate>=Jz&&n.translate<=tU||isNaN(n.translate))&&(n.translate=0)}function dc(n,t,e,i){AS(n.x,t.x,e.x,i?i.originX:void 0),AS(n.y,t.y,e.y,i?i.originY:void 0)}function wS(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function nU(n,t,e){wS(n.x,t.x,e.x),wS(n.y,t.y,e.y)}function RS(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function mc(n,t,e){RS(n.x,t.x,e.x),RS(n.y,t.y,e.y)}const CS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wo=()=>({x:CS(),y:CS()}),MS=()=>({min:0,max:0}),Re=()=>({x:MS(),y:MS()});function li(n){return[n("x"),n("y")]}function Qg(n){return n===void 0||n===1}function r0({scale:n,scaleX:t,scaleY:e}){return!Qg(n)||!Qg(t)||!Qg(e)}function Va(n){return r0(n)||MC(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function MC(n){return DS(n.x)||DS(n.y)}function DS(n){return n&&n!=="0%"}function Bd(n,t,e){const i=n-e,s=t*i;return e+s}function OS(n,t,e,i,s){return s!==void 0&&(n=Bd(n,s,i)),Bd(n,e,i)+t}function a0(n,t=0,e=1,i,s){n.min=OS(n.min,t,e,i,s),n.max=OS(n.max,t,e,i,s)}function DC(n,{x:t,y:e}){a0(n.x,t.translate,t.scale,t.originPoint),a0(n.y,e.translate,e.scale,e.originPoint)}const VS=.999999999999,PS=1.0000000000001;function iU(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=e[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,DC(n,l)),i&&Va(a.latestValues)&&Zo(n,a.latestValues))}t.x<PS&&t.x>VS&&(t.x=1),t.y<PS&&t.y>VS&&(t.y=1)}function $o(n,t){n.min=n.min+t,n.max=n.max+t}function IS(n,t,e,i,s=.5){const a=ge(n.min,n.max,s);a0(n,t,e,a,i)}function Zo(n,t){IS(n.x,t.x,t.scaleX,t.scale,t.originX),IS(n.y,t.y,t.scaleY,t.scale,t.originY)}function OC(n,t){return wC(Wz(n.getBoundingClientRect(),t))}function sU(n,t,e){const i=OC(n,e),{scroll:s}=t;return s&&($o(i.x,s.offset.x),$o(i.y,s.offset.y)),i}const VC=({current:n})=>n?n.ownerDocument.defaultView:null,kS=(n,t)=>Math.abs(n-t);function rU(n,t){const e=kS(n.x,t.x),i=kS(n.y,t.y);return Math.sqrt(e**2+i**2)}class PC{constructor(t,e,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$g(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,T=rU(y.offset,{x:0,y:0})>=3;if(!v&&!T)return;const{point:S}=y,{timestamp:w}=sn;this.history.push({...S,timestamp:w});const{onStart:A,onMove:D}=this.handlers;v||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Wg(v,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=$g(y.type==="pointercancel"?this.lastMoveEventInfo:Wg(v,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,A),S&&S(y,A)},!k_(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=i,this.contextWindow=s||window;const l=Qc(t),c=Wg(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=sn;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=e;p&&p(t,$g(c,this.history)),this.removeListeners=Yc(fc(this.contextWindow,"pointermove",this.handlePointerMove),fc(this.contextWindow,"pointerup",this.handlePointerUp),fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function Wg(n,t){return t?{point:t(n.point)}:n}function NS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function $g({point:n},t){return{point:n,delta:NS(n,IC(t)),offset:NS(n,aU(t)),velocity:oU(t,.1)}}function aU(n){return n[0]}function IC(n){return n[n.length-1]}function oU(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=IC(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Gi(t)));)e--;if(!i)return{x:0,y:0};const a=Yi(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function lU(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?ge(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?ge(e,n,i.max):Math.min(n,e)),n}function LS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function uU(n,{top:t,left:e,bottom:i,right:s}){return{x:LS(n.x,e,s),y:LS(n.y,t,i)}}function BS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function cU(n,t){return{x:BS(n.x,t.x),y:BS(n.y,t.y)}}function hU(n,t){let e=.5;const i=En(n),s=En(t);return s>i?e=Vc(t.min,t.max-i,n.min):i>s&&(e=Vc(n.min,n.max-s,t.min)),Is(0,1,e)}function fU(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const o0=.35;function dU(n=o0){return n===!1?n=0:n===!0&&(n=o0),{x:zS(n,"left","right"),y:zS(n,"top","bottom")}}function zS(n,t,e){return{min:US(n,t),max:US(n,e)}}function US(n,t){return typeof n=="number"?n:n[t]||0}const mU=new WeakMap;class pU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Qc(p).point)},a=(p,y)=>{const{drag:v,dragPropagation:T,onDragStart:S}=this.getProps();if(v&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VB(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(A=>{let D=this.getAxisMotionValue(A).get()||0;if(Ki.test(D)){const{projection:P}=this.visualElement;if(P&&P.layout){const B=P.layout.layoutBox[A];B&&(D=En(B)*(parseFloat(D)/100))}}this.originPoint[A]=D}),S&&ye.postRender(()=>S(p,y)),i0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:v,dragDirectionLock:T,onDirectionLock:S,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=y;if(T&&this.currentDirection===null){this.currentDirection=gU(A),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),w&&w(p,y)},c=(p,y)=>this.stop(p,y),h=()=>li(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PC(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:VC(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ye.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!jf(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=lU(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Qo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=uU(i.layoutBox,t):this.constraints=!1,this.elastic=dU(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Qo(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=sU(i,s.root,this.visualElement.getTransformPagePoint());let l=cU(s.layout.layoutBox,a);if(e){const c=e(Qz(l));this.hasMutatedConstraints=!!c,c&&(l=wC(c))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=li(p=>{if(!jf(p,e,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const v=s?200:1e6,T=s?40:1e7,S={type:"inertia",velocity:i?t[p]:0,bounceStiffness:v,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,S)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return i0(this.visualElement,t),i.start(q_(t,i,0,e,this.visualElement,!1))}stopAnimation(){li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){li(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){li(e=>{const{drag:i}=this.getProps();if(!jf(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[e];a.set(t[e]-ge(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Qo(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};li(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=hU({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),li(l=>{if(!jf(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(ge(h,d,s[l]))})}addListeners(){if(!this.visualElement.current)return;mU.set(this.visualElement,this);const t=this.visualElement.current,e=fc(t,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Qo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(i);const l=Bc(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(li(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=o0,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function jf(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function gU(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class yU extends Ur{constructor(t){super(t),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new pU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const FS=n=>(t,e)=>{n&&ye.postRender(()=>n(t,e))};class _U extends Ur{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(t){this.session=new PC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:FS(t),onStart:FS(e),onMove:i,onEnd:(a,l)=>{delete this.session,s&&ye.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=fc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jS(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Uu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Rt.test(n))n=parseFloat(n);else return n;const e=jS(n,t.target.x),i=jS(n,t.target.y);return`${e}% ${i}%`}},vU={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Nr.parse(n);if(s.length>5)return i;const a=Nr.createTransformer(n),l=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const d=ge(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d),a(s)}};class bU extends et.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;sz(TU),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||ye.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),I_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kC(n){const[t,e]=FB(),i=et.useContext(y2);return St.jsx(bU,{...n,layoutGroup:i,switchLayoutGroup:et.useContext(dC),isPresent:t,safeToRemove:e})}const TU={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:vU};function xU(n,t,e){const i=yn(n)?n:ml(n);return i.start(q_("",i,t,e)),i.animation}const EU=(n,t)=>n.depth-t.depth;class SU{constructor(){this.children=[],this.isDirty=!1}add(t){p_(this.children,t),this.isDirty=!0}remove(t){g_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EU),this.isDirty=!1,this.children.forEach(t)}}function AU(n,t){const e=On.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(kr(i),n(a-t))};return ye.setup(i,!0),()=>kr(i)}const NC=["TopLeft","TopRight","BottomLeft","BottomRight"],wU=NC.length,HS=n=>typeof n=="string"?parseFloat(n):n,qS=n=>typeof n=="number"||Rt.test(n);function RU(n,t,e,i,s,a){s?(n.opacity=ge(0,e.opacity??1,CU(i)),n.opacityExit=ge(t.opacity??1,0,MU(i))):a&&(n.opacity=ge(t.opacity??1,e.opacity??1,i));for(let l=0;l<wU;l++){const c=`border${NC[l]}Radius`;let h=GS(t,c),d=GS(e,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||qS(h)===qS(d)?(n[c]=Math.max(ge(HS(h),HS(d),i),0),(Ki.test(d)||Ki.test(h))&&(n[c]+="%")):n[c]=d}(t.rotate||e.rotate)&&(n.rotate=ge(t.rotate||0,e.rotate||0,i))}function GS(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const CU=LC(0,.5,C2),MU=LC(.5,.95,ci);function LC(n,t,e){return i=>i<n?0:i>t?1:e(Vc(n,t,i))}function YS(n,t){n.min=t.min,n.max=t.max}function oi(n,t){YS(n.x,t.x),YS(n.y,t.y)}function KS(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function XS(n,t,e,i,s){return n-=t,n=Bd(n,1/e,i),s!==void 0&&(n=Bd(n,1/s,i)),n}function DU(n,t=0,e=1,i=.5,s,a=n,l=n){if(Ki.test(t)&&(t=parseFloat(t),t=ge(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=ge(a.min,a.max,i);n===a&&(c-=t),n.min=XS(n.min,t,e,c,s),n.max=XS(n.max,t,e,c,s)}function QS(n,t,[e,i,s],a,l){DU(n,t[e],t[i],t[s],t.scale,a,l)}const OU=["x","scaleX","originX"],VU=["y","scaleY","originY"];function WS(n,t,e,i){QS(n.x,t,OU,e?e.x:void 0,i?i.x:void 0),QS(n.y,t,VU,e?e.y:void 0,i?i.y:void 0)}function $S(n){return n.translate===0&&n.scale===1}function BC(n){return $S(n.x)&&$S(n.y)}function ZS(n,t){return n.min===t.min&&n.max===t.max}function PU(n,t){return ZS(n.x,t.x)&&ZS(n.y,t.y)}function JS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function zC(n,t){return JS(n.x,t.x)&&JS(n.y,t.y)}function tA(n){return En(n.x)/En(n.y)}function eA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class IU{constructor(){this.members=[]}add(t){p_(this.members,t),t.scheduleRender()}remove(t){if(g_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kU(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,l=(e==null?void 0:e.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:d,rotate:p,rotateX:y,rotateY:v,skewX:T,skewY:S}=e;d&&(i=`perspective(${d}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),T&&(i+=`skewX(${T}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=n.x.scale*t.x,h=n.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const Zg=["","X","Y","Z"],NU={visibility:"hidden"},LU=1e3;let BU=0;function Jg(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function UC(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=xC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ye,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&UC(i)}function FC({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t==null?void 0:t()){this.id=BU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FU),this.nodes.forEach(YU),this.nodes.forEach(KU),this.nodes.forEach(jU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new SU)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new v_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=oC(l)&&!BB(l),this.instance=l;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),n){let p;const y=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=AU(y,250),ld.hasAnimatedSinceResize&&(ld.hasAnimatedSinceResize=!1,this.nodes.forEach(iA))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||ZU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:A}=d.getProps(),D=!this.targetLayout||!zC(this.targetLayout,T),P=!y&&v;if(this.options.layoutRoot||this.resumeFrom||P||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...V_(S,"layout"),onPlay:w,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(p,P)}else y||iA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nA);return}this.isUpdating||this.nodes.forEach(qU),this.isUpdating=!1,this.nodes.forEach(GU),this.nodes.forEach(zU),this.nodes.forEach(UU),this.clearAllSnapshots();const c=On.now();sn.delta=Is(0,1e3/60,c-sn.timestamp),sn.timestamp=c,sn.isProcessing=!0,qg.update.process(sn),qg.preRender.process(sn),qg.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HU),this.sharedNodes.forEach(QU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!BC(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||Va(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),JU(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return Re();const c=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(tF))){const{scroll:p}=this.root;p&&($o(c.x,p.offset.x),$o(c.y,p.offset.y))}return c}removeElementScroll(l){var h;const c=Re();if(oi(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&oi(c,l),$o(c.x,y.offset.x),$o(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const h=Re();oi(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Zo(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Va(p.latestValues)&&Zo(h,p.latestValues)}return Va(this.latestValues)&&Zo(h,this.latestValues),h}removeTransform(l){const c=Re();oi(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Va(d.latestValues))continue;r0(d.latestValues)&&d.updateSnapshot();const p=Re(),y=d.measurePageBox();oi(p,y),WS(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Va(this.latestValues)&&WS(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),mc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),DC(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),mc(this.relativeTargetOrigin,this.target,T.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||r0(this.parent.latestValues)||MC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;oi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;iU(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Re());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KS(this.prevProjectionDelta.x,this.projectionDelta.x),KS(this.prevProjectionDelta.y,this.projectionDelta.y)),dc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!eA(this.projectionDelta.x,this.prevProjectionDelta.x)||!eA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wo(),this.projectionDelta=Wo(),this.projectionDeltaWithTransform=Wo()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},p={...this.latestValues},y=Wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Re(),T=h?h.source:void 0,S=this.layout?this.layout.source:void 0,w=T!==S,A=this.getStack(),D=!A||A.members.length<=1,P=!!(w&&!D&&this.options.crossfade===!0&&!this.path.some($U));this.animationProgress=0;let B;this.mixTargetDelta=q=>{const F=q/1e3;sA(y.x,l.x,F),sA(y.y,l.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WU(this.relativeTarget,this.relativeTargetOrigin,v,F),B&&PU(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Re()),oi(B,this.relativeTarget)),w&&(this.animationValues=p,RU(p,d,this.latestValues,F,P,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,h,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=xU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:p}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&jC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||Re();const y=En(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const v=En(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}oi(c,h),Zo(c,p),dc(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new IU),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&Jg("z",l,d,this.animationValues);for(let p=0;p<Zg.length;p++)Jg(`rotate${Zg[p]}`,l,d,this.animationValues),Jg(`skew${Zg[p]}`,l,d,this.animationValues);l.render();for(const p in d)l.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return NU;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=od(l==null?void 0:l.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=od(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=kU(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:v}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in Nc){if(p[T]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:A}=Nc[T],D=c.transform==="none"?p[T]:S(p[T],d);if(w){const P=w.length;for(let B=0;B<P;B++)c[w[B]]=D}else A?this.options.visualElement.renderState.vars[T]=D:c[T]=D}return this.options.layoutId&&(c.pointerEvents=d===this?od(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(nA),this.root.sharedNodes.clear()}}}function zU(n){n.updateLayout()}function UU(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?li(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=En(v);v.min=i[y].min,v.max=v.min+T}):jC(a,t.layoutBox,i)&&li(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],T=En(i[y]);v.max=v.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+T)});const c=Wo();dc(c,i,t.layoutBox);const h=Wo();l?dc(h,n.applyTransform(s,!0),t.measuredBox):dc(h,i,t.layoutBox);const d=!BC(c);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=Re();mc(S,t.layoutBox,v.layoutBox);const w=Re();mc(w,i,T.layoutBox),zC(S,w)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=w,n.relativeTargetOrigin=S,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function FU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function jU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function HU(n){n.clearSnapshot()}function nA(n){n.clearMeasurements()}function qU(n){n.isLayoutDirty=!1}function GU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function iA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function YU(n){n.resolveTargetDelta()}function KU(n){n.calcProjection()}function XU(n){n.resetSkewAndRotation()}function QU(n){n.removeLeadSnapshot()}function sA(n,t,e){n.translate=ge(t.translate,0,e),n.scale=ge(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function rA(n,t,e,i){n.min=ge(t.min,e.min,i),n.max=ge(t.max,e.max,i)}function WU(n,t,e,i){rA(n.x,t.x,e.x,i),rA(n.y,t.y,e.y,i)}function $U(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ZU={duration:.45,ease:[.4,0,.1,1]},aA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),oA=aA("applewebkit/")&&!aA("chrome/")?Math.round:ci;function lA(n){n.min=oA(n.min),n.max=oA(n.max)}function JU(n){lA(n.x),lA(n.y)}function jC(n,t,e){return n==="position"||n==="preserve-aspect"&&!eU(tA(t),tA(e),.2)}function tF(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const eF=FC({attachResizeListener:(n,t)=>Bc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ty={current:void 0},HC=FC({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ty.current){const n=new eF({});n.mount(window),n.setOptions({layoutScroll:!0}),ty.current=n}return ty.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nF={pan:{Feature:_U},drag:{Feature:yU,ProjectionNode:HC,MeasureLayout:kC}};function uA(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&ye.postRender(()=>a(t,Qc(t)))}class iF extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=PB(t,(e,i)=>(uA(this.node,i,"Start"),s=>uA(this.node,s,"End"))))}unmount(){}}class sF extends Ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Bc(this.node.current,"focus",()=>this.onFocus()),Bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cA(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&ye.postRender(()=>a(t,Qc(t)))}class rF extends Ur{mount(){const{current:t}=this.node;t&&(this.unmount=LB(t,(e,i)=>(cA(this.node,i,"Start"),(s,{success:a})=>cA(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const l0=new WeakMap,ey=new WeakMap,aF=n=>{const t=l0.get(n.target);t&&t(n)},oF=n=>{n.forEach(aF)};function lF({root:n,...t}){const e=n||document;ey.has(e)||ey.set(e,{});const i=ey.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(oF,{root:n,...t})),i[s]}function uF(n,t,e){const i=lF(t);return l0.set(n,e),i.observe(n),()=>{l0.delete(n),i.unobserve(n)}}const cF={some:0,all:1};class hF extends Ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:cF[s]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),v=d?p:y;v&&v(h)};return uF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(fF(t,e))&&this.startObserver()}unmount(){}}function fF({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const dF={inView:{Feature:hF},tap:{Feature:rF},focus:{Feature:sF},hover:{Feature:iF}},mF={layout:{ProjectionNode:HC,MeasureLayout:kC}},u0={current:null},qC={current:!1};function pF(){if(qC.current=!0,!!d_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>u0.current=n.matches;n.addListener(t),t()}else u0.current=!1}const gF=new WeakMap;function yF(n,t,e){for(const i in t){const s=t[i],a=e[i];if(yn(s))n.addValue(i,s);else if(yn(a))n.addValue(i,ml(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,ml(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const hA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _F{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=O_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=On.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ye.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=e.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=dm(e),this.isVariantNode=hC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const v in y){const T=y[v];h[v]!==void 0&&yn(T)&&T.set(h[v],!1)}}mount(t){this.current=t,gF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),qC.current||pF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:u0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=El.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ye.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pl){const e=pl[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<hA.length;i++){const s=hA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=yF(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=ml(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(_2(i)||b2(i))?i=parseFloat(i):!UB(i)&&Nr.test(e)&&(i=nC(t,e)),this.setBaseTarget(t,yn(i)?i.get():i)),yn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var a;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=j_(this.props,e,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!yn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new v_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class GC extends _F{constructor(){super(...arguments),this.KeyframeResolver=CB}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function YC(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}function vF(n){return window.getComputedStyle(n)}class bF extends GC{constructor(){super(...arguments),this.type="html",this.renderInstance=YC}readValueFromInstance(t,e){var i;if(El.has(e))return(i=this.projection)!=null&&i.isProjecting?Wy(e):K9(t,e);{const s=vF(t),a=(x_(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return OC(t,e)}build(t,e,i){z_(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return H_(t,e,i)}}const KC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TF(n,t,e,i){YC(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(KC.has(s)?s:B_(s),t.attrs[s])}class xF extends GC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(El.has(e)){const i=eC(e);return i&&i.default||0}return e=KC.has(e)?e:B_(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return TC(t,e,i)}build(t,e,i){yC(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){TF(t,e,i,s)}mount(t){this.isSVGTag=vC(t.tagName),super.mount(t)}}const EF=(n,t)=>F_(n)?new xF(t):new bF(t,{allowProjection:n!==et.Fragment}),SF=Tz({...Kz,...dF,...nF,...mF},EF),Hf=YB(SF);var fA=typeof window>"u"?et.useEffect:et.useLayoutEffect,AF=({isPlaying:n,duration:t,startAt:e=0,updateInterval:i=0,onComplete:s,onUpdate:a})=>{let[l,c]=et.useState(e),h=et.useRef(0),d=et.useRef(e),p=et.useRef(e*-1e3),y=et.useRef(null),v=et.useRef(null),T=et.useRef(null),S=D=>{let P=D/1e3;if(v.current===null){v.current=P,y.current=requestAnimationFrame(S);return}let B=P-v.current,q=h.current+B;v.current=P,h.current=q;let F=d.current+(i===0?q:(q/i|0)*i),$=d.current+q,V=typeof t=="number"&&$>=t;c(V?t:F),V||(y.current=requestAnimationFrame(S))},w=()=>{y.current&&cancelAnimationFrame(y.current),T.current&&clearTimeout(T.current),v.current=null},A=et.useCallback(D=>{w(),h.current=0;let P=typeof D=="number"?D:e;d.current=P,c(P),n&&(y.current=requestAnimationFrame(S))},[n,e]);return fA(()=>{if(a==null||a(l),t&&l>=t){p.current+=t*1e3;let{shouldRepeat:D=!1,delay:P=0,newStartAt:B}=(s==null?void 0:s(p.current/1e3))||{};D&&(T.current=setTimeout(()=>A(B),P*1e3))}},[l,t]),fA(()=>(n&&(y.current=requestAnimationFrame(S)),w),[n,t,i]),{elapsedTime:l,reset:A}},wF=(n,t,e)=>{let i=n/2,s=t/2,a=i-s,l=2*a,c=e==="clockwise"?"1,0":"0,1",h=2*Math.PI*a;return{path:`m ${i},${s} a ${a},${a} 0 ${c} 0,${l} a ${a},${a} 0 ${c} 0,-${l}`,pathLength:h}},dA=(n,t)=>n===0||n===t?0:typeof t=="number"?n-t:0,RF=n=>({position:"relative",width:n,height:n}),CF={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},XC=(n,t,e,i,s)=>{if(i===0)return t;let a=(s?i-n:n)/i;return t+e*a},mA=n=>{var t,e;return(e=(t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,s,a,l)=>`#${s}${s}${a}${a}${l}${l}`).substring(1).match(/.{2}/g))==null?void 0:t.map(i=>parseInt(i,16)))!=null?e:[]},MF=(n,t)=>{var e;let{colors:i,colorsTime:s,isSmoothColorTransition:a=!0}=n;if(typeof i=="string")return i;let l=(e=s==null?void 0:s.findIndex((v,T)=>v>=t&&t>=s[T+1]))!=null?e:-1;if(!s||l===-1)return i[0];if(!a)return i[l];let c=s[l]-t,h=s[l]-s[l+1],d=mA(i[l]),p=mA(i[l+1]),y=!!n.isGrowing;return`rgb(${d.map((v,T)=>XC(c,v,p[T]-v,h,y)|0).join(",")})`},DF=n=>{let{duration:t,initialRemainingTime:e,updateInterval:i,size:s=180,strokeWidth:a=12,trailStrokeWidth:l,isPlaying:c=!1,isGrowing:h=!1,rotation:d="clockwise",onComplete:p,onUpdate:y}=n,v=et.useRef(),T=Math.max(a,l??0),{path:S,pathLength:w}=wF(s,T,d),{elapsedTime:A}=AF({isPlaying:c,duration:t,startAt:dA(t,e),updateInterval:i,onUpdate:typeof y=="function"?P=>{let B=Math.ceil(t-P);B!==v.current&&(v.current=B,y(B))}:void 0,onComplete:typeof p=="function"?P=>{var B;let{shouldRepeat:q,delay:F,newInitialRemainingTime:$}=(B=p(P))!=null?B:{};if(q)return{shouldRepeat:q,delay:F,newStartAt:dA(t,$)}}:void 0}),D=t-A;return{elapsedTime:A,path:S,pathLength:w,remainingTime:Math.ceil(D),rotation:d,size:s,stroke:MF(n,D),strokeDashoffset:XC(A,0,w,t,h),strokeWidth:a}},QC=n=>{let{children:t,strokeLinecap:e,trailColor:i,trailStrokeWidth:s}=n,{path:a,pathLength:l,stroke:c,strokeDashoffset:h,remainingTime:d,elapsedTime:p,size:y,strokeWidth:v}=DF(n);return ui.createElement("div",{style:RF(y)},ui.createElement("svg",{viewBox:`0 0 ${y} ${y}`,width:y,height:y,xmlns:"http://www.w3.org/2000/svg"},ui.createElement("path",{d:a,fill:"none",stroke:i??"#d9d9d9",strokeWidth:s??v}),ui.createElement("path",{d:a,fill:"none",stroke:c,strokeLinecap:e??"round",strokeWidth:v,strokeDasharray:l,strokeDashoffset:h})),typeof t=="function"&&ui.createElement("div",{style:CF},t({remainingTime:d,elapsedTime:p,color:c})))};QC.displayName="CountdownCircleTimer";const Ho=[{question:"What is the capital of France?",answers:["Berlin","Madrid","Paris","Rome"],correct:"Paris"},{question:"Which planet is known as the Red Planet?",answers:["Earth","Mars","Jupiter","Saturn"],correct:"Mars"},{question:'Who wrote "Hamlet"?',answers:["Shakespeare","Hemingway","Fitzgerald","Austen"],correct:"Shakespeare"},{question:"What is the largest ocean?",answers:["Atlantic","Indian","Arctic","Pacific"],correct:"Pacific"},{question:"Which gas do plants absorb?",answers:["Oxygen","Nitrogen","Carbon Dioxide","Hydrogen"],correct:"Carbon Dioxide"}],OF=({duration:n})=>St.jsx(QC,{isPlaying:!0,duration:n||20,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],children:({remainingTime:t})=>t}),VF=5,pA=({isHost:n})=>{var yt;const[t,e]=et.useState(""),[i,s]=et.useState(!1),[a,l]=et.useState([]),[c,h]=et.useState("waiting"),[d,p]=et.useState(null),[y,v]=et.useState([]),[T,S]=et.useState(0),[w,A]=et.useState(null),[D,P]=et.useState(null),[B,q]=et.useState([]),[F,$]=et.useState(0),[V,R]=et.useState(!1),O=Iu(Tx,"game","current"),k=mk(Tx,"players");et.useEffect(()=>{const I=bx(O,J=>{const ot=J.data();h(ot.state),p(ot.question),v(ot.answers||[]),S(ot.timer||0),P(ot.results||null),$(ot.questionIndex||0)});return()=>I()},[]),et.useEffect(()=>{const I=bx(k,J=>{const ot=J.docs.map(at=>at.data());l(ot)});return()=>I()},[]);const z=I=>{I.preventDefault(),e(I.target.value)},U=async()=>{await Mk(Iu(k,t),{name:t,score:0,answer:null}),s(!0)},N=async()=>{const I=Ho[0];await xs(O,{state:"question",question:I.question,answers:I.answers,timer:5,results:null,questionIndex:0}),R(!0)};et.useEffect(()=>{if(T>0&&c==="question"){const I=setInterval(()=>{S(J=>J-1),xs(O,{timer:T-1})},1e3);return()=>clearInterval(I)}else T===0&&c==="question"&&vt()},[T,c]);const Bt=async I=>{A(I),await xs(Iu(k,t),{answer:I})},vt=async()=>{const I={};y.forEach(bt=>I[bt]=0);const J=await Ck(k);let ot=Ho[F].correct;for(const bt of J.docs){const pt=bt.data();pt.answer&&I[pt.answer]++,pt.answer===ot&&await xs(Iu(k,pt.name),{score:pt.score+1}),await xs(Iu(k,pt.name),{answer:null})}const at=a.length,ft=Object.fromEntries(Object.entries(I).map(([bt,pt])=>[bt,pt/at*100]));await xs(O,{results:ft,state:"result"})},Q=async()=>{const I=F+1;if(I>=Ho.length){await xs(O,{state:"final"});return}if(I%5===0){await xs(O,{state:"leaderboard",questionIndex:I});return}const J=Ho[I];await xs(O,{state:"question",question:J.question,answers:J.answers,timer:5,results:null,questionIndex:I})},nt=()=>{var ot;const I=[...a].sort((at,ft)=>ft.score-at.score),J=((ot=I[0])==null?void 0:ot.score)||1;return St.jsxs(Hf.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-xl mx-auto p-4 text-center",children:[St.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Leaderboard"}),I.map(at=>St.jsxs("div",{className:"mb-3 text-left",children:[St.jsxs("p",{className:"font-semibold",children:[at.name,": ",at.score]}),St.jsx("div",{className:"bg-green-500 h-4 rounded",style:{width:`${at.score/J*100}%`}})]},at.name)),n&&F<Ho.length&&St.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",onClick:Q,children:"Continue Game"})]})},ht=()=>{var at;const I=[...a].sort((ft,bt)=>bt.score-ft.score),J=((at=I[0])==null?void 0:at.score)||0,ot=I.filter(ft=>ft.score===J);return St.jsxs(Hf.div,{initial:{scale:.8},animate:{scale:1},className:"text-center p-6",children:[St.jsx(t5,{}),St.jsx("h2",{className:"text-3xl font-bold mb-4",children:" Final Results"}),ot.length>1?St.jsx("p",{className:"text-lg",children:"It's a draw! The winners are:"}):St.jsx("p",{className:"text-lg",children:"Congratulations to the winner:"}),St.jsx("ul",{className:"list-none mt-4",children:ot.map(ft=>St.jsxs("li",{className:"font-semibold text-xl",children:[ft.name," - ",ft.score," pts"]},ft.name))}),St.jsx(nt,{})]})};return St.jsx("div",{className:"min-h-screen bg-gray-800 flex items-center justify-center",children:St.jsx(Hf.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-xl rounded-xl p-6",children:!i&&!n?St.jsxs("div",{className:"space-y-4 text-center",children:[St.jsx("h1",{className:"text-2xl font-bold",children:"Enter your name to join"}),St.jsx("input",{className:"border p-2 rounded w-full",placeholder:"Enter username",onChange:z}),St.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:U,children:"Join"})]}):St.jsxs("div",{children:[!n&&St.jsx("h1",{className:"text-xl font-bold mb-4 absolute top-10 left-10",children:t}),n&&!V&&St.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded w-full my-2",onClick:N,children:"Start Game"}),c==="waiting"&&St.jsx("p",{className:"text-center text-gray-600",children:"Waiting for game to start..."}),c==="question"&&St.jsxs("div",{children:[St.jsx(Hf.h2,{className:"text-2xl font-bold mb-2",children:d}),St.jsx(OF,{duration:VF}),St.jsx("div",{className:"mt-4 w-full",children:!n&&y.map(I=>St.jsx("button",{className:"bg-blue-200 hover:bg-blue-300 p-2 rounded w-full my-2",onClick:()=>Bt(I),children:I},I))})]}),c==="result"&&St.jsxs("div",{children:[St.jsx("h2",{className:"text-xl font-bold mb-2",children:"Results"}),St.jsx(q6,{data:{labels:Object.keys(D||{}),datasets:[{label:"Answer %",data:Object.values(D||{}),backgroundColor:"rgba(75,192,192,0.6)"}]}}),n&&St.jsxs("div",{children:["Correct Answer: ",(yt=Ho[F])==null?void 0:yt.correct]}),n&&St.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded w-full",onClick:Q,children:"Next Question"})]}),c==="leaderboard"&&St.jsx(nt,{}),c==="final"&&St.jsx(ht,{})]})})})},PF=()=>St.jsx(j5,{children:St.jsxs(z5,{children:[St.jsx(jy,{path:"/host",element:St.jsx(pA,{isHost:!0})}),St.jsx(jy,{path:"/guest",element:St.jsx(pA,{isHost:!1})})]})});PD.createRoot(document.getElementById("root")).render(St.jsx(et.StrictMode,{children:St.jsx(PF,{})}));
